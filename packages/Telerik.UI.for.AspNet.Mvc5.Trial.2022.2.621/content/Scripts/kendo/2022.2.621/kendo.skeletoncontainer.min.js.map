{"version":3,"file":"kendo.skeletoncontainer.min.js","sources":["kendo.skeletoncontainer.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.skeletoncontainer',[ \"kendo.core\"], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"skeletoncontainer\",\n    name: \"SkeletonContainer\",\n    category: \"web\",\n    depends: [ \"core\"]\n};\n\n(function($) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        WAVE_ANIMATION = \"k-skeleton-wave\",\n        PULSE_ANIMATION = \"k-skeleton-pulse\",\n        WRAPPER_CLASS = \"k-skeleton-container\";\n\n    var SkeletonContainer = Widget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            $.cssNumber.gridColumnStart = true;\n            $.cssNumber.gridColumnEnd = true;\n            $.cssNumber.gridRowStart = true;\n            $.cssNumber.gridRowEnd = true;\n\n            that.element = $(element).addClass(WRAPPER_CLASS);\n\n            that._setWrapperStyles();\n            that._initItems();\n            that._initTemplate();\n            that._aria();\n        },\n\n        options: {\n            name: \"SkeletonContainer\",\n            animation: \"pulse\",\n            grid: null,\n            template: null,\n            height: \"\",\n            width: \"\"\n        },\n\n        setOptions: function(options) {\n            kendo.deepExtend(this.options, options);\n            this.element.empty();\n            this.init(this.element, this.options);\n        },\n\n        getOptions: function() {\n            var result = $.extend(true, {}, this.options);\n\n            return result;\n        },\n\n        _aria: function() {\n            var element = this.element;\n\n            element.attr({\n                \"role\": \"alert\",\n                \"aria-live\": \"polite\",\n                \"aria-label\": kendo.ui.progress.messages.loading\n            });\n        },\n\n        _initItems: function() {\n            if (!this.options.grid) {\n                return;\n            }\n\n            var that = this;\n            var grid = that.options.grid;\n            var items = grid.items;\n            var shape;\n            var settings;\n            var item;\n\n            for (var i = 0; i < items.length; i++) {\n                settings = items[i];\n                item = $(\"<div></div>\");\n\n                shape = settings.shape.toLowerCase();\n\n                item\n                    .css({\n                        \"grid-column\": kendo.format(\"{0} / span {1}\",settings.colStart, settings.colSpan),\n                        \"grid-row\": kendo.format(\"{0} / span {1}\",settings.rowStart, settings.rowSpan)\n                    })\n\t\t\t\t\t.addClass(\"k-skeleton\")\n                    .addClass(kendo.format(\"k-skeleton-{0}\", shape === \"rectangle\" ? \"rect\" : shape));\n\n                item.appendTo(that.element);\n            }\n        },\n\n        _initTemplate: function() {\n            if (!this.options.template || this.options.grid) {\n                return;\n            }\n\n            var template = kendo.template(this.options.template)({});\n\n            template = template\n                    .replace(/data-animation/gi, \"k-skeleton\")\n                    .replace(/data-shape/gi, \"k-skeleton\")\n                    .replace(/k-skeleton-rectangle/gi, \"k-skeleton-rect\");\n\n            this.element.append(template);\n\n            this._addClasses();\n        },\n\n        _addClasses: function() {\n            var shapes = [\"circle\", \"rect\", \"text\"];\n            var animations = [\"wave\", \"pulse\"];\n\n            for (var i = 0; i < shapes.length; i++) {\n                this.element\n                    .find(\"[k-skeleton-\" + shapes[i] + \"]\")\n                    .removeAttr(\"k-skeleton-\" + shapes[i])\n                    .addClass(\"k-skeleton k-skeleton-\" + shapes[i] + \"\");\n            }\n\n            for (var j = 0; j < animations.length; j++) {\n                this.element\n                    .find(\"[k-skeleton-\" + animations[j] + \"]\")\n                    .removeAttr(\"k-skeleton-\" + animations[j])\n                    .addClass(\"k-skeleton-\" + animations[j] + \"\");\n            }\n        },\n\n        _setWrapperStyles: function() {\n            var that = this;\n            var options = that.options;\n            var grid = options.grid;\n            var animation = options.animation.toLowerCase();\n\n            if (grid) {\n                that.element\n                    .css({\n                        \"grid-template-columns\": kendo.format(\"repeat({0}, 1fr)\", grid.columns),\n                        \"grid-template-rows\": kendo.format(\"repeat({0}, 1fr)\", grid.rows),\n                        \"column-gap\": (grid.gap || {}).columns,\n                        \"row-gap\": (grid.gap || {}).rows\n                    })\n                    .addClass(\"k-d-grid\");\n            }\n\n            that.element.css({\n                \"width\": typeof options.width === \"string\" ? options.width : options.width + \"px\",\n                \"height\": typeof options.height === \"string\" ? options.height : options.height + \"px\"\n            });\n\n            if (animation !== \"none\") {\n                that.element.addClass(animation == \"wave\" ? WAVE_ANIMATION : PULSE_ANIMATION);\n            }\n        }\n    });\n\n    ui.plugin(SkeletonContainer);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","depends","$","window","kendo","jQuery","ui","Widget","WAVE_ANIMATION","PULSE_ANIMATION","WRAPPER_CLASS","SkeletonContainer","extend","init","element","options","that","this","fn","call","cssNumber","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","addClass","_setWrapperStyles","_initItems","_initTemplate","_aria","animation","grid","template","height","width","setOptions","deepExtend","empty","getOptions","result","attr","role","aria-live","aria-label","progress","messages","loading","items","shape","settings","item","i","length","toLowerCase","css","grid-column","format","colStart","colSpan","grid-row","rowStart","rowSpan","appendTo","replace","append","_addClasses","shapes","animations","find","removeAttr","j","grid-template-columns","columns","grid-template-rows","rows","column-gap","gap","row-gap","plugin","amd","a1","a2","a3"],"mappings":"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"}