{"version":3,"file":"kendo.filemanager.min.js","sources":["kendo.filemanager.js"],"sourcesContent":["(function(f, define) {\n    define('filemanager/commands',[\"kendo.core\"], f);\n})(function() {\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            extend = $.extend,\n            deferred = $.Deferred,\n            Class = kendo.Class;\n\n        var Command = Class.extend({\n            init: function(options) {\n                this.options = options;\n                this.filemanager = options.filemanager;\n            }\n        });\n\n        var CreateFolderCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    dataSource = filemanager._viewDataSource || filemanager.dataSource,\n                    removeProxy = that._remove.bind(that);\n\n                that._item = dataSource._createNewModel();\n\n                commandStack.push({ item: that._item.toJSON() }).fail(removeProxy);\n                dataSource.add(that._item);\n            },\n            _remove: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    dataSource = filemanager._viewDataSource || filemanager.dataSource;\n\n                dataSource.pushDestroy(that._item);\n            }\n        });\n\n        var RenameCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    target = that.options.target,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    viewItem = filemanager._view.widgetComponent.dataItem(target);\n\n                if (target && viewItem) {\n                    commandStack.push({ target: target, item: viewItem });\n                    that.filemanager._view.edit(target);\n                } else {\n                    that._renameTreeViewItem(target);\n                }\n            },\n            _renameTreeViewItem: function(target) {\n                var that = this,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    uid = target.data(\"uid\"),\n                    item = that.filemanager.treeView.widgetComponent.dataSource.getByUid(uid),\n                    realItem = that.filemanager.dataSource.get(item.id);\n\n                that.filemanager._prompt({\n                    type: \"rename\",\n                    defaultInput: realItem.name,\n                    target: target\n                }).done(function(newName) {\n                    commandStack.push({ target: target, item: realItem });\n                    realItem.set(\"name\", newName);\n                });\n            }\n        });\n\n        var DeleteCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    target = that.options.target,\n                    filemanager = that.filemanager,\n                    items = filemanager.getSelected(),\n                    viewItem = that.filemanager._view.widgetComponent.dataItem(target),\n                    itemsToRemove;\n\n                if (target && target.is(\".k-state-selected\") && items && items.length) {\n                    itemsToRemove = items;\n                } else if (target && viewItem) {\n                    itemsToRemove = viewItem;\n                } else if (target) {\n                    var uid = target.data(\"uid\");\n                    var item = that.filemanager.treeView.widgetComponent.dataSource.getByUid(uid);\n                    var realItem = that.filemanager.dataSource.get(item.id);\n\n                    itemsToRemove = realItem;\n                }\n\n                filemanager._confirm({\n                    type: \"delete\",\n                    target: target\n                })\n                .done(function() {\n                    that.removeItems(itemsToRemove);\n                });\n            },\n            removeItems: function(items) {\n                var that = this;\n\n                that._itemsToRemove = Array.isArray(items) ? items : [items];\n\n                that._removeItem();\n            },\n            _removeItem: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    dataSource = filemanager.dataSource,\n                    itemToRemove = !!that._itemsToRemove.length && that._itemsToRemove.splice(0,1)[0];\n\n                if (itemToRemove) {\n                    commandStack.push({ item: itemToRemove })\n                        .then(that._removeItem.bind(that), that._removeItem.bind(that));\n\n                    dataSource.remove(itemToRemove);\n                }\n            }\n        });\n\n        var CopyCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                filemanager = that.filemanager,\n                dataSource = filemanager.dataSource,\n                commandStack = filemanager._commandStack,\n                items = that.options.items,\n                target = dataSource.get(that.options.target),\n                targetDataSource = target.children;\n\n                for (var i = 0; i < items.length; i++) {\n                    var item = dataSource.get(items[i]).toJSON();\n                    item.fileManagerNewItem = true;\n                    commandStack.push({ item: item, target: target });\n                    targetDataSource.add(item);\n                }\n            }\n        });\n\n        var MoveCommand = Command.extend({\n            init: function(options) {\n                var that = this;\n                Command.fn.init.call(that, options);\n                that._itemsToRemove = [];\n            },\n            exec: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    dataSource = filemanager.dataSource,\n                    items = that.options.items,\n                    target = dataSource.get(that.options.target),\n                    targetDataSource = target.children,\n                    promises = [];\n\n                for (var i = 0; i < items.length; i++) {\n                    var item = dataSource.get(items[i]);\n                    var cloning = item.toJSON();\n                    cloning.fileManagerNewItem = true;\n\n                    var promise = commandStack.push({ item: item, target: target })\n                        .then(that._delete.bind(that));\n\n                        promises.push(promise);\n                        targetDataSource.add(cloning);\n                }\n\n                kendo.whenAll(promises).always(that._removeItem.bind(that));\n            },\n            _delete: function(data) {\n                var that = this;\n                that._itemsToRemove.push(data.item);\n            },\n            _removeItem: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    commandStack = filemanager._commandStack,\n                    dataSource = filemanager.dataSource,\n                    itemToRemove = !!that._itemsToRemove.length && that._itemsToRemove.splice(0,1)[0];\n\n                if (itemToRemove) {\n                    commandStack.push({ item: itemToRemove })\n                        .then(that._removeItem.bind(that), that._removeItem.bind(that));\n\n                    dataSource.remove(itemToRemove);\n                }\n            }\n        });\n\n        var SortCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    filemanager = that.filemanager,\n                    sortOptions = filemanager.defaultSortOption;\n\n                extend(sortOptions, {\n                    dir: options.dir,\n                    field: options.field\n                });\n\n                filemanager._view.widgetComponent.dataSource.sort([ filemanager.folderSortOption, sortOptions ]);\n            }\n        });\n\n        var SearchCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    filemanager = that.filemanager,\n                    filter = {\n                        field: options.field,\n                        operator: options.operator,\n                        value: options.value\n                    };\n\n                filemanager._view.widgetComponent.dataSource.filter(filter);\n            }\n        });\n\n        var ChangeViewCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    filemanager = that.filemanager;\n\n                filemanager.view(options.value);\n                filemanager.resize(true);\n            }\n        });\n\n        var OpenDialogCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    dialog = filemanager[that.options.type];\n\n                if (dialog) {\n                    dialog.open();\n                } else {\n                    window.console.warn(kendo.format(\"The {0} dialog is not available!\", that.options.type));\n                }\n            }\n        });\n\n        var TogglePaneCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    pane = filemanager[that.options.type],\n                    resizable = that.getResizable();\n\n                if (pane) {\n                    pane.toggle();\n\n                    if (resizable) {\n                        filemanager.wrapper\n                            .find(resizable.options.handle)\n                            .toggle();\n                    }\n                }\n            },\n            getResizable: function() {\n                var that = this,\n                    filemanager = that.filemanager,\n                    type = that.options.type;\n\n                if (!filemanager._resizeDraggable) {\n                    return;\n                }\n\n                return filemanager._resizeDraggable[type];\n            }\n        });\n\n        var CommandStack = Class.extend({\n            init: function() {\n                var that = this;\n\n                that._stack = {};\n                that._keys = [];\n            },\n            push: function(data) {\n                var that = this,\n                    guid = kendo.guid();\n\n                that._keys.push(guid);\n                that._stack[guid] = {\n                    guid: guid,\n                    data: data,\n                    deferred: deferred()\n                };\n\n                return that._stack[guid].deferred;\n            },\n            next: function() {\n                var that = this,\n                    key = that.keys().splice(0,1),\n                    nextCommand = that._stack[key];\n\n                return nextCommand;\n            },\n            resolve: function(command) {\n                var that = this;\n                delete that._stack[command.guid];\n                command.deferred.resolve(command.data);\n            },\n            reject: function(command) {\n                var that = this;\n                delete that._stack[command.guid];\n                command.deferred.reject(command.data);\n            },\n            keys: function() {\n                return this._keys;\n            },\n            empty: function() {\n                return this.keys().length === 0;\n            }\n        });\n\n        extend(kendo.ui, {\n            filemanager: {\n                FileManagerCommand: Command,\n                CommandStack: CommandStack,\n                commands: {\n                    CreateFolderCommand: CreateFolderCommand,\n                    RenameCommand: RenameCommand,\n                    DeleteCommand: DeleteCommand,\n                    MoveCommand: MoveCommand,\n                    CopyCommand: CopyCommand,\n                    SortCommand: SortCommand,\n                    SearchCommand: SearchCommand,\n                    ChangeViewCommand: ChangeViewCommand,\n                    OpenDialogCommand: OpenDialogCommand,\n                    TogglePaneCommand: TogglePaneCommand\n                }\n            }\n        });\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n(function(f, define) {\n    define('filemanager/view',[\"kendo.listview\", \"kendo.treeview\"], f);\n})(function() {\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        extend = $.extend,\n        keys = kendo.keys,\n\n        NAVIGATE = \"navigate\",\n        SELECT = \"select\",\n        EXPAND = \"expand\",\n        CHANGE = \"change\",\n        OPEN = \"open\",\n        LOAD = \"load\",\n        KEYDOWN = \"keydown\",\n        KEYDOWNACTION = \"keydownAction\",\n\n        NS = \".kendoFileManagerViewComponent\",\n\n        fileManagerDraggables = [],\n        fileManagerDragOrigin = null;\n\n    var registerViewComponent = function(componentName, component) {\n        ui.filemanager.ViewComponents[componentName] = component;\n    };\n\n    var getViewComponent = function(componentName) {\n        return ui.filemanager.ViewComponents[componentName] || null;\n    };\n\n    var Component = Observable.extend({\n        init: function(widget, element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            if (widget) {\n                that.widgetComponent = new widget(element, options);\n            } else {\n                throw new Error(\"The widget for the ViewComponent is not available! Please add the corresponding scripts!\");\n            }\n\n            Observable.fn.init.call(that);\n        },\n\n        _bindEvents: function() {\n            this.widgetComponent.bind(\"dataBinding\", this._binding.bind(this));\n            this.widgetComponent.bind(\"dataBound\", this._bound.bind(this));\n        },\n\n        _binding: function(ev) {\n            if (this.trigger(\"dataBinding\", ev)) {\n                ev.preventDefault();\n            }\n        },\n\n        _bound: function() {\n            this.trigger(\"dataBound\");\n        },\n\n        _setDSOptions: function(options, dataSourceOptions) {\n            if (!options.dataSource && dataSourceOptions) {\n                options.dataSource = dataSourceOptions;\n            }\n        },\n\n        _initDragAndDrop: function(element, filter) {\n            var that = this;\n\n            filter = filter || that.options.dropFilter;\n            element = element || that.element;\n\n            that.draggable = element.kendoDraggable({\n                filter: filter,\n                hint: that._hint.bind(that),\n                cursorOffset: { top: -10, left: -50 },\n                holdToDrag: true,\n                ignore: \"input, .k-focusable\",\n                hold: that._hold.bind(that)\n            }).data(\"kendoDraggable\");\n\n            that.draggable.userEvents.minHold = 150;\n\n            that.droptarget = element.kendoDropTargetArea({\n                filter: filter,\n                drop: that._onDrop.bind(that),\n                dragenter: function(ev) {\n                    ev.dropTarget.addClass(\"k-filemanager-drop-target\");\n                },\n                dragleave: function(ev) {\n                    ev.dropTarget.removeClass(\"k-filemanager-drop-target\");\n                }\n            }).data(\"kendoDraggable\");\n        },\n\n        _hold: function(ev) {\n            var that = this,\n                target = ev.currentTarget;\n\n            if (!target.is(\".k-state-selected\")) {\n                if (that.widgetComponent.selectable) {\n                    that.widgetComponent.selectable.clear();\n                }\n                that.widgetComponent.select(target);\n            }\n\n            if (that.widgetComponent.selectable) {\n                that.widgetComponent.selectable.userEvents.cancel();\n            }\n        },\n\n        _hint: function(target) {\n            var that = this,\n                item = that.widgetComponent.dataItem(target),\n                selectedItems = that.widgetComponent.select();\n\n            fileManagerDragOrigin = that.widgetComponent;\n            fileManagerDraggables = selectedItems;\n\n            if (selectedItems.length > 1) {\n                return kendo.format(\"<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1} {2}</span></div>\", \"file\", selectedItems.length, that.options.messages.items);\n            }\n\n            return kendo.format(\"<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1}</span></div>\", (item.isDirectory ? \"folder\" : \"file\"), item.name);\n        },\n\n        _onDrop: function(ev) {\n            var that = this,\n                target = that.widgetComponent.dataItem(ev.dropTarget),\n                targetId = target.id,\n                itemIds = [];\n\n            if (!target.isDirectory) {\n                return;\n            }\n\n            for (var i = 0; i < fileManagerDraggables.length; i++) {\n                var id = fileManagerDragOrigin.dataItem(fileManagerDraggables[i]).id;\n                itemIds.push(id);\n            }\n\n            this.trigger(\"drop\",{ target: targetId, items: itemIds });\n        },\n\n        getSelected: function() {\n            throw new Error(\"Not Implemented!\");\n        },\n\n        refresh: function(dataSource) {\n            this.widgetComponent.setDataSource(dataSource);\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n        }\n    });\n\n    extend(kendo.ui.filemanager, {\n            ViewComponent: Component,\n            ViewComponents: {},\n            registerViewComponent: registerViewComponent,\n            getViewComponent: getViewComponent\n        }\n    );\n\n    var ListView = Component.extend({\n        init: function(element, options, explicitOptions) {\n            var that = this,\n                dataSourceOptions = explicitOptions.dataSource,\n                messages = explicitOptions.messages; // jshint ignore:line\n\n            options = extend({}, that.defaultOptions, options, {\n                messages: messages\n            });\n\n            that._setDSOptions(options, dataSourceOptions);\n            options.kendoKeydown = options.kendoKeydown || that._kendoKeydown.bind(that);\n\n            Component.fn.init.call(this, ui.ListView, element, options);\n\n            that.listView = that.widgetComponent;\n            that._bindEvents();\n\n            if (explicitOptions.draggable !== false && !dataSourceOptions.isLocalBinding) {\n                that._initDragAndDrop();\n            }\n        },\n\n        defaultOptions: {\n            layout: \"flex\",\n            flex: {\n                direction: \"row\",\n                wrap: \"wrap\"\n            },\n            selectable: kendo.support.mobileOS ? \"row\" : \"multiple\",\n            template: \"<div class='k-listview-item' title='#:name##:extension#'>\" +\n                            \"<div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div>\" +\n                            \"<div class='k-file-name file-name'>#:name##:extension#</div>\" +\n                      \"</div>\",\n            editTemplate: \"<div class='k-listview-item'>\" +\n                                \"<div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div>\" +\n                                \"<div class='k-file-name'><span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input type='text' class='k-input-inner' data-bind='value:name' name='name' required='required' /><span></div>\" +\n                          \"</div>\",\n            dropFilter: \".k-listview-item\",\n            navigatable: true\n        },\n\n        _bindEvents: function() {\n            var that = this,\n                listView = that.listView;\n\n            listView.bind(CHANGE, that._select.bind(that));\n            listView.element.on(\"dblclick\" + NS, that._dblClick.bind(that));\n            listView.element.on(\"mousedown\" + NS, \".k-listview-item:not(.k-edit-item)\", that._mousedown.bind(that));\n            listView.element.on(KEYDOWN + NS, \".k-edit-item\", that._keydown.bind(that));\n            listView.element.on(KEYDOWN + NS, that._keydownAction.bind(that));\n\n            listView.bind(\"edit\", function(ev) {\n                var sender = ev.sender;\n                var input = ev.item.find(\"input\");\n\n                input.on(\"blur\", function() {\n                    var isDirty = sender._modelFromElement(sender.editable.element).dirty;\n                    sender._closeEditable();\n                    if (!isDirty) {\n                        that.trigger(\"cancel\");\n                    }\n                });\n            });\n\n            listView.bind(\"cancel\", function() {\n                that.trigger(\"cancel\");\n            });\n\n            Component.fn._bindEvents.call(this);\n        },\n\n        _select: function() {\n            var that = this,\n                dataItems = that.getSelected();\n\n            that.trigger(SELECT, { entries: dataItems });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n            if (ev.keyCode === kendo.keys.ESC) {\n                that.listView._closeEditable();\n                that.trigger(\"cancel\");\n            }\n        },\n\n        _keydownAction: function(ev) {\n            var that = this,\n                target = $(ev.target).find(\".k-state-focused\");\n\n            if (target.length && !target.is(\".k-edit-item\")) {\n                that.trigger(KEYDOWNACTION, { target: target, keyCode: ev.keyCode });\n            }\n        },\n\n        _mousedown: function(ev) {\n            var that = this,\n                node = $(ev.target).closest(\".k-listview-item\");\n\n            if (ev.which === 3 && !node.is(\".k-state-selected\")) {\n                that.listView.selectable.clear();\n                that.listView.select(node);\n            }\n        },\n\n        _kendoKeydown: function(ev) {\n            var that = this;\n\n            if (ev.keyCode === keys.ENTER && !ev.preventKendoKeydown) {\n                that._handleEnterKey(ev);\n            }\n        },\n\n        _handleEnterKey: function(ev) {\n            var that = this,\n                target = $(ev.target),\n                node = that.listView.current();\n\n            if (that.widgetComponent.editable && target.is(\"input\")) {\n                // Force blur to update item and close editable (cross browser)\n                target.trigger(\"blur\");\n            } else if (!that.widgetComponent.editable) {\n                that._triggerOpen(node);\n            }\n\n            ev.preventKendoKeydown = true;\n        },\n\n        _dblClick: function(ev) {\n            var that = this,\n                node = $(ev.target).closest(\".k-listview-item\");\n\n            that._triggerOpen(node);\n        },\n\n        _triggerOpen: function(node) {\n            var that = this;\n\n            if (node.is(\".k-edit-item\")) {\n                return;\n            }\n\n            var item = that.listView.dataItem(node);\n\n            if (item) {\n                that.trigger(OPEN, { entry: item });\n            }\n        },\n\n        addFolder: function() {\n            this.listView.add();\n        },\n\n        edit: function(target) {\n            var that = this,\n                selected = that.listView.select();\n\n            that.listView.edit(target || selected);\n        },\n\n        getSelected: function() {\n            var that = this,\n            items = that.listView.select(),\n            dataItems = [];\n\n            for (var i = 0; i < items.length; i++) {\n                var item = that.listView.dataItem(items[i]);\n\n                if (item) {\n                    dataItems.push(item);\n                }\n            }\n\n            return dataItems;\n        },\n\n        destroy: function() {\n            this.listView.element.off(NS);\n            Component.fn.destroy.call(this);\n        }\n    });\n\n    ui.filemanager.registerViewComponent(\"list\", ListView);\n\n    var TreeView = Component.extend({\n        init: function(element, options, explicitOptions) {\n            var that = this,\n                messages = explicitOptions.messages; // jshint ignore:line\n\n            options = extend({}, that.defaultOptions, options, {\n                messages: messages\n            });\n\n            Component.fn.init.call(this, ui.TreeView, element, options);\n\n            that.treeView = that.widgetComponent;\n            that._bindEvents();\n\n            if (explicitOptions.draggable !== false && !explicitOptions.isLocalBinding) {\n                that._initDragAndDrop();\n            }\n        },\n\n        defaultOptions: {\n            dataTextField: \"name\",\n            dropFilter: \".k-item\"\n        },\n\n        _refreshDataSource: function(ev) {\n            var that = this,\n                treeView = that.treeView,\n                action = ev.action,\n                node = ev.node,\n                parentNode = null,\n                treeEl = treeView.element,\n                activeDescendant = treeEl.attr(\"aria-activedescendant\"),\n                items = ev.items.filter(function(item) {\n                    return item.isDirectory;\n                }).map(function(item) {\n                    return extend({}, item.toJSON(), {\n                        id: item.id || kendo.guid(),\n                        hasChildren: item.hasChildren,\n                        items: []\n                    });\n                });\n\n            if (node) {\n                parentNode = treeView.findByUid(treeView.dataSource.get(node.id).uid);\n                treeView._progress(parentNode, false);\n            }\n\n            if (!items.length) {\n                return;\n            }\n\n            if (action == \"itemloaded\" || (parentNode && action === \"sync\")) {\n                parentNode.find(\".k-item\").each(function(index, item) {\n                    treeView.remove(item);\n                });\n                treeView.append(items, parentNode);\n\n                if (that._shouldFocus) {\n                    treeView.current(parentNode);\n                    treeView.focus();\n                }\n            } else if (action == \"remove\") {\n                this._remove(items[0].id);\n            } else if (action == \"itemchange\") {\n                var existingItem = treeView.dataSource.get(items[0].id);\n\n                if (existingItem) {\n                    existingItem.set(ev.field, items[0][ev.field]);\n                } else {\n                    treeView.append(items[0], parentNode);\n                }\n            } else if (!treeView.dataSource.data().length) {\n                treeView.append(items);\n            } else if (action === \"sync\" || (action === undefined && !parentNode)) {\n                treeView.items().each(function(index, item) {\n                    treeView.remove(item);\n                });\n                treeView.append(items);\n\n                if (that._shouldFocus) {\n                    treeView.current(treeView._nextVisible($()));\n                    treeView.focus();\n                }\n            }\n\n            if (!!activeDescendant && treeEl.find(\"#\" + activeDescendant).length === 0) {\n                treeEl.removeAttr(\"aria-activedescendant\");\n            }\n        },\n\n        _remove: function(id) {\n            var that = this,\n                treeView = that.treeView,\n                dataSource = treeView.dataSource,\n                item = dataSource.get(id),\n                node;\n\n            if (item) {\n                node = treeView.findByUid(item.uid);\n                treeView.remove(node);\n            }\n        },\n\n        _bindEvents: function() {\n            var that = this;\n\n            that.treeView.bind(SELECT, that._navigate.bind(that));\n            that.treeView.bind(EXPAND, that._expand.bind(that));\n            that.treeView.element.on(KEYDOWN, that._keydownAction.bind(that));\n        },\n\n        _keydownAction: function(ev) {\n            var that = this,\n                target = $(ev.target).find(\".k-focus\").closest(\".k-item\");\n\n            that.trigger(KEYDOWNACTION, { target: target, keyCode: ev.keyCode });\n        },\n\n        _expand: function(ev) {\n            var that = this,\n                treeView = that.treeView,\n                entry = treeView.dataItem(ev.node);\n\n            ev.preventDefault();\n            that.trigger(LOAD, { entryId: entry.id });\n        },\n\n        _navigate: function(ev) {\n            var that = this,\n                node = ev.node,\n                entry = that.treeView.dataItem(node),\n                path = entry.id;\n\n            ev.preventDefault();\n\n            that.trigger(NAVIGATE, { path: path, entry: entry.toJSON() });\n        },\n\n        _hold: $.noop,\n\n        getSelected: function() {\n            var that = this,\n                selectedItem = that.treeView.element.find(\".k-selected\").closest(\".k-item\"),\n                item = that.treeView.dataItem(selectedItem);\n\n            return item;\n        },\n\n        refresh: function(id) {\n            var that = this,\n                treeView = that.treeView,\n                entry = treeView.dataSource.get(id),\n                node = entry && treeView.findByUid(entry.uid);\n\n            if (entry && node) {\n                treeView.element.find(\".k-selected\").removeClass(\"k-selected\");\n                node.find(\"> div .k-in\").removeClass(\"k-hover\").addClass(\"k-selected\");\n            }\n        },\n\n        reload: function() {\n            this.treeView.dataSource.read();\n        }\n    });\n\n    ui.filemanager.registerViewComponent(\"tree\", TreeView);\n\n    if (kendo.ui.Grid) {\n        var Grid = Component.extend({\n            init: function(element, options, explicitOptions) {\n                var that = this,\n                    dataSourceOptions = explicitOptions.dataSource,\n                    messages = explicitOptions.messages;\n\n                options = extend({}, that.defaultOptions, options, {\n                    messages: messages\n                });\n\n                that._setDSOptions(options, dataSourceOptions);\n                that._setupColumns(options, messages);\n                options.kendoKeydown = options.kendoKeydown || that._kendoKeydown.bind(that);\n\n                Component.fn.init.call(this, ui.Grid, element, options);\n\n                that.grid = that.widgetComponent;\n                that._bindEvents();\n\n                if (explicitOptions.draggable !== false && !dataSourceOptions.isLocalBinding) {\n                    that._initDragAndDrop();\n                }\n            },\n\n            defaultOptions: {\n                selectable: kendo.support.mobileOS ? \"row\" : \"multiple\",\n                editable: {\n                    mode: \"inline\",\n                    confirmation: false\n                },\n                sortable: true,\n                dropFilter: \"tr:not(.k-grid-edit-row)\",\n                navigatable: true\n            },\n\n            _setupColumns: function(options, messages) {\n                if (!options.columns) {\n                    options.columns = [\n                        { field: \"name\", title: messages.nameField || \"Name\", template: function(item) {\n                            var icon = !item.isDirectory ? kendo.getFileGroup(item.extension, true) : \"folder\";\n\n                            var template = \"<div class='file-group-icon'>\" +\n                                                \"<span class='k-icon k-i-\" + icon + \"'></span>\" +\n                                            \"</div>\" +\n                                            \"<div class='file-name'>\" + kendo.htmlEncode(item.name + item.extension) + \"<div>\";\n\n                            return template;\n                        } },\n                        { field: \"created\", title: messages.dateCreatedField , format: \"{0:G}\" },\n                        { field: \"size\", title: messages.sizeField, template: function(item) {\n                            if (item.size > 0) {\n                                return kendo.getFileSizeMessage(item.size);\n                            } else {\n                                return \"\";\n                            }\n                        } }\n                    ];\n                }\n            },\n\n            _bindEvents: function() {\n                var that = this,\n                    grid = that.grid;\n\n                grid.bind(CHANGE, that._select.bind(that));\n                grid.table.on(\"dblclick\" + NS, that._dblClick.bind(that));\n                grid.table.on(\"mousedown\" + NS, \"tr:not(.k-grid-edit-row)\", that._mousedown.bind(that));\n                grid.table.on(KEYDOWN + NS, \".k-grid-edit-row\", that._keydown.bind(that));\n                grid.table.on(KEYDOWN + NS, that._keydownAction.bind(that));\n\n                grid.bind(\"edit\", function() {\n                    that._toggleFocusable(true);\n                });\n\n                grid.bind(\"cancel\", function() {\n                    that.trigger(\"cancel\");\n                });\n\n                grid.saveRow = $.noop;\n\n                Component.fn._bindEvents.call(this);\n            },\n\n            _kendoKeydown: function(ev) {\n                var that = this,\n                    current = that.grid.current(),\n                    node = current ? current.closest(\"tr[data-uid]\") : null;\n\n                if (node && ev.keyCode === keys.ENTER && !ev.preventKendoKeydown) {\n                    that._triggerOpen(node);\n                    ev.preventKendoKeydown = true;\n                }\n\n                if (ev.keyCode === keys.F2) {\n                    ev.preventKendoKeydown = true;\n                }\n            },\n\n            _keydownAction: function(ev) {\n                var that = this,\n                    target = $(ev.target).find(\".k-state-focused\").closest(\"tr\");\n\n                if (target.length && !target.is(\".k-grid-edit-row\")) {\n                    that.trigger(KEYDOWNACTION, { target: target, keyCode: ev.keyCode });\n                }\n            },\n\n            _keydown: function(ev) {\n                var that = this,\n                    grid = that.grid;\n\n                if (!$(ev.target).closest(\".k-grid-edit-row\").length) {\n                    return;\n                }\n\n                if (ev.keyCode === kendo.keys.ENTER) {\n                    setTimeout(function() {\n                        var editorContainer = that.grid._editContainer || $();\n\n                        // force blur event for inputs\n                        editorContainer.find(\"input\").trigger(\"blur\");\n\n                        that._closeEditable();\n                    });\n\n                    that._tryCancel();\n                }\n\n                if (ev.keyCode === kendo.keys.ESC) {\n                    grid.cancelChanges();\n                    that.trigger(\"cancel\");\n                }\n            },\n\n            _mousedown: function(ev) {\n                var that = this,\n                    node = $(ev.target).closest(\"tr[data-uid]\");\n\n                if (ev.which === 1 && that.grid.editable) {\n                    setTimeout(function() {\n                        that._closeEditable();\n                    });\n\n                    that._tryCancel();\n                }\n\n                if (ev.which === 3 && !node.is(\".k-state-selected\")) {\n                    that.grid.selectable.clear();\n                    that.grid.select(node);\n                }\n            },\n\n            _tryCancel: function() {\n                var that = this,\n                    grid = that.grid,\n                    container;\n\n                if (grid.editable) {\n                    container = grid._editContainer;\n                    if (!container.find(\"input\").val()) {\n                        grid.cancelChanges();\n                    }\n                }\n\n                setTimeout(function() {\n                    that._toggleFocusable(false);\n                });\n\n            },\n\n            _toggleFocusable: function(state) {\n                var that = this,\n                    grid = that.grid;\n\n                grid.table.find(\"tr,td\").children().addBack().toggleClass(\"k-focusable\", state);\n            },\n\n            _closeEditable: function() {\n                var that = this,\n                    container;\n\n                if (that.grid.editable && !that.grid.editable.options.model.dirty) {\n                    container = that.grid._editContainer;\n                    that.grid._destroyEditable();\n                    that.grid._displayRow(container);\n                    that.trigger(\"cancel\");\n                }\n            },\n\n            _select: function() {\n                var that = this,\n                    dataItems = that.getSelected();\n\n                that.trigger(SELECT, { entries: dataItems });\n            },\n\n            _dblClick: function(ev) {\n                var that = this,\n                    node = $(ev.target).closest(\"tr[data-uid]\");\n\n                that._triggerOpen(node);\n            },\n\n            _triggerOpen: function(node) {\n                var that = this;\n\n                if (node.is(\".k-grid-edit-row\")) {\n                    return;\n                }\n\n                var item = that.grid.dataItem(node);\n\n                if (item) {\n                    that.trigger(OPEN, { entry: item });\n                }\n            },\n\n            getSelected: function() {\n                var that = this,\n                items = that.grid.select(),\n                dataItems = [];\n\n                for (var i = 0; i < items.length; i++) {\n                    dataItems.push(that.grid.dataItem(items[i]));\n                }\n\n                return dataItems;\n            },\n\n            addFolder: function() {\n                this.grid.addRow();\n            },\n\n            edit: function(target) {\n                var that = this,\n                    selected = that.grid.select();\n\n                that.grid.editRow(target || selected);\n            },\n\n            destroy: function() {\n                this.grid.table.off(NS);\n                this.grid.element.off(NS);\n                Component.fn.destroy.call(this);\n            }\n        });\n\n        ui.filemanager.registerViewComponent(\"grid\", Grid);\n    }\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('filemanager/toolbar',[\"kendo.toolbar\", \"kendo.switch\"], f);\n})(function() {\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        ToolBar = kendo.ui.ToolBar,\n        Item = kendo.toolbar.Item,\n\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        CLOSE = \"close\",\n        ACTION = \"action\",\n        CHANGE = \"change\",\n        NS = \".fileManagerToolbar\";\n\n    var FileManagerToolBar = ToolBar.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that._extendOptions(options);\n\n            ToolBar.fn.init.call(that, element, options);\n\n            that._attachEvents();\n        },\n\n        events: ToolBar.fn.events.concat([\n            ACTION\n        ]),\n\n        defaultTools: {\n            createFolder: { type: \"button\", text: \"New Folder\", name: \"createFolder\", command: \"CreateFolderCommand\", rules: \"{ \\\"remote\\\": true }\" },\n            upload: { type: \"button\", text: \"Upload\", name: \"upload\", command: \"OpenDialogCommand\", options: \"{ \\\"type\\\": \\\"uploadDialog\\\" }\", rules: \"{ \\\"remote\\\": true }\" },\n            sortDirection: { type: \"buttonGroup\", text: \"Sort Direction\", name: \"sortDirection\",\n                buttons: [\n                    { name: \"sortDirectionAsc\", icon: \"sort-asc-sm\", togglable: true, group: \"sortDirection\", command: \"SortCommand\", options: \"{ \\\"dir\\\": \\\"asc\\\" }\", selected: true },\n                    { name: \"sortDirectionDesc\", icon: \"sort-desc-sm\", togglable: true, group: \"sortDirection\", command: \"SortCommand\", options: \"{ \\\"dir\\\": \\\"desc\\\" }\" }\n                ]\n            },\n            sortField: { type: \"splitButton\", text: \"Sort By\", name: \"sortField\", command: \"SortCommand\", menuButtons: [\n                { name: \"nameField\", text: \"Name\", options: \"{\\\"field\\\": \\\"name\\\"}\", command: \"SortCommand\" },\n                { name: \"typeField\", text: \"Type\", options: \"{\\\"field\\\": \\\"extension\\\"}\", command: \"SortCommand\" },\n                { name: \"sizeField\", text: \"Size\", options: \"{\\\"field\\\": \\\"size\\\"}\", command: \"SortCommand\" },\n                { name: \"dateCreatedField\", text: \"Date created\", options: \"{\\\"field\\\": \\\"createdUtc\\\"}\", command: \"SortCommand\" },\n                { name: \"dateModifiedField\", text: \"Date modified\", options: \"{\\\"field\\\": \\\"modifiedUtc\\\"}\", command: \"SortCommand\" }\n            ] },\n            changeView: { type: \"buttonGroup\", text: \"Change View\", name: \"changeView\",\n                buttons: [\n                    { name: \"gridView\", icon: \"grid-layout\", togglable: true, group: \"changeView\", command: \"ChangeViewCommand\", options: \"grid\" },\n                    { name: \"listView\", icon: \"grid\", togglable: true, group: \"changeView\", command: \"ChangeViewCommand\", options: \"list\" }\n                ]\n            },\n            spacer: { type: \"spacer\" },\n            details: { type: \"fileManagerDetailsToggle\", text: \"View Details\", name: \"details\", overflow: \"never\", command: \"TogglePaneCommand\", options: \"{ \\\"type\\\": \\\"preview\\\" }\" },\n            search: { type: \"fileManagerSearch\", text: \"Search\", name: \"search\", command: \"SearchCommand\", icon: \"search\", overflow: \"never\", options: \"{ \\\"field\\\": \\\"name\\\", \\\"operator\\\": \\\"startswith\\\" }\" }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.bind(TOGGLE, that._click.bind(that));\n            that.bind(CLOSE, that._click.bind(that));\n            that.bind(CLICK, that._click.bind(that));\n            that.bind(CHANGE, that._change.bind(that));\n        },\n\n        _extendOptions: function(options) {\n            var that = this,\n                tools = options.items ? options.items : Object.keys(that.defaultTools);\n\n            that.options = options;\n\n            that.options.items = that._extendToolsOptions(tools);\n        },\n\n        _extendToolsOptions: function(tools) {\n            var that = this,\n                messages = that.options.messages;\n\n            if (!tools.length) {\n                return;\n            }\n\n            return tools.map(function(tool) {\n                var isBuiltInTool = $.isPlainObject(tool) && Object.keys(tool).length === 1 && tool.name,\n                    toolOptions, toolRules, attributes;\n\n                tool = isBuiltInTool ? tool.name : tool;\n                toolOptions = $.isPlainObject(tool) ? tool : extend({}, that.defaultTools[tool]);\n                toolRules = toolOptions.rules ? JSON.parse(toolOptions.rules) : {};\n                attributes = {\n                    \"aria-label\": messages[toolOptions.name],\n                    \"title\": messages[toolOptions.name],\n                    \"data-command\": toolOptions.command,\n                    \"data-options\": toolOptions.options\n                };\n\n                if (toolOptions.type === \"fileManagerDetailsToggle\") {\n                    delete attributes[\"aria-label\"];\n                }\n\n                kendo.deepExtend(toolOptions, {\n                    id: toolOptions.name + \"-\" + kendo.guid(),\n                    name: toolOptions.name,\n                    text: messages[toolOptions.name],\n                    attributes: attributes,\n                    overflow: toolOptions.overflow\n                });\n\n                if (toolOptions.type === \"buttonGroup\") {\n                    delete toolOptions.attributes[\"aria-label\"];\n                    toolOptions.buttons = toolOptions.buttons.map(that._mapButtonGroups.bind(that));\n                }\n\n                if (toolOptions.type === \"splitButton\") {\n                    toolOptions.menuButtons = toolOptions.menuButtons.map(that._mapMenuButtons.bind(that));\n                }\n\n                if (toolRules.remote && that.options.filemanager.dataSource.isLocalBinding) {\n                    toolOptions.hidden = true;\n                }\n\n                return toolOptions;\n            }, that);\n        },\n\n        _mapButtonGroups: function(button) {\n            var that = this,\n                messages = that.options.messages;\n\n            if (button.group === \"changeView\" && button.options === that.options.filemanager.options.initialView) {\n                button.selected = true;\n            }\n\n            return kendo.deepExtend(button,{\n                attributes: extend({}, button.attributes, {\n                    \"aria-label\": messages[button.name],\n                    \"title\": messages[button.name],\n                    \"data-command\": button.command,\n                    \"data-options\": button.options\n                })\n            });\n        },\n\n        _mapMenuButtons: function(button) {\n            var that = this,\n                messages = that.options.messages;\n\n            return kendo.deepExtend(button,{\n                text: messages[button.name],\n                attributes: extend({}, button.attributes, {\n                    \"aria-label\": messages[button.name],\n                    \"title\": messages[button.name],\n                    \"data-command\": button.command,\n                    \"data-options\": button.options\n                })\n            });\n        },\n\n        _click: function(ev) {\n            var command = $(ev.target).data(\"command\"),\n                options = $(ev.target).data(\"options\");\n\n            if (!command) {\n                return;\n            }\n\n            this.action({\n                command: command,\n                options: options\n            });\n        },\n\n        _change: function(ev) {\n            var command = $(ev.target).data(\"command\"),\n                options = $(ev.target).data(\"options\");\n\n            options = extend({}, options, { value: $(ev.target).val() });\n\n            if (!command) {\n                return;\n            }\n\n            this.action({\n                command: command,\n                options: options\n            });\n        },\n\n        isToolEnabled: function(toolName) {\n            var that = this,\n                options = that.options,\n                found = false;\n\n            for (var i = 0; i < options.items.length; i++) {\n                if (options.items[i].name == toolName) {\n                    found = true;\n                    break;\n                }\n            }\n\n            return options.items[toolName] || found;\n        },\n\n        action: function(args) {\n            this.trigger(ACTION, args);\n        },\n\n        destroy: function() {\n            if (this.fileManagerSearch) {\n                this.fileManagerSearch.destroy();\n            }\n\n            ToolBar.fn.destroy.call(this);\n        }\n    });\n\n    var SearchTool = Item.extend({\n        init: function(options, toolbar) {\n            var that = this,\n                element = $(\"<div class='k-filemanager-search-tool'></div>\"),\n                input = $(\"<input class='k-input-inner' autocomplete='off' />\"),\n                icon = $(\"<span class='k-input-icon k-icon k-i-search'/>\"),\n                inputWrapper = $('<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\"></span>');\n\n\n            that.element = element;\n            that.input = input;\n            that.icon = icon;\n            that.options = options;\n            that.options.type = \"fileManagerSearch\";\n            that.toolbar = toolbar;\n\n            that.attributes();\n            that.renderIcon();\n            that.addUidAttr();\n            that.addIdAttr();\n            that.addOverflowAttr();\n\n            that.input.attr({\n                placeholder: that.options.text,\n                title: that.options.text\n            });\n\n            inputWrapper.append(icon).append(that.input);\n            that.element.append(inputWrapper);\n\n            that._bindEvents();\n            that.toolbar.fileManagerSearch = that;\n        },\n        attributes: function() {\n            if (this.options.attributes) {\n                this.input.attr(this.options.attributes);\n            }\n        },\n        renderIcon: function() {\n            if (this.options.icon) {\n                this.icon.addClass(\"k-icon k-i-\" + this.options.icon);\n            }\n        },\n        _bindEvents: function() {\n            this._inputHandler = this._input.bind(this);\n            this.input.on(\"input\" + NS, this._inputHandler);\n        },\n        _input: function(ev) {\n            this.toolbar.trigger(CHANGE, { target: ev.target });\n        },\n        destroy: function() {\n            this.element.off(NS);\n        }\n    });\n\n    kendo.toolbar.registerComponent(\"fileManagerSearch\", SearchTool);\n\n    var FileManagerDetailsToggle = Item.extend({\n        init: function(options, toolbar) {\n            var that = this,\n                element = $(\"<div class='k-filemanager-details-toggle'></div>\"),\n                label = $(\"<label>\" + options.text + \"</label>\"),\n                switchElement = $(\"<input title='\" + options.text + \"' />\");\n\n            that.element = element;\n            that.input = switchElement;\n            that.label = label;\n            that.options = options;\n            that.toolbar = toolbar;\n\n            that.attributes();\n            that.addUidAttr();\n            that.addIdAttr();\n            that.addOverflowAttr();\n\n            that.element.append(that.label);\n            that.element.append(that.input);\n\n            that.input.attr(\"aria-label\", options.text);\n\n            that.switchInstance = new kendo.ui.Switch(that.input, {\n                change: that._change.bind(that),\n                messages: {\n                    checked: toolbar.options.messages.detailsChecked,\n                    unchecked: toolbar.options.messages.detailsUnchecked\n                }\n            });\n\n            that.label.on(CLICK + NS, that._click.bind(that));\n\n            that.toolbar.fileManagerDetailsToggle = that;\n        },\n        _change: function(ev) {\n            this.toolbar.trigger(CHANGE, { target: ev.sender.wrapper.parent() });\n        },\n        _click: function(ev) {\n            this.switchInstance.toggle();\n\n            this.toolbar.trigger(CHANGE, { target: $(ev.target).parent() });\n        },\n        destroy: function() {\n            this.element.off(NS);\n        }\n    });\n\n    kendo.toolbar.registerComponent(\"fileManagerDetailsToggle\", FileManagerDetailsToggle);\n\n    extend(kendo.ui.filemanager, {\n        ToolBar: FileManagerToolBar\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n(function(f, define) {\n    define('filemanager/data',[\"kendo.data\"], f);\n})(function() {\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        data = kendo.data,\n        Node = data.Node,\n        HierarchicalDataSource = data.HierarchicalDataSource,\n        DataSource = data.DataSource;\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"filemanager\": {\n                data: function(data) {\n                    return data.items || data || [];\n                },\n                model: {\n                    id: \"path\",\n                    hasChildren: \"hasDirectories\",\n                    fields: {\n                        name: { editable: true, type: \"string\", defaultValue: \"New Folder\" },\n                        size: { editable: false, type: \"number\" },\n                        path: { editable: false, type: \"string\" },\n                        extension: { editable: false, type: \"string\" },\n                        isDirectory: { editable: false, defaultValue: true, type: \"boolean\" },\n                        hasDirectories: { editable: false, defaultValue: false, type: \"boolean\" },\n                        created: { type: \"date\", editable: false },\n                        createdUtc: { type: \"date\", editable: false },\n                        modified: { type: \"date\", editable: false },\n                        modifiedUtc: { type: \"date\", editable: false }\n                    }\n                }\n            }\n        }\n    });\n\n    var FileEntry = Node.define({\n        init: function(value) {\n            var that = this,\n                isDirectory = this.isDirectory;\n\n            Node.fn.init.call(this, value);\n\n            if (typeof isDirectory === \"string\") {\n            isDirectory = kendo.getter(isDirectory);\n            }\n\n            if (kendo.isFunction(isDirectory)) {\n                var isDirectoryObject = isDirectory.call(that, that);\n\n                if (isDirectoryObject && isDirectoryObject.length === 0) {\n                    that.isDirectory = false;\n                } else {\n                    that.isDirectory = !!isDirectoryObject;\n                }\n            }\n\n            if (that.isDirectory) {\n                that._initChildren();\n            }\n        },\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof kendo.data.FileManagerDataSource)) {\n                children = that.children = new kendo.data.FileManagerDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    if (type === \"read\" || type === \"create\") {\n                        data.target = that.id;\n                    }\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function() {\n                    return that;\n                };\n\n                children.bind(\"change\", function(e) {\n                    e.node = e.node || that;\n                    that.trigger(\"change\", e);\n                });\n\n                children.bind(\"error\", function(e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(\"error\", e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n        isNew: function() {\n            if (this.fileManagerNewItem) {\n                delete this.fileManagerNewItem;\n                return true;\n            }\n\n            return this.id === this._defaultId;\n        }\n    });\n\n\n    var FileManagerDataSource = HierarchicalDataSource.extend({\n        init: function(options) {\n            var fileEntry = FileEntry.define({\n                children: options\n            });\n\n            if (options.filter && !options.serverFiltering) {\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, $.extend(true, {}, { schema: { modelBase: fileEntry, model: fileEntry } }, options));\n\n            this.isLocalBinding = this.transport instanceof kendo.data.LocalTransport;\n\n            this._attachBubbleHandlers();\n        },\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                if (model && model.isDirectory) {\n                    parentNode.hasDirectories = true;\n                }\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n        remove: function(node) {\n            var that = this,\n                parentNode = node.parentNode(),\n                dataSource = that,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            that._cleanDestroyed(node);\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && (dataSource.data() && !dataSource.data().length)) {\n                parentNode.hasChildren = false;\n            } else if (parentNode && !this._hasDirectories(parentNode)) {\n                parentNode.hasDirectories = false;\n            }\n\n            return result;\n        },\n        _cleanDestroyed: function(node) {\n            var that = this,\n                dataSource = that;\n\n            if (node.parentNode && node.parentNode()) {\n                node = node.parentNode();\n                dataSource = node.children;\n                dataSource._destroyed = [];\n                that._cleanDestroyed(node);\n            } else {\n                dataSource._destroyed = [];\n            }\n        },\n        _hasDirectories: function(node) {\n            var result;\n\n            if (!node.children.data()) {\n                return false;\n            }\n\n            result = node.children.data().filter(function(item) {\n                return item.isDirectory;\n            });\n\n            return !!result.length;\n        }\n    });\n\n    FileManagerDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof FileManagerDataSource ? dataSource : new FileManagerDataSource(dataSource);\n    };\n\n    kendo.observableFileManagerData = function(array) {\n        var dataSource = FileManagerDataSource.create({\n            data: array,\n            schema: kendo.data.schemas.filemanager\n        });\n\n        dataSource.fetch();\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n    extend(kendo.data, {\n        FileManagerDataSource: FileManagerDataSource,\n        FileEntry: FileEntry\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n(function(f, define) {\n    define('filemanager/contextmenu',[\"kendo.menu\"], f);\n})(function() {\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        template = kendo.template,\n        ContextMenu = kendo.ui.ContextMenu,\n\n        ACTION = \"action\";\n\n    var FileManagerContextMenu = ContextMenu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ContextMenu.fn.init.call(that, element, options);\n\n            that._overrideTemplates();\n            that._restrictDefaultItems();\n            that._extendItems();\n\n            that.bind(\"select\", that._onSelect.bind(that));\n            that.bind(\"open\", that._onOpen.bind(that));\n        },\n\n        _overrideTemplates: function() {\n            this.templates.sprite = template(\"#if(spriteCssClass) {#<span class='#= spriteCssClass #'></span>#}#\");\n        },\n\n        _restrictDefaultItems: function() {\n            var that = this;\n\n            if (that.options.isLocalBinding) {\n                that.defaultItems = {};\n            }\n        },\n\n        defaultItems: {\n            \"rename\": { text: \"Rename\", spriteCssClass: \"k-icon k-i-edit\", command: \"RenameCommand\" },\n            \"delete\": { text: \"Delete\", spriteCssClass: \"k-icon k-i-delete\", command: \"DeleteCommand\" }\n        },\n\n        events: ContextMenu.fn.events.concat([\n            ACTION\n        ]),\n\n        _extendItems: function() {\n            var that = this,\n                items = that.options.items,\n                item, isBuiltInTool;\n\n            if (items && items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    item = items[i];\n                    isBuiltInTool = $.isPlainObject(item) && Object.keys(item).length === 1 && item.name;\n\n                    if (isBuiltInTool) {\n                        item = item.name;\n                    }\n\n                    if ($.isPlainObject(item) ) {\n                        that._extendItem(item);\n                        that.append(item);\n                    } else if (that.defaultItems[item]) {\n                        item = that.defaultItems[item];\n                        that._extendItem(item);\n                        that.append(item);\n                    }\n                }\n            } else {\n                for (var key in that.defaultItems) {\n                    item = that.defaultItems[key];\n                    that._extendItem(item);\n                    that.append(item);\n                }\n            }\n        },\n\n        _extendItem: function(item) {\n            var that = this,\n                messages = that.options.messages;\n\n            extend(item, {\n                text: messages[item.text],\n                spriteCssClass: item.spriteCssClass || \"\",\n                attr: {\n                    \"data-command\": item.command\n                }\n            });\n        },\n\n        _onSelect: function(ev) {\n            var command = $(ev.item).data(\"command\");\n            var target = $(ev.target);\n\n            if (!command) {\n                return;\n            }\n\n            this.action({\n                command: command,\n                options: { target: target }\n            });\n        },\n\n        _onOpen: function(ev) {\n            var menu = ev.sender,\n                items = menu.options.items;\n\n            if (!items && $.isEmptyObject(this.defaultItems)) {\n                ev.preventDefault();\n            }\n        },\n\n        action: function(args) {\n            this.trigger(ACTION, args);\n        }\n    });\n\n    extend(kendo.ui.filemanager, {\n        ContextMenu: FileManagerContextMenu\n    });\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n    }, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n(function(f, define) {\n    define('kendo.filemanager',[\n        \"./filemanager/commands\",\n        \"./filemanager/view\",\n        \"./filemanager/toolbar\",\n        \"./filemanager/data\",\n        \"./filemanager/contextmenu\",\n\n        \"kendo.breadcrumb\",\n        \"kendo.upload\",\n        \"kendo.dialog\",\n        \"kendo.resizable\"\n    ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"filemanager\",\n    name: \"FileManager\",\n    category: \"web\",\n    description: \"The FileManager widget displays offers file management functionality.\",\n    depends: [ \"core\", \"data\", \"listview\", \"toolbar\", \"breadcrumb\", \"menu\", \"treeview\", \"upload\", \"dialog\", \"switch\", \"resizable\", \"selectable\", \"editable\" ],\n    features: [{\n        id: \"filemanager-grid-view\",\n        name: \"GridView\",\n        description: \"Support for GridView\",\n        depends: [ \"grid\" ]\n    }]\n};\n\n(function($, undefined) {\n    var ui = kendo.ui,\n        extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        isArray = Array.isArray,\n        DataBoundWidget = ui.DataBoundWidget,\n        template = kendo.template,\n        outerHeight = kendo._outerHeight,\n\n        NAVIGATE = \"navigate\",\n        SELECT = \"select\",\n        OPEN = \"open\",\n        ERROR = \"error\",\n        CHANGE = \"change\",\n        UPLOAD = \"upload\",\n        SUCCESS = \"success\",\n        CLOSE = \"close\",\n        HIDE = \"hide\",\n        LOAD = \"load\",\n        DATABINDING = \"dataBinding\",\n        DATABOUND = \"dataBound\",\n        DROP = \"drop\",\n        EXECUTE = \"execute\",\n        COMMAND = \"command\",\n        KEYDOWNACTION = \"keydownAction\",\n        CANCEL = \"cancel\",\n\n        TREE_TYPE = \"tree\",\n        DOT = \".\";\n\n    var fileManagerStyles = {\n        wrapper: \"k-widget k-filemanager\",\n        header: \"k-filemanager-header\",\n        navigation: \"k-filemanager-navigation\",\n        contentContainer: \"k-filemanager-content-container\",\n        content: \"k-filemanager-content\",\n        preview: \"k-filemanager-preview\",\n        toolbar: \"k-filemanager-toolbar\",\n        treeview: \"k-filemanager-treeview\",\n        breadcrumb: \"k-filemanager-breadcrumb\",\n        view: \"k-filemanager-view\",\n        grid: \"k-filemanager-grid\",\n        list: \"k-filemanager-listview\",\n        upload: \"k-filemanager-upload\",\n        uploadDialog: \"k-filemanager-upload-dialog\",\n        splitBar: \"k-splitbar\",\n        splitBarHorizontal: \"k-splitbar-horizontal k-splitbar-draggable-horizontal\",\n        splitBarHover: \"k-splitbar-horizontal-hover\",\n        splitBarIcon: \"k-icon k-resize-handle\",\n        splitBarNavigation: \"k-filemanager-splitbar-navigation\",\n        splitBarPreview: \"k-filemanager-splitbar-preview\",\n        resizable: \"k-filemanager-resizable\"\n    };\n\n    var fileManagerTemplateStyles = {\n        filePreview: \"k-file-preview\",\n        fileInfo: \"k-file-info\",\n        fileName: \"k-file-name\",\n        fileMeta: \"k-file-meta\",\n        metaLabel: \"k-file-meta-label\",\n        metaValue: \"k-file-meta-value\",\n        extension: \"k-file-type\",\n        size: \"k-file-size\",\n        created: \"k-file-created\",\n        modified: \"k-file-modified\"\n    };\n\n    var viewTypes = {\n        grid: \"grid\",\n        list: \"list\"\n    };\n\n    var NO_FILE_PREVIEW_TEMPLATE = '' +\n        '<div class=\"#:styles.fileInfo#\">' +\n            '<div class=\"#:styles.filePreview#\">' +\n                '<span class=\"k-file-icon k-icon k-i-none\"></span>' +\n            '</div>' +\n            '<span class=\"#:styles.fileName#\" k-no-file-selected>#: messages.noFileSelected #</span>' +\n        '</div>';\n\n    var SINGLE_FILES_PREVIEW_TEMPLATE = '' +\n        '<div class=\"#:styles.fileInfo#\">' +\n            '<div class=\"#:styles.filePreview#\">' +\n                '<span class=\"k-file-icon k-icon k-i-#: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension, true) : \"folder\" #\"></span>' +\n            '</div>' +\n            '<span class=\"#:styles.fileName#\">#:selection[0].name#</span>' +\n            '#if(metaFields){#' +\n                '<dl class=\"#:styles.fileMeta#\">' +\n                    '#for(var i = 0; i < metaFields.length; i+=1){#' +\n                        '#var field = metaFields[i]#' +\n                        '<dt class=\"#:styles.metaLabel#\">#:messages[field]#: </dt>' +\n                        '<dd class=\"#:styles.metaValue# #:styles[field]#\">' +\n                            '#if(field == \"size\"){#' +\n                                ' #:kendo.getFileSizeMessage(selection[0][field])#' +\n                            '#} else if(selection[0][field] instanceof Date) {#' +\n                                ' #:kendo.toString(selection[0][field], \"G\")#' +\n                            '#} else if(field == \"extension\") {#' +\n                                ' #: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension) : \"folder\"#' +\n                            '#} else {#' +\n                                ' #:selection[0][field]#' +\n                            '#}#' +\n                        '</dd>' +\n                        '<dd class=\"k-line-break\"></dd>' +\n                    '# } #' +\n                '</dl>' +\n            '#}#' +\n        '</div>';\n\n    var MULTIPLE_FILES_PREVIEW_TEMPLATE = '' +\n        '<div class=\"#:styles.fileInfo#\">' +\n            '<div class=\"#:styles.filePreview#\">' +\n                '<span class=\"k-file-icon k-icon k-i-file\"></span>' +\n            '</div>' +\n            '<span class=\"#:styles.fileName#\">' +\n                '#:selection.length# ' +\n                '#:messages.items#' +\n            '</span>' +\n        '</div>';\n\n    var FileManager = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            DataBoundWidget.fn.init.call(that, element, options);\n\n            that.options = kendo.deepExtend({}, that.options, options);\n\n            that.defaultSortOption = { field: \"name\", dir: \"asc\" };\n            that.folderSortOption = { field: \"isDirectory\", dir: \"desc\" };\n\n            that._commandStack = new ui.filemanager.CommandStack();\n\n            that._dataSource();\n\n            that._wrapper();\n\n            that._renderHeader();\n\n            that._renderContentContainer();\n\n            that._initContextMenu();\n\n            that._renderNavigation();\n\n            that._renderContent();\n\n            that._renderPreview();\n\n            that._initUploadDialog();\n\n            that._resizable();\n\n            that.resize();\n\n            kendo.notify(that, kendo.ui);\n        },\n\n        options: {\n            name: \"FileManager\",\n            height: 500,\n            resizable: true,\n            initialView: viewTypes.list,\n            toolbar: {\n                resizable: true\n            },\n            contextMenu: {},\n            upload: {},\n            uploadUrl: \"\",\n            views: {},\n            breadcrumb: {},\n            draggable: true,\n            dialogs: {\n                upload: {\n                    width: 530\n                },\n                moveConfirm: {\n                    width: 350,\n                    closable: true\n                },\n                deleteConfirm: {\n                    width: 360,\n                    closable: true\n                },\n                renamePrompt: {\n                    width: 350,\n                    closable: true\n                }\n            },\n            previewPane: {\n                metaFields: [\"extension\", \"size\", \"created\", \"modified\"],\n                noFileTemplate: NO_FILE_PREVIEW_TEMPLATE,\n                singleFileTemplate: SINGLE_FILES_PREVIEW_TEMPLATE,\n                multipleFilesTemplate: MULTIPLE_FILES_PREVIEW_TEMPLATE\n            },\n            messages: {\n                toolbar: {\n                    createFolder: \"New Folder\",\n                    upload: \"Upload\",\n                    sortDirection: \"Sort Direction\",\n                    sortDirectionAsc: \"Sort Direction Ascending\",\n                    sortDirectionDesc: \"Sort Direction Descending\",\n                    sortField: \"Sort By\",\n                    nameField: \"Name\",\n                    sizeField: \"File Size\",\n                    typeField: \"Type\",\n                    dateModifiedField: \"Date Modified\",\n                    dateCreatedField: \"Date Created\",\n                    listView: \"List View\",\n                    gridView: \"Grid View\",\n                    search: \"Search\",\n                    details: \"View Details\",\n                    detailsChecked: \"On\",\n                    detailsUnchecked: \"Off\",\n                    \"delete\": \"Delete\",\n                    rename: \"Rename\"\n                },\n                views: {\n                    nameField: \"Name\",\n                    sizeField: \"File Size\",\n                    typeField: \"Type\",\n                    dateModifiedField: \"Date Modified\",\n                    dateCreatedField: \"Date Created\",\n                    items: \"items\",\n                    listLabel: \"FileManager ListView\",\n                    gridLabel: \"FileManager Grid\",\n                    treeLabel: \"FileManager TreeView\"\n                },\n                dialogs: {\n                    upload: {\n                        title: \"Upload Files\",\n                        clear: \"Clear List\",\n                        done: \"Done\"\n                    },\n                    moveConfirm: {\n                        title: \"Confirm\",\n                        content: \"<p style='text-align: center;'>Do you want to move or copy?</p>\",\n                        okText: \"Copy\",\n                        cancel: \"Move\",\n                        close: \"close\"\n                    },\n                    deleteConfirm: {\n                        title: \"Confirm\",\n                        content: \"<p style='text-align: center;'>Are you sure you want to delete the selected file(s)?</br>You cannot undo this action.</p>\",\n                        okText: \"Delete\",\n                        cancel: \"Cancel\",\n                        close: \"close\"\n                    },\n                    renamePrompt: {\n                        title: \"Prompt\",\n                        content: \"<p style='text-align: center;'>Enter new name for the file.</p>\",\n                        okText: \"Rename\",\n                        cancel: \"Cancel\",\n                        close: \"close\"\n                    }\n                },\n                previewPane: {\n                    noFileSelected: \"No File Selected\",\n                    extension: \"Type\",\n                    size: \"Size\",\n                    created: \"Date Created\",\n                    createdUtc: \"Date Created UTC\",\n                    modified: \"Date Modified\",\n                    modifiedUtc: \"Date Modified UTC\",\n                    items: \"items\"\n                }\n            }\n        },\n\n        events: [\n            NAVIGATE,\n            SELECT,\n            OPEN,\n            DATABINDING,\n            DATABOUND,\n            ERROR,\n            DROP,\n            EXECUTE,\n            COMMAND\n        ],\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                dataSourceOptions = options.dataSource || {},\n                typeSortOrder = that.folderSortOption,\n                nameSortOrder = that.defaultSortOption,\n                dataSource;\n\n            if (!(dataSourceOptions instanceof kendo.data.FileManagerDataSource)) {\n                if (isArray(dataSourceOptions)) {\n                    dataSource = {\n                        data: dataSourceOptions,\n                        autoSync: false,\n                        sort: [typeSortOrder, nameSortOrder]\n                     };\n                } else {\n                    dataSource = extend(true, dataSourceOptions, {\n                        autoSync: false,\n                        sort: [typeSortOrder, nameSortOrder]\n                    });\n                }\n\n                if (dataSourceOptions && isPlainObject(dataSourceOptions.schema)) {\n                    dataSource.schema = dataSourceOptions.schema;\n                } else if (isPlainObject(kendo.data.schemas.filemanager)) {\n                    dataSource.schema = kendo.data.schemas.filemanager;\n                }\n            } else {\n                dataSource = dataSourceOptions;\n            }\n\n            if (that.dataSource && that._errorHandler) {\n                that.dataSource.unbind(ERROR, that._errorHandler);\n                that.dataSource.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._errorHandler = that._error.bind(that);\n                that._changeHandler = that._change.bind(that);\n            }\n\n            that.dataSource = kendo.data.FileManagerDataSource.create(dataSource)\n                .bind(ERROR, that._errorHandler)\n                .bind(CHANGE, that._changeHandler);\n        },\n\n        _error: function(ev) {\n            if (!this.trigger(ERROR, ev)) {\n                window.console.warn('Error! The requested URL returned ' + ev.xhr.status + ' - ' + ev.xhr.statusText);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                options = that.options,\n                width = options.width,\n                height = options.height;\n\n            that.wrapper = that.element\n                .addClass(fileManagerStyles.wrapper);\n\n            if (width) {\n                that.wrapper.width(width);\n            }\n\n            if (height) {\n                that.wrapper.height(height);\n            }\n\n            that._resizeHandler = kendo.onResize(function() {\n                that.resize(true);\n            });\n        },\n\n        _renderHeader: function() {\n            var that = this,\n                options = that.options;\n\n            if (options.toolbar) {\n                that.header = $(\"<div />\").addClass(fileManagerStyles.header);\n                that.header.append(that._initToolbar().element);\n            }\n\n            that.wrapper.append(that.header);\n        },\n\n        _renderContentContainer: function() {\n            var that = this,\n                container = $(\"<div />\").addClass(fileManagerStyles.contentContainer);\n\n            that.contentContainer = container;\n\n            that.wrapper.append(that.contentContainer);\n        },\n\n        _initContextMenu: function() {\n            var that = this,\n                options = that.options,\n                menuOptions = extend({}, options.contextMenu, {\n                    filemanager: that,\n                    messages: options.messages.toolbar,\n                    target: that.contentContainer,\n                    filter: \"[data-uid]\",\n                    action: that.executeCommand.bind(that),\n                    isLocalBinding: that.dataSource.isLocalBinding\n                });\n\n            if (options.contextMenu === false) {\n                return;\n            }\n\n            that.contextMenu = new ui.filemanager.ContextMenu(\"<ul></ul>\", menuOptions);\n\n            that.contextMenu.bind(OPEN, that._cacheFocus.bind(that));\n        },\n\n        _renderNavigation: function() {\n            var that = this;\n\n            that.navigation = $(\"<div />\").addClass(fileManagerStyles.navigation);\n            that.navigation.append(that._initTreeView().element);\n\n            that.contentContainer.append(that.navigation);\n        },\n\n        _renderContent: function() {\n            var that = this,\n                options = that.options,\n                toolbar = that.toolbar;\n\n            that.content = $(\"<div />\").addClass(fileManagerStyles.content);\n\n            if (options.breadcrumb) {\n                that.content.append(that._initBreadcrumb().element);\n            }\n\n            that.content.append(that._initView());\n\n            if (!toolbar || !toolbar.isToolEnabled(toolbar.defaultTools.upload.name)) {\n                that.content.append(that._initUpload().wrapper.hide());\n            }\n\n            that.contentContainer.append(that.content);\n        },\n\n        _renderPreview: function() {\n            var that = this,\n                enablePreview = that.options.previewPane;\n\n            if (!enablePreview) {\n               return;\n            }\n\n            that.preview = $(\"<div />\").addClass(fileManagerStyles.preview);\n            that.previewContainer = $(\"<div />\").addClass(fileManagerStyles.previewContainer);\n            that.preview.append(that.previewContainer);\n\n            that._setPreviewPaneContent();\n\n            that.contentContainer.append(that.preview.hide());\n        },\n\n        _setPreviewPaneContent: function() {\n            var that = this,\n                options = that.options,\n                previewPaneMessages = options.messages.previewPane,\n                previewPaneOptions = options.previewPane,\n                selection = that.getSelected(),\n                previewTemplate;\n\n            if (!selection) {\n                previewTemplate = template(previewPaneOptions.noFileTemplate)({\n                    styles: fileManagerTemplateStyles,\n                    messages: previewPaneMessages\n                });\n\n                that.previewContainer.html(previewTemplate);\n                return;\n            }\n\n            previewTemplate = selection.length === 1 ?\n                previewPaneOptions.singleFileTemplate :\n                previewPaneOptions.multipleFilesTemplate;\n\n            previewTemplate = template(previewTemplate)({\n                styles: fileManagerTemplateStyles,\n                messages: previewPaneMessages,\n                selection: selection,\n                metaFields: previewPaneOptions.metaFields\n            });\n\n            that.previewContainer.html(previewTemplate);\n        },\n\n        _initToolbar: function() {\n            var that = this,\n                options = that.options,\n                toolbarElement = $(\"<div />\").addClass(fileManagerStyles.toolbar),\n                toolbarOptions = extend({}, options.toolbar, {\n                    filemanager: this,\n                    messages: options.messages.toolbar,\n                    action: that.executeCommand.bind(that)\n                });\n\n            that.toolbar = new ui.filemanager.ToolBar(toolbarElement, toolbarOptions);\n\n            return that.toolbar;\n        },\n\n        _initTreeView: function() {\n            var that = this,\n                treeViewElement = $(\"<div />\").addClass(fileManagerStyles.treeview),\n                options = that.options.views[TREE_TYPE],\n                explicitOptions = extend(true, {}, {\n                    dataSource: that.options.dataSource,\n                    messages: that.options.messages.views,\n                    draggable: that.options.draggable,\n                    isLocalBinding: that.dataSource.isLocalBinding\n                });\n\n            that.treeView = new ui.filemanager.ViewComponents[TREE_TYPE](treeViewElement, options, explicitOptions);\n\n            that.treeView.bind(NAVIGATE, that._navigate.bind(that))\n                         .bind(LOAD, that._load.bind(that))\n                         .bind(DROP, that._drop.bind(that))\n                         .bind(KEYDOWNACTION, that._keydownAction.bind(that));\n\n            return that.treeView;\n        },\n\n        _drop: function(ev) {\n            var that = this;\n\n            if (!that.trigger(DROP, ev) && ev.items.indexOf(ev.target) < 0) {\n                that._confirm({\n                    type: \"move\",\n                    target: ev.target\n                }).done(function() {\n                    that.executeCommand({ command: \"CopyCommand\", options: ev });\n                }).fail(function() {\n                    that.executeCommand({ command: \"MoveCommand\", options: ev });\n                });\n            }\n        },\n\n        _keydownAction: function(ev) {\n            var that = this,\n                keyCode = ev.keyCode,\n                keys = kendo.keys;\n\n            if (keyCode === keys.DELETE) {\n                that.executeCommand({ command: \"DeleteCommand\", options: { target: ev.target } });\n            }\n\n            if (keyCode === keys.F2) {\n                that.executeCommand({ command: \"RenameCommand\", options: { target: ev.target } });\n            }\n        },\n\n        _confirm: function(options) {\n            var that = this,\n                messages = that.options.messages.dialogs[options.type + \"Confirm\"];\n\n            var confirm = $(\"<div></div>\").kendoConfirm(extend({}, {\n                title: messages.title,\n                content: messages.content,\n                messages: messages\n            }, that.options.dialogs[options.type + \"Confirm\"])).data(\"kendoConfirm\");\n\n            confirm.bind(OPEN, that._cacheFocus.bind(that));\n            confirm.bind(HIDE, that._restoreFocus.bind(that, options.target));\n\n            confirm.open();\n\n            confirm.wrapper.removeClass(\"k-confirm\");\n\n            return confirm.result;\n        },\n\n        _prompt: function(options) {\n            var that = this,\n                messages = this.options.messages.dialogs[options.type + \"Prompt\"];\n\n            var prompt = $(\"<div></div>\").kendoPrompt(extend({}, {\n                title: messages.title,\n                content: messages.content,\n                messages: messages,\n                value: options.defaultInput\n            },this.options.dialogs[options.type + \"Prompt\"])).data(\"kendoPrompt\");\n\n            prompt.bind(OPEN, that._cacheFocus.bind(that));\n            prompt.bind(CLOSE, that._restoreFocus.bind(that, options.target));\n\n            prompt.open();\n\n            prompt.wrapper.removeClass(\"k-prompt\");\n\n            return prompt.result;\n        },\n\n        _cacheFocus: function() {\n            var that = this,\n                activeElement = $(document.activeElement),\n                view = that.view(),\n                treeView = that.treeView.widgetComponent;\n\n            if (that.contextMenu && that.contextMenu.popup.visible()) {\n                return;\n            }\n\n            that.treeView._shouldFocus = false;\n\n            if ((treeView.current() && treeView.current().find(\".k-state-focused\").length) ||\n                activeElement.hasClass(fileManagerStyles.treeview)) {\n                that.treeView._shouldFocus = true;\n                view._focusElement = activeElement;\n                return;\n            }\n\n            view._focusElement = activeElement.hasClass(fileManagerStyles[that._viewType]) ?\n                activeElement :\n                null;\n        },\n\n        _restoreFocus: function(target) {\n            var that = this,\n                view = that.view();\n\n            if (!target) {\n                return;\n            }\n\n            if (view._focusElement) {\n                view._focusElement.trigger(\"focus\");\n            } else if (target.closest && target.closest(\":kendoFocusable\").length) {\n                target.closest(\":kendoFocusable\").trigger(\"focus\");\n            }\n        },\n\n        _initView: function() {\n            var that = this,\n                viewWrapper = $(\"<div />\").addClass(fileManagerStyles.view),\n                initialView = that.options.initialView;\n\n            that.viewWrapper = viewWrapper;\n            that.viewWrapper.append(that.view(initialView));\n\n            return viewWrapper;\n        },\n\n        _initBreadcrumb: function() {\n            var that = this,\n                options = that.options,\n                breadcrumbElement = $(\"<nav />\").addClass(fileManagerStyles.breadcrumb),\n                breadcrumbOptions = extend({}, {\n                    items: [\n                        { type: \"rootitem\", text: \"\" }\n                    ],\n                    change: that._breadcrumbChange.bind(that)\n                }, options.breadcrumb);\n\n            that.breadcrumb = new ui.Breadcrumb(breadcrumbElement, breadcrumbOptions);\n\n            return that.breadcrumb;\n        },\n\n        _breadcrumbChange: function(ev) {\n            var entry = ev.sender.items().filter(function(item) {\n                return item.path === ev.value.substring(1);\n            }).shift();\n\n            this._navigate({ path: entry ? entry.id : \"\" });\n        },\n\n        _initUploadDialog: function() {\n            var that = this,\n                options = that.options,\n                dialogMessages = options.messages.dialogs.upload,\n                dialogElement = $(\"<div />\"),\n                dialogOptions = extend({}, {\n                    title: dialogMessages.title,\n                    modal: true,\n                    visible: false,\n                    width: 500,\n                    actions: [\n                        { text: dialogMessages.clear, action: that._clearUploadFilesList.bind(that) },\n                        { text: dialogMessages.done, primary: true }\n                    ],\n                    messages: dialogMessages\n                }, options.dialogs.upload),\n                uploadInstance;\n\n            if (!that._shouldInitUpload()) {\n                return;\n            }\n\n            uploadInstance = that._initUpload();\n\n            that.uploadDialog = new ui.Dialog(dialogElement, dialogOptions);\n            that.uploadDialog.wrapper.addClass(fileManagerStyles.uploadDialog);\n            that.uploadDialog.element.append(uploadInstance.wrapper);\n\n            that.uploadDialog.bind(OPEN, that._toggleUploadDropZone.bind(that, \"\"));\n            that.uploadDialog.bind(CLOSE, that._toggleUploadDropZone.bind(that, that.viewWrapper));\n\n            return that.uploadDialog;\n        },\n\n        _shouldInitUpload: function() {\n            var that = this,\n                options = that.options,\n                shouldInit = false;\n\n            if ((options.uploadUrl || (options.upload.async && options.upload.async.saveUrl)) &&\n                options.upload !== false) {\n                    shouldInit = true;\n            }\n\n            return shouldInit;\n        },\n\n        _initUpload: function() {\n            var that = this,\n                options = that.options,\n                uploadElement = $(\"<input type='file' name='file'/>\").addClass(fileManagerStyles.upload),\n                uploadOptions = extend(true, {\n                    async: {\n                         autoUpload: true,\n                         saveUrl: options.uploadUrl\n                    },\n                    dropZone: that.viewWrapper\n                }, options.upload);\n\n            that.upload = new ui.Upload(uploadElement[0], uploadOptions);\n\n            that.upload.bind(UPLOAD, that._sendUploadPathParameter.bind(that));\n            that.upload.bind(SUCCESS, that._success.bind(that));\n\n            return that.upload;\n        },\n\n        _sendUploadPathParameter: function(ev) {\n            ev.data = extend(ev.data, { path: this.path() });\n        },\n\n        _success: function() {\n            this._view.widgetComponent.dataSource.read();\n        },\n\n        _clearUploadFilesList: function() {\n            var that = this,\n                upload = that.upload;\n\n            if (upload) {\n                upload.clearAllFiles();\n            }\n        },\n\n        _toggleUploadDropZone: function(zone) {\n            var that = this,\n                upload = that.upload;\n\n            if (upload) {\n                upload.setOptions({ dropZone: zone });\n            }\n        },\n\n        _binding: function(ev) {\n            if (this.trigger(DATABINDING, { source: \"view\", action: ev.action, items: ev.items, index: ev.index })) {\n                ev.preventDefault();\n            }\n        },\n\n        _bound: function() {\n            if (this.options.previewPane) {\n                this._setPreviewPaneContent();\n            }\n            this.trigger(DATABOUND);\n        },\n\n        _createResizableSplitBar: function(cssClass) {\n            var splitBar = $(\"<div />\")\n                    .addClass(fileManagerStyles.splitBar)\n                    .addClass(fileManagerStyles.splitBarHorizontal)\n                    .addClass(cssClass),\n                icon = $(\"<span />\").addClass(fileManagerStyles.splitBarIcon);\n\n            splitBar.append(icon);\n\n            splitBar.hover(function() {\n                $(this).toggleClass(fileManagerStyles.splitBarHover);\n            });\n\n            return splitBar;\n        },\n\n        _initResizableNavigation: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                splitBar = that._createResizableSplitBar(fileManagerStyles.splitBarNavigation),\n                contentWrapper = wrapper.find(DOT + fileManagerStyles.content),\n                navigationWrapper = wrapper.find(DOT + fileManagerStyles.navigation),\n                contentWrapperWidth,\n                navigationWrapperWidth;\n\n            splitBar.insertAfter(navigationWrapper);\n\n            that._resizeDraggable.navigation = that.wrapper.find(splitBar)\n                .end()\n                .kendoResizable({\n                    handle: DOT + fileManagerStyles.splitBarNavigation,\n                    start: function() {\n                        contentWrapperWidth = contentWrapper.width();\n                        navigationWrapperWidth = navigationWrapper.width();\n                    },\n                    resize: function(e) {\n                        var delta = e.x.initialDelta;\n\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n\n                        if (navigationWrapperWidth + delta < -2 || contentWrapperWidth - delta < -2) {\n                            return;\n                        }\n\n                        navigationWrapper.width(navigationWrapperWidth + delta);\n                    }\n                }).getKendoResizable();\n        },\n\n        _initResizablePreview: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                splitBar = that._createResizableSplitBar(fileManagerStyles.splitBarPreview),\n                contentWrapper = wrapper.find(DOT + fileManagerStyles.content),\n                previewWrapper = wrapper.find(DOT + fileManagerStyles.preview),\n                contentWrapperWidth,\n                previewWrapperWidth;\n\n            if (!that.options.previewPane) {\n                return;\n            }\n\n            splitBar.insertBefore(previewWrapper).hide();\n\n            that._resizeDraggable.preview = wrapper.find(splitBar)\n                .end()\n                .kendoResizable({\n                    handle: DOT + fileManagerStyles.splitBarPreview,\n                    start: function() {\n                        contentWrapperWidth = contentWrapper.width();\n                        previewWrapperWidth = previewWrapper.width();\n                    },\n                    resize: function(e) {\n                        var delta = e.x.initialDelta;\n\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n\n                        if (previewWrapperWidth - delta < -2 || contentWrapperWidth + delta < -2) {\n                            return;\n                        }\n\n                        previewWrapper.width(previewWrapperWidth - delta);\n                    }\n                }).getKendoResizable();\n        },\n\n        _resizable: function() {\n            var that = this,\n                options = that.options;\n\n            that._resizeDraggable = {};\n\n            if (!options.resizable) {\n                return;\n            }\n\n            that.wrapper.addClass(fileManagerStyles.resizable);\n\n            that._initResizableNavigation();\n\n            that._initResizablePreview();\n        },\n\n        view: function(type) {\n            var that = this,\n                element = $('<div aria-label=\"' + that.options.messages.views[type + \"Label\"] + '\"></div>'),\n                options = that.options.views[type],\n                explicitOptions = extend(true, {}, {\n                    dataSource: that._viewDataSource || that.dataSource,\n                    messages: that.options.messages.views,\n                    draggable: that.options.draggable\n                });\n\n            if (type === undefined) {\n                return that._view;\n            }\n\n            if (!ui.filemanager.ViewComponents[type]) {\n                throw new Error(kendo.format(\"There is no {0} ViewComponent registered!\", type));\n            }\n\n            if (that._view && that._view.destroy) {\n                that._view.destroy();\n                that.viewWrapper.empty();\n            }\n\n            that._viewType = type;\n            that._view = new ui.filemanager.ViewComponents[type](element, options, explicitOptions);\n\n            that._view.bind(SELECT, that._select.bind(that));\n            that._view.bind(OPEN, that._open.bind(that));\n            that._view.bind(DATABINDING, that._binding.bind(that));\n            that._view.bind(DATABOUND, that._bound.bind(that));\n            that._view.bind(DROP, that._drop.bind(that));\n            that._view.bind(KEYDOWNACTION, that._keydownAction.bind(that));\n            that._view.bind(CANCEL, that._cancel.bind(that));\n\n            that._view.element.addClass(fileManagerStyles[type]);\n\n            that.viewWrapper\n                .removeClass(\n                    Object.keys(ui.filemanager.ViewComponents).map(function(el) {\n                        return fileManagerStyles.view + \"-\" + el;\n                    }).join(\" \")\n                )\n                .addClass(fileManagerStyles.view + \"-\" + type);\n\n            that.viewWrapper.append(that._view.element);\n        },\n\n        executeCommand: function(args) {\n            var commandName = args.command,\n                commandOptions = extend({ filemanager: this }, isPlainObject(args.options) ? args.options : { value: args.options }),\n                command = new ui.filemanager.commands[commandName](commandOptions);\n\n            if (!this.trigger(EXECUTE, args)) {\n                return command.exec();\n            }\n        },\n\n        _navigate: function(ev) {\n            var that = this,\n                path = ev.path;\n\n            if (!that.trigger(NAVIGATE, { path: path })) {\n                that.navigate(path);\n            }\n        },\n\n        _load: function(ev) {\n            var entry = this.dataSource.get(ev.entryId);\n            entry.load();\n        },\n\n        _select: function(ev) {\n            if (this.options.previewPane) {\n                this._setPreviewPaneContent();\n            }\n\n            this.trigger(SELECT, { entries: ev.entries });\n        },\n\n        _open: function(ev) {\n            var that = this,\n                entry = ev.entry;\n\n            that.trigger(OPEN, { entry: entry });\n\n            if (entry.isDirectory) {\n                that._navigate({ path: entry.id });\n            }\n        },\n\n        _cancel: function() {\n            var that = this,\n                commandStack = that._commandStack,\n                command = commandStack.next();\n\n            commandStack.reject(command);\n            that.trigger(COMMAND, { status: \"cancel\", action: \"itemchange\", data: command.data });\n        },\n\n        _change: function(ev) {\n            var that = this,\n                commandStack = that._commandStack,\n                targetDataSource = ev.node ? ev.node.children : that.dataSource;\n\n            if (that.trigger(DATABINDING, { source: \"tree\", action: ev.action, items: ev.items, index: ev.index })) {\n                return;\n            }\n\n            that.treeView._refreshDataSource(ev);\n\n            if (ev.action === \"remove\" || ev.action === \"itemchange\" || ev.action === \"add\") {\n                if (commandStack.empty()) {\n                    targetDataSource.sync();\n                } else {\n                    var command = commandStack.next();\n\n                    targetDataSource.sync().then(function(res) {\n                        commandStack.resolve(command);\n                        that.trigger(COMMAND, { status: \"success\", action: ev.action, data: command.data, response: res });\n                    }).fail(function(res) {\n                        commandStack.reject(command);\n                        that.trigger(COMMAND, { status: \"fail\", action: ev.action, data: command.data, response: res });\n                    });\n                }\n            }\n\n            if (ev.action === \"remove\" && that._viewDataSource && that._viewDataSource.parent() && ev.items[0] === that._viewDataSource.parent()) {\n                that._navigateToParent(ev.items[0]);\n            }\n\n            if (ev.action == \"itemchange\" && that._viewDataSource && that._viewDataSource.parent() && that.path().indexOf(ev.items[0].id) >= 0) {\n                that._navigateToParent(ev.items[0]);\n            }\n\n            if (ev.action === \"itemchange\") {\n                ev.items[0].loaded(false);\n            }\n        },\n\n        _navigateToParent: function(item) {\n            var that = this;\n            var parent = item.parentNode();\n            var parentNodePath = parent ? parent.id : \"\";\n            that._navigate({ path: parentNodePath });\n        },\n\n        _buildBreadcrumbPath: function(entry) {\n            var that = this,\n                breadcrumb = that.breadcrumb,\n                items = [];\n\n            while (entry) {\n                items.push({\n                    id: entry.id,\n                    text: entry.name,\n                    path: entry.path\n                });\n\n                entry = entry.parentNode && entry.parentNode();\n            }\n\n            items.push({ type: \"rootItem\", id: \"\", text: \"\" });\n\n            breadcrumb.items(items.reverse());\n        },\n\n        _adjustDimensions: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                gridSelector = DOT + fileManagerStyles.grid,\n                listViewSelector = DOT + fileManagerStyles.list,\n                contentContainer = DOT + fileManagerStyles.contentContainer,\n                totalHeight = wrapper.height(),\n                toolbarHeight = 0,\n                breadcrumbHeight = 0;\n\n            if (that.toolbar) {\n                toolbarHeight = outerHeight(that.toolbar.wrapper);\n            }\n\n            if (that.breadcrumb) {\n                breadcrumbHeight = outerHeight(that.breadcrumb.wrapper);\n            }\n\n            if (that.options.height !== \"auto\") {\n                wrapper\n                    .find([gridSelector].join(\",\"))\n                    .height(totalHeight - (toolbarHeight + breadcrumbHeight + 1));\n\n                wrapper\n                    .find(listViewSelector)\n                    .parent()\n                    .height(totalHeight - (toolbarHeight + breadcrumbHeight + 1));\n\n                wrapper\n                    .find(contentContainer)\n                    .height(totalHeight - toolbarHeight);\n            }\n        },\n\n        _resize: function() {\n            this._adjustDimensions();\n            kendo.resize(this.element.children());\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n            that._dataSource();\n\n            if (that.toolbar) {\n                that.toolbar.destroy();\n                that.header.empty();\n                that.header.append(that._initToolbar().element);\n            }\n\n            if (that.treeView) {\n                that.treeView.destroy();\n                that.navigation.empty();\n                that.navigation.append(that._initTreeView().element);\n            }\n\n            if (that._view) {\n                that.view(that._viewType || that.options.initialView);\n            }\n\n            that._initContextMenu();\n\n        },\n\n        refresh: function() {\n            var that = this,\n                dataSource = that._viewDataSource || that.dataSource;\n\n            dataSource.read();\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.wrapper);\n        },\n\n        getSelected: function() {\n            var that = this,\n                items = that._view.getSelected(),\n                treeView = that.treeView;\n\n            if (items && items.length) {\n                return items;\n            }\n\n            var item = treeView.getSelected();\n\n            if (item) {\n                return [ that.dataSource.get(item.id) ];\n            }\n        },\n\n        path: function() {\n            return this._path || \"\";\n        },\n\n        navigate: function(path) {\n            var that = this,\n                dataSource = that.dataSource,\n                entry = dataSource.get(path.replace(/^\\//, \"\")),\n                view = that._view,\n                treeView = that.treeView,\n                breadcrumb = that.breadcrumb,\n                isRoot = path === \"\" || path === \"/\";\n\n            if (!entry && !isRoot) {\n                window.console.warn('Error! Could not navigate to the folder at the requested path(' + path + '). Make sure that the parent folder of the target folder has already been loaded.');\n                return;\n            }\n\n            that._path = path;\n\n            if (that.trigger(DATABINDING, { source: \"navigation\", action: \"rebind\", items: [entry] })) {\n                return;\n            }\n\n            if (breadcrumb) {\n                that._buildBreadcrumbPath(entry);\n            }\n\n            if (isRoot) {\n                dataSource.sort([ that.folderSortOption, that.defaultSortOption ]);\n                that._viewDataSource = dataSource;\n                view.refresh(that._viewDataSource);\n                treeView.treeView.select($());\n\n                if (that.options.previewPane) {\n                    that._setPreviewPaneContent();\n                }\n\n                return;\n            }\n\n            if (entry.loaded && !entry.loaded()) {\n                entry.load();\n            }\n\n            if (view) {\n                that._viewDataSource = entry.children;\n                that._viewDataSource._sort = [ that.folderSortOption, that.defaultSortOption ];\n                view.refresh(that._viewDataSource);\n            }\n\n            if (treeView) {\n                treeView.refresh(entry.id);\n            }\n\n            if (that.options.previewPane) {\n                that._setPreviewPaneContent();\n            }\n        },\n\n        items: function() {\n            var that = this;\n\n            return that.treeView.widgetComponent.items().add(that._view.widgetComponent.items());\n        },\n\n        destroy: function() {\n            var that = this;\n\n            DataBoundWidget.fn.destroy.call(that);\n\n            that.dataSource\n                .unbind(ERROR, that._errorHandler)\n                .unbind(CHANGE, that._changeHandler);\n\n            if (that._resizeDraggable.navigation) {\n                that._resizeDraggable.navigation.destroy();\n                that._resizeDraggable.navigation = null;\n            }\n\n            if (that._resizeDraggable.preview) {\n                that._resizeDraggable.preview.destroy();\n                that._resizeDraggable.preview = null;\n            }\n\n            if (that.uploadDialog) {\n                that.uploadDialog.destroy();\n                that.uploadDialog = null;\n            }\n\n            if (that.upload) {\n                that.upload.destroy();\n                that.upload = null;\n            }\n\n            if (that.contextMenu) {\n                that.contextMenu.destroy();\n                that.contextMenu = null;\n            }\n\n            kendo.unbindResize(that._resizeHandler);\n\n            that.dataSource = null;\n            that._viewDataSource = null;\n\n            kendo.destroy(that.element);\n        }\n    });\n\n    ui.plugin(FileManager);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n"],"names":["define","$","window","kendo","jQuery","undefined","extend","deferred","Deferred","Class","Command","init","options","this","filemanager","CreateFolderCommand","fn","call","exec","that","commandStack","_commandStack","dataSource","_viewDataSource","removeProxy","_remove","bind","_item","_createNewModel","push","item","toJSON","fail","add","pushDestroy","RenameCommand","target","viewItem","_view","widgetComponent","dataItem","edit","_renameTreeViewItem","uid","data","treeView","getByUid","realItem","get","id","_prompt","type","defaultInput","name","done","newName","set","DeleteCommand","items","getSelected","itemsToRemove","is","length","_confirm","removeItems","_itemsToRemove","Array","isArray","_removeItem","itemToRemove","splice","then","remove","CopyCommand","targetDataSource","children","i","fileManagerNewItem","MoveCommand","promises","cloning","promise","_delete","whenAll","always","SortCommand","sortOptions","defaultSortOption","dir","field","sort","folderSortOption","SearchCommand","filter","operator","value","ChangeViewCommand","view","resize","OpenDialogCommand","dialog","open","console","warn","format","TogglePaneCommand","pane","resizable","getResizable","toggle","wrapper","find","handle","_resizeDraggable","CommandStack","_stack","_keys","guid","next","key","keys","nextCommand","resolve","command","reject","empty","ui","FileManagerCommand","commands","amd","a1","a2","a3","Observable","NAVIGATE","SELECT","EXPAND","CHANGE","OPEN","LOAD","KEYDOWN","KEYDOWNACTION","NS","fileManagerDraggables","fileManagerDragOrigin","registerViewComponent","componentName","component","ViewComponents","getViewComponent","Component","widget","element","Error","_bindEvents","_binding","_bound","ev","trigger","preventDefault","_setDSOptions","dataSourceOptions","_initDragAndDrop","dropFilter","draggable","kendoDraggable","hint","_hint","cursorOffset","top","left","holdToDrag","ignore","hold","_hold","userEvents","minHold","droptarget","kendoDropTargetArea","drop","_onDrop","dragenter","dropTarget","addClass","dragleave","removeClass","currentTarget","selectable","clear","select","cancel","selectedItems","messages","isDirectory","targetId","itemIds","refresh","setDataSource","destroy","ListView","ViewComponent","explicitOptions","defaultOptions","kendoKeydown","_kendoKeydown","listView","isLocalBinding","layout","flex","direction","wrap","support","mobileOS","template","editTemplate","navigatable","_select","on","_dblClick","_mousedown","_keydown","_keydownAction","sender","input","isDirty","_modelFromElement","editable","dirty","_closeEditable","dataItems","entries","keyCode","ESC","node","closest","which","ENTER","preventKendoKeydown","_handleEnterKey","current","_triggerOpen","entry","addFolder","selected","off","TreeView","dataTextField","_refreshDataSource","action","parentNode","treeEl","activeDescendant","attr","map","hasChildren","findByUid","_progress","each","index","append","_shouldFocus","focus","existingItem","_nextVisible","removeAttr","_navigate","_expand","entryId","path","noop","selectedItem","reload","read","Grid","_setupColumns","grid","mode","confirmation","sortable","columns","title","nameField","icon","getFileGroup","extension","htmlEncode","dateCreatedField","sizeField","size","getFileSizeMessage","table","_toggleFocusable","saveRow","F2","setTimeout","editorContainer","_editContainer","_tryCancel","cancelChanges","container","val","state","addBack","toggleClass","model","_destroyEditable","_displayRow","addRow","editRow","ToolBar","Item","toolbar","CLICK","TOGGLE","CLOSE","ACTION","FileManagerToolBar","_extendOptions","_attachEvents","events","concat","defaultTools","createFolder","text","rules","upload","sortDirection","buttons","togglable","group","sortField","menuButtons","changeView","spacer","details","overflow","search","_click","_change","tools","Object","_extendToolsOptions","tool","isBuiltInTool","isPlainObject","toolOptions","toolRules","attributes","JSON","parse","aria-label","data-command","data-options","deepExtend","_mapButtonGroups","_mapMenuButtons","remote","hidden","button","initialView","isToolEnabled","toolName","found","args","fileManagerSearch","SearchTool","inputWrapper","renderIcon","addUidAttr","addIdAttr","addOverflowAttr","placeholder","_inputHandler","_input","FileManagerDetailsToggle","registerComponent","label","switchElement","switchInstance","Switch","change","checked","detailsChecked","unchecked","detailsUnchecked","fileManagerDetailsToggle","parent","Node","HierarchicalDataSource","DataSource","FileEntry","schemas","fields","defaultValue","hasDirectories","created","createdUtc","modified","modifiedUtc","getter","isFunction","isDirectoryObject","_initChildren","transport","parameterMap","FileManagerDataSource","_childrenOptions","e","collection","_updateChildrenField","isNew","_defaultId","fileEntry","serverFiltering","_hierarchicalFilter","schema","modelBase","LocalTransport","_attachBubbleHandlers","insert","result","_cleanDestroyed","_hasDirectories","_destroyed","create","_dataSource","observableFileManagerData","array","fetch","_data","ContextMenu","FileManagerContextMenu","_overrideTemplates","_restrictDefaultItems","_extendItems","_onSelect","_onOpen","templates","sprite","defaultItems","rename","spriteCssClass","delete","_extendItem","menu","isEmptyObject","__meta__","category","description","depends","features","DataBoundWidget","outerHeight","_outerHeight","ERROR","UPLOAD","SUCCESS","HIDE","DATABINDING","DATABOUND","DROP","EXECUTE","COMMAND","CANCEL","TREE_TYPE","DOT","fileManagerStyles","header","navigation","contentContainer","content","preview","treeview","breadcrumb","list","uploadDialog","splitBar","splitBarHorizontal","splitBarHover","splitBarIcon","splitBarNavigation","splitBarPreview","fileManagerTemplateStyles","filePreview","fileInfo","fileName","fileMeta","metaLabel","metaValue","viewTypes","NO_FILE_PREVIEW_TEMPLATE","SINGLE_FILES_PREVIEW_TEMPLATE","MULTIPLE_FILES_PREVIEW_TEMPLATE","FileManager","_wrapper","_renderHeader","_renderContentContainer","_initContextMenu","_renderNavigation","_renderContent","_renderPreview","_initUploadDialog","_resizable","notify","height","contextMenu","uploadUrl","views","dialogs","width","moveConfirm","closable","deleteConfirm","renamePrompt","previewPane","metaFields","noFileTemplate","singleFileTemplate","multipleFilesTemplate","sortDirectionAsc","sortDirectionDesc","typeField","dateModifiedField","gridView","listLabel","gridLabel","treeLabel","okText","close","noFileSelected","typeSortOrder","nameSortOrder","autoSync","_errorHandler","unbind","_changeHandler","_error","xhr","status","statusText","_resizeHandler","onResize","_initToolbar","menuOptions","executeCommand","_cacheFocus","_initTreeView","_initBreadcrumb","_initView","_initUpload","hide","enablePreview","previewContainer","_setPreviewPaneContent","previewPaneMessages","previewPaneOptions","selection","previewTemplate","styles","html","toolbarElement","toolbarOptions","treeViewElement","_load","_drop","indexOf","DELETE","confirm","kendoConfirm","_restoreFocus","prompt","kendoPrompt","activeElement","document","popup","visible","hasClass","_focusElement","_viewType","viewWrapper","breadcrumbElement","breadcrumbOptions","_breadcrumbChange","Breadcrumb","substring","shift","dialogMessages","dialogElement","dialogOptions","modal","actions","_clearUploadFilesList","primary","uploadInstance","_shouldInitUpload","Dialog","_toggleUploadDropZone","shouldInit","async","saveUrl","uploadElement","uploadOptions","autoUpload","dropZone","Upload","_sendUploadPathParameter","_success","clearAllFiles","zone","setOptions","source","_createResizableSplitBar","cssClass","hover","_initResizableNavigation","contentWrapper","navigationWrapper","contentWrapperWidth","navigationWrapperWidth","insertAfter","end","kendoResizable","start","delta","x","initialDelta","isRtl","getKendoResizable","_initResizablePreview","previewWrapper","previewWrapperWidth","insertBefore","_open","_cancel","el","join","commandName","commandOptions","navigate","load","sync","res","response","_navigateToParent","loaded","parentNodePath","_buildBreadcrumbPath","reverse","_adjustDimensions","gridSelector","listViewSelector","totalHeight","toolbarHeight","breadcrumbHeight","_resize","getSize","dimensions","_path","replace","isRoot","_sort","unbindResize","plugin"],"mappings":"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"}