/**
 * Kendo UI v2022.2.621 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("kendo.scheduler.view.min",["kendo.core.min"],function(){var e={id:"scheduler.view",name:"Scheduler View",category:"web",description:"The Scheduler Common View",depends:["core"],hidden:true},t,v=(kendo.ui.scheduler={},window.kendo.jQuery),g=window.kendo,r=g.ui,n=g.date.getDate,i=r.Widget,c=g._outerHeight,d=g.keys,s=".kendoSchedulerView",o="k-event-inverse",f=1024,u=Math,a=" ";function h(t,i){var s=[];function o(t,e){e=e[i];if(e){var n=s[t]=s[t]||[];for(var r=0;r<e.length;r++){n.push(e[r]);o(t+1,e[r])}}}o(0,t);return s}function p(t,e){if(!t.length)return"";return'<table role="presentation" class="'+g.trim("k-scheduler-table "+(e||""))+'">'+"<tr>"+t.join("</tr><tr>")+"</tr>"+"</table>"}function m(t,e){if(!t.length)return"";return"<div style='position:relative'>"+p(t,e)+"</div>"}function S(t,e,n){var r=[];if(n>0)for(var i=0;i<t;i++)r.push("<th>&#8203;</th>");if(e)r.push('<th class="k-scheduler-times-all-day">'+e.text+"</th>");if(n<1)return v();return v('<div class="k-scheduler-times">'+p(r)+"</div>")}function y(){return v('<div class="k-scheduler-content">'+'<table role="presentation" class="k-scheduler-table"></table>'+"</div>")}var C='<div class="k-marquee k-scheduler-marquee">'+'<div class="k-marquee-color"></div>'+'<div class="k-marquee-text">'+'<div class="k-label-top"></div>'+'<div class="k-label-bottom"></div>'+"</div>"+"</div>",D=g.Class.extend({init:function(t,e,n){this._index=t;this._timeSlotCollections=[];this._daySlotCollections=[];this._isRtl=e;this._enforceAllDaySlot=n},addTimeSlotCollection:function(t,e){return this._addCollection(t,e,this._timeSlotCollections)},addDaySlotCollection:function(t,e){return this._addCollection(t,e,this._daySlotCollections)},_addCollection:function(t,e,n){var r=new k(t,e,this._index,n.length);n.push(r);return r},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(t,e,n){return this._slotByPosition(t,e,this._daySlotCollections,n)},timeSlotByPosition:function(t,e,n){return this._slotByPosition(t,e,this._timeSlotCollections,n)},_slotByPosition:function(t,e,n,u){for(var r=0;r<n.length;r++){var i=n[r];for(var s=0;s<i.count();s++){var o=i.at(s);var h=o.offsetWidth;var c=o.offsetHeight;var a;var l=o.offsetLeft+h;var f=o.offsetTop+c;if(!u)a=i.at(s+1);if(a)if(a.offsetLeft!=o.offsetLeft)if(this._isRtl)l=o.offsetLeft+(o.offsetLeft-a.offsetLeft);else l=a.offsetLeft;else f=a.offsetTop;if(t>=o.offsetLeft&&t<l&&e>=o.offsetTop&&e<f)return o}}},refresh:function(){var t;for(t=0;t<this._daySlotCollections.length;t++)this._daySlotCollections[t].refresh();for(t=0;t<this._timeSlotCollections.length;t++)this._timeSlotCollections[t].refresh()},timeSlotRanges:function(t,e){var n=this._timeSlotCollections;var r=this._startSlot(t,n);var i,s;if(!r.inRange&&t>=r.slot.end){i=r.slot.collectionIndex+1;r=null}var o=r;if(t<e)o=this._endSlot(e,n);if(o&&!o.inRange&&e<=o.slot.start){s=o.slot.collectionIndex;if(e===o.slot.start&&(r&&s>r.slot.collectionIndex||s>i))s-=1;o=null}if(r===null&&o===null)if(e-t<g.date.MS_PER_DAY)return[];else{r={inRange:true,slot:n[i].first()};o={inRange:true,slot:n[s].last()}}if(r===null){if(o.slot.end<=t)return[];r={inRange:true,slot:(n[i]||n[o.slot.collectionIndex]).first()}}if(o===null){if(r.slot.start>=e)return[];o={inRange:true,slot:(n[s]||n[r.slot.collectionIndex]).last()}}return this._continuousRange(w,n,r,o)},daySlotRanges:function(t,e,n){var r=this._daySlotCollections;var i=this._startSlot(t,r,n);if(!i.inRange&&t>=i.slot.end)i=null;var s=i;if(t<e)s=this._endSlot(e,r,n);if(s&&!s.inRange&&e<=s.slot.start)s=null;if(i===null&&s===null)return[];if(i===null){if(s.slot.end<=t)return[];do{t+=g.date.MS_PER_DAY;i=this._startSlot(t,r,n)}while(!i.inRange&&t>=i.slot.end)}if(s===null){if(i.slot.start>=e)return[];do{e-=g.date.MS_PER_DAY;s=this._endSlot(e,r,n)}while(!s.inRange&&e<=s.slot.start)}return this._continuousRange(x,r,i,s)},_continuousRange:function(u,h,c,d){var t=c.slot;var e=d.slot;var n=t.collectionIndex;var r=e.collectionIndex;var v=[];for(var i=n;i<=r;i++){var s=h[i];var o=s.first();var a=s.last();var l=false;var f=false;if(i==n)f=!c.inRange;if(i==r)l=!d.inRange;if(o.start<t.start)o=t;if(a.start>e.start)a=e;if(n<r)if(i==n)l=true;else if(i==r)f=true;else l=f=true;v.push(new u({start:o,end:a,collection:s,head:l,tail:f}))}return v},slotRanges:function(t,e){var n=t._startTime||g.date.toUtcTime(t.start);var r=t._endTime||g.date.toUtcTime(t.end);if(e===undefined)if(this._enforceAllDaySlot)e=t.isMultiDay();else e=t.isAllDay;if(e)return this.daySlotRanges(n,r,t.isAllDay);return this.timeSlotRanges(n,r)},ranges:function(t,e,n,r){if(typeof t!="number")t=g.date.toUtcTime(t);if(typeof e!="number")e=g.date.toUtcTime(e);if(n)return this.daySlotRanges(t,e,r);return this.timeSlotRanges(t,e)},_startCollection:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.startInRange(t))return r}return null},_endCollection:function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.endInRange(t,n))return i}return null},_getCollections:function(t){return t?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(t,e){var n=e?-1:1;var r=this._getCollections(t.isDaySlot);var i=r[t.collectionIndex+n];return i?i[e?"last":"first"]():undefined},firstSlot:function(){var t=this._getCollections(this.daySlotCollectionCount());return t[0].first()},lastSlot:function(){var t=this._getCollections(this.daySlotCollectionCount());return t[t.length-1].last()},upSlot:function(t,i,e){var s=this;var n=function(t,e,n){var r=n===0;if(!i&&!t&&r&&s.daySlotCollectionCount())return s._daySlotCollections[0].at(e)};if(!this.timeSlotCollectionCount())i=true;return this._verticalSlot(t,-1,n,e)},downSlot:function(t,r,e){var i=this;var n=function(t,e,n){if(!r&&t&&i.timeSlotCollectionCount())return i._timeSlotCollections[n].at(0)};if(!this.timeSlotCollectionCount())r=true;return this._verticalSlot(t,1,n,e)},leftSlot:function(t,e){return this._horizontalSlot(t,-1,e)},rightSlot:function(t,e){return this._horizontalSlot(t,1,e)},_horizontalSlot:function(t,e,n){var r=t.index;var i=t.isDaySlot;var s=t.collectionIndex;var o=this._getCollections(i);i=n?false:i;if(i)r+=e;else s+=e;var a=o[s];return a?a.at(r):undefined},_verticalSlot:function(t,e,n,r){var i=t.index;var s=t.isDaySlot;var o=t.collectionIndex;var a=this._getCollections(s);t=n(s,o,i);if(t)return t;s=r?false:s;if(s)o+=e;else i+=e;var l=a[o];return l?l.at(i):undefined},_collection:function(t,e){var n=e?this._daySlotCollections:this._timeSlotCollections;return n[t]},_startSlot:function(t,e,n){var r=this._startCollection(t,e);var i=true;var s=0;if(!r){r=e[s];while(s<e.length-1&&r._start<t){s++;r=e[s]}i=false}var o=r.slotByStartDate(t,n);if(!o){o=r.first();i=false}return{slot:o,inRange:i}},_endSlot:function(t,e,n){var r=this._endCollection(t,e,n);var i=true;var s=e.length-1;if(!r){r=e[s];while(s>0&&r._start>t){s--;r=e[s]}i=false}var o=r.slotByEndDate(t,n);if(!o){if(t<=r.first().start)o=r.first();else o=r.last();i=false}return{slot:o,inRange:i}},getSlotCollection:function(t,e){return this[e?"getDaySlotCollection":"getTimeSlotCollection"](t)},getTimeSlotCollection:function(t){return this._timeSlotCollections[t]},getDaySlotCollection:function(t){return this._daySlotCollections[t]}}),b=g.Class.extend({init:function(t){v.extend(this,t)},innerHeight:function(){var t=this.collection;var e=this.start.index;var n=this.end.index;var r=0;for(var i=e;i<=n;i++)r+=t.at(i).offsetHeight;return r},events:function(){return this.collection.events()},addEvent:function(t){this.events().push(t)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft)return this.end;return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft)return this.start;return this.end}}),w=b.extend({innerHeight:function(){var t=this.collection;var e=this.start.index;var n=this.end.index;var r=0;for(var i=e;i<=n;i++)r+=t.at(i).offsetHeight;return r},outerRect:function(t,e,n){return this._rect("offset",t,e,n)},_rect:function(t,e,n,u){var r;var h;var i;var s;var o=this.start;var a=this.end;var c=g.support.isRtl(o.element);if(typeof e!="number")e=g.date.toUtcTime(e);if(typeof n!="number")n=g.date.toUtcTime(n);if(u){r=o.offsetTop;h=a.offsetTop+a[t+"Height"];if(c){i=a.offsetLeft;s=o.offsetLeft+o[t+"Width"]}else{i=o.offsetLeft;s=a.offsetLeft+a[t+"Width"]}}else{var l=e-o.start;if(l<0)l=0;var d=o.end-o.start;r=o.offsetTop+o[t+"Height"]*l/d;var f=a.end-n;if(f<0)f=0;var v=a.end-a.start;h=a.offsetTop+a[t+"Height"]-a[t+"Height"]*f/v;if(c){i=Math.round(a.offsetLeft+a[t+"Width"]*f/v);s=Math.round(o.offsetLeft+o[t+"Width"]-o[t+"Width"]*l/d)}else{i=Math.round(o.offsetLeft+o[t+"Width"]*l/d);s=Math.round(a.offsetLeft+a[t+"Width"]-a[t+"Width"]*f/v)}}return{top:r,bottom:h,left:i===0?i:i+1,right:s}},innerRect:function(t,e,n){return this._rect("client",t,e,n)}}),x=b.extend({innerWidth:function(){var t=this.collection;var e=this.start.index;var n=this.end.index;var r=0;var i=e!==n?"offsetWidth":"clientWidth";for(var s=e;s<=n;s++)r+=t.at(s)[i];return r}}),k=g.Class.extend({init:function(t,e,n,r){this._slots=[];this._events=[];this._start=g.date.toUtcTime(t);this._end=g.date.toUtcTime(e);this._groupIndex=n;this._collectionIndex=r},refresh:function(){for(var t=0;t<this._slots.length;t++)this._slots[t].refresh()},startInRange:function(t){return this._start<=t&&t<this._end},endInRange:function(t,e){var n=e?t<this._end:t<=this._end;return this._start<=t&&n},slotByStartDate:function(t){var e=t;if(typeof e!="number")e=g.date.toUtcTime(t);for(var n=0;n<this._slots.length;n++){var r=this._slots[n];if(r.startInRange(e))return r}return null},slotByEndDate:function(t,e){var n=t;if(typeof n!="number")n=g.date.toUtcTime(t);if(e)return this.slotByStartDate(t,false);for(var r=0;r<this._slots.length;r++){var i=this._slots[r];if(i.endInRange(n))return i}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(t,e,n,r){var i=new I(t,e,n,this._groupIndex,this._collectionIndex,this._slots.length,r);this._slots.push(i)},addDaySlot:function(t,e,n,r){var i=new H(t,e,n,this._groupIndex,this._collectionIndex,this._slots.length,r);this._slots.push(i)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(t){return this._slots[t]}}),R=g.Class.extend({init:function(t,e,n,r,i,s){this.element=t;this.clientWidth=t.clientWidth;this.clientHeight=t.clientHeight;this.offsetWidth=t.offsetWidth;this.offsetHeight=t.offsetHeight;this.offsetTop=t.offsetTop;this.offsetLeft=t.offsetLeft;this.start=e;this.end=n;this.element=t;this.groupIndex=r;this.collectionIndex=i;this.index=s;this.isDaySlot=false},refresh:function(){var t=this.element;this.clientWidth=t.clientWidth;this.clientHeight=t.clientHeight;this.offsetWidth=t.offsetWidth;this.offsetHeight=t.offsetHeight;this.offsetTop=t.offsetTop;this.offsetLeft=t.offsetLeft},startDate:function(){return g.timezone.toLocalDate(this.start)},endDate:function(){return g.timezone.toLocalDate(this.end)},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}}),I=R.extend({init:function(t,e,n,r,i,s,o){R.fn.init.apply(this,arguments);this.isHorizontal=o?true:false},offsetX:function(t,e){if(t)return this.offsetLeft+e;else return this.offsetLeft+e},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end},startOffset:function(t,e,n){if(n)return this.start;var r=v(this.element).offset();var i=this.end-this.start;var s;var o;if(this.isHorizontal){var a=g.support.isRtl(this.element);s=t-r.left;o=Math.floor(i*(s/this.offsetWidth));if(a)return this.start+i-o}else{s=e-r.top;o=Math.floor(i*(s/this.offsetHeight))}return this.start+o},endOffset:function(t,e,n){if(n)return this.end;var r=v(this.element).offset();var i=this.end-this.start;var s;var o;if(this.isHorizontal){var a=g.support.isRtl(this.element);s=t-r.left;o=Math.floor(i*(s/this.offsetWidth));if(a)return this.start+i-o}else{s=e-r.top;o=Math.floor(i*(s/this.offsetHeight))}return this.start+o}}),H=R.extend({init:function(t,e,n,r,i,s,o){R.fn.init.apply(this,arguments);this.eventCount=o;this.isDaySlot=true;if(this.element.children.length){var a=this.element.children[0];this.firstChildHeight=a.offsetHeight;this.firstChildTop=a.offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},startDate:function(){var t=new Date(this.start);return g.timezone.apply(t,"Etc/UTC")},endDate:function(){var t=new Date(this.end);return g.timezone.apply(t,"Etc/UTC")},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end}});function T(){t=t?t:g.support.scrollbar();return t}function L(t,e,n){var r,i,s,o,a;for(r=t.length-1;r>=0;r--){i=E(t[r]);s=i.start;a=i.end;o=s<=e&&a>=e;if(o||s>=e&&a<=n||e<=s&&n>=s){if(s<e)e=s;if(a>n)n=a}}return z(t,e,n)}function E(t){return{start:t.start,end:t.end}}function z(t,e,n){var r=[];for(var i=0;i<t.length;i++){var s=E(t[i]);if(s.start<e&&s.end>e||s.start>=e&&s.end<=n)r.push(t[i])}return r}function V(t){return G(t)}function A(t){return G(t)}g.ui.SchedulerView=i.extend({init:function(t,e){i.fn.init.call(this,t,v.extend({},this.options,e));this._normalizeOptions();this._scrollbar=T();this._isRtl=g.support.isRtl(t);this._resizeHint=v();this._moveHint=v();this._cellId=g.guid();this._resourcesForGroups();this._selectedSlots=[];this.element.attr("role","application")},options:{messages:{ariaEventLabel:{on:"on",at:"at",to:"to",allDay:"(all day)",prefix:""}}},visibleEndDate:function(){return this.endDate()},_normalizeOptions:function(){var t=this.options;if(t.startTime)t.startTime.setMilliseconds(0);if(t.endTime)t.endTime.setMilliseconds(0);if(t.workDayStart)t.workDayStart.setMilliseconds(0);if(t.workDayEnd)t.workDayEnd.setMilliseconds(0)},_isMobile:function(){var t=this.options;return t.mobile===true&&g.support.mobileOS||t.mobile==="phone"||t.mobile==="tablet"},_addResourceView:function(){var t=new D(this.groups.length,this._isRtl,this.options.enforceAllDaySlot);this.groups.push(t);return t},dateForTitle:function(){return g.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return g.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},mobileDateForTitle:function(){return g.format(this.options.selectedMobileDateFormat||this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(t,e){var n=e?"prevGroupSlot":"nextGroupSlot";var r=this[n](t.start,t.groupIndex,t.isAllDay);if(r)t.groupIndex+=e?-1:1;if(this._isGroupedByDate()&&!r)t.groupIndex=e?this.groups.length-1:0;return r},_changeDate:function(t,e,n){var r=this.groups[t.groupIndex];var i,s;if(n){i=r._getCollections(false);s=r.daySlotCollectionCount()?e.index-1:e.collectionIndex-1;if(s>=0)return i[s]._slots[i[s]._slots.length-1]}else{i=r._getCollections(r.daySlotCollectionCount());s=r.daySlotCollectionCount()?0:e.collectionIndex+1;var o=r.daySlotCollectionCount()?e.collectionIndex+1:0;if(i[s]&&i[s]._slots[o])return i[s]._slots[o]}},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_isInRange:function(t,e){if(!t||!e||!this.options.min||!this.options.max)return false;return n(t)<=n(this.options.min)||n(e)>=n(this.options.max)},_horizontalSlots:function(t,e,n,r){var i=r?"leftSlot":"rightSlot";var s={startSlot:e[0].start,endSlot:e[e.length-1].end};var o=this.groups[t.groupIndex];var u=this._isVerticallyGrouped();if(!n){var a=this._normalizeHorizontalSelection(t,e,r);if(a)s.startSlot=s.endSlot=a}if(this._isGroupedByDate()&&!n){var l=this._changeGroup(t,r);if(!l)s=this._getNextHorizontalRange(o,i,s);else s.startSlot=s.endSlot=l}else{s.startSlot=o[i](s.startSlot);s.endSlot=o[i](s.endSlot);if(!n&&!u&&(!s.startSlot||!s.endSlot))s.startSlot=s.endSlot=this._changeGroup(t,r)}var f;if((!s.startSlot||!s.endSlot)&&!this._isGroupedByDate()){f=this._continuousSlot(t,e,r);f=this._changeGroupContinuously(t,f,n,r);if(f)s.startSlot=s.endSlot=f}return s},_getNextHorizontalRange:function(t,e,n){if(!this._isVerticallyGrouped()){n.startSlot=t[e](n.startSlot);n.endSlot=t[e](n.endSlot)}return n},_verticalSlots:function(t,e,n,r){var i=this.groups[t.groupIndex];var s;var o={startSlot:e[0].start,endSlot:e[e.length-1].end};if(!n){s=this._normalizeVerticalSelection(t,e,r);if(s)o.startSlot=o.endSlot=s}var a=r?"upSlot":"downSlot";o=this._getNextVerticalRange(i,a,o,n);if(!n&&this._isVerticallyGrouped()&&(!o.startSlot||!o.endSlot))if(this._isGroupedByDate())o.startSlot=o.endSlot=this._changeDate(t,s,r);else o.startSlot=o.endSlot=this._changeGroup(t,r);return o},_getNextVerticalRange:function(t,e,n,r){n.startSlot=t[e](n.startSlot,r);n.endSlot=t[e](n.endSlot,r);return n},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(t,e,n){var r;if(n)r=e[0].start;else r=e[e.length-1].end;return r},_continuousSlot:function(){return null},_footer:function(){var o=this;var a=o.options;if(o._isMobile()){var t='<div class="k-scheduler-footer k-toolbar">';t+='<span class="k-scheduler-today"><a href="#" class="k-link">';t+=a.messages.today+"</a></span>";t+="</div>";o.footer=v(t).appendTo(o.element)}if(o.footer)o.footer.on("click"+s,".k-scheduler-today",function(t){t.preventDefault();var e=o.options.timezone;var n="today";var r=new Date;var i;if(e){var s=g.timezone.offset(r,e);i=g.timezone.convert(r,r.getTimezoneOffset(),s)}else i=r;o.trigger("navigate",{view:o.name||a.name,action:n,date:i})})},constrainSelection:function(t){var e=this.groups[0];var n;if(!this.inRange(t)){n=e.firstSlot();t.isAllDay=n.isDaySlot;t.start=n.startDate();t.end=n.endDate()}else if(!e.daySlotCollectionCount())t.isAllDay=false;else if(!e.timeSlotCollectionCount())t.isAllDay=true;if(!this.groups[t.groupIndex])t.groupIndex=0},move:function(t,e,n){var r=false;var i=this.groups[t.groupIndex];var u=this._isGroupedByDate()&&this._isVerticallyGrouped();if(!i.timeSlotCollectionCount())t.isAllDay=true;var s=i.ranges(t.start,t.end,t.isAllDay,false);var o,a,l,f;if(e===d.DOWN||e===d.UP){r=true;l=e===d.UP;this._updateDirection(t,s,n,l,true);f=this._verticalSlots(t,s,n,l);if(!f.startSlot&&!n&&this._changeViewPeriod(t,l,!u))return r}else if(e===d.LEFT||e===d.RIGHT){r=true;l=e===d.LEFT;this._updateDirection(t,s,n,l,false);f=this._horizontalSlots(t,s,n,l);if(!f.startSlot&&!n&&this._changeViewPeriod(t,l,u))return r}if(r){o=f.startSlot;a=f.endSlot;if(n){var h=t.backward;if(h&&o)t.start=o.startDate();else if(!h&&a)t.end=a.endDate()}else if(o&&a){t.isAllDay=o.isDaySlot;t.start=o.startDate();t.end=a.endDate()}t.events=[]}return r},moveToEventInGroup:function(u,t,e,n){var r=u._continuousEvents||[];var h,i;var s=n?-1:1;var o=r.length;var a=n?o-1:0;var l,f;if(e.length){f=e[e.length-1];if(n){for(l=0;l<r.length;l++)if(r[l].uid===f)a=l+s}else for(l=r.length-1;l>-1;l--)if(r[l].uid===f)a=l+s}while(a<o&&a>-1){i=r[a];if(!n&&i.start.startDate()>=t.startDate()||n&&i.start.startDate()<=t.startDate())if(i&&v.inArray(i.uid,e)===-1){h=!!i;break}a+=s}return i},moveToEvent:function(t,e){var n=t.groupIndex;var r=this.groups[n];var i=r.ranges(t.start,t.end,this.name==="month"||t.isAllDay,false)[0].start;var u=this.groups.length;var s=e?-1:1;var o=t.events;var a;if(this._isGroupedByDate()){var h=this._getAllEvents();var c=this._getUniqueEvents(h);var l=this._getSortedEvents(c);if(o.length===0){var d=this._getNextEventIndexBySlot(i,l,n);if(e)d--;a=l[d]}else{var f=this._getStartIdx(o,l);while(f<l.length&&f>-1){if(o.length>0)i=this._getSelectedSlot(i,l,a,f,s,e);if(!i)break;if(!e&&l[f].start.startDate()>=i.startDate()||e&&l[f].start.startDate()<=i.startDate())if(o[0]!=l[f].uid){a=l[f];break}f+=s}}}else while(n<u&&n>-1){a=this.moveToEventInGroup(r,i,o,e);n+=s;r=this.groups[n];if(!r||a)break;o=[];if(e)i=r.lastSlot();else i=r.firstSlot(true)}if(a){t.events=[a.uid];t.start=a.start.startDate();t.end=a.end.endDate();t.isAllDay=a.start.isDaySlot;t.groupIndex=a.start.groupIndex;t.eventElement=a.element[0]}return!!a},current:function(t){if(t!==undefined){this._current=t;if(this.content.has(t))this._scrollTo(t,this.content[0])}else return this._current},select:function(t){this.clearSelection();if(!this._selectEvents(t))this._selectSlots(t)},_getNextEventIndexBySlot:function(t,e,n){var r=0;var i=g.date.getDate(t.startDate());for(var s=0;s<e.length;s++){var o=g.date.getDate(e[s].start.startDate());if(i>o){r++;continue}if(i.getTime()===o.getTime()&&n>e[s].start.groupIndex){r++;continue}if(i.getTime()===o.getTime()&&n>=e[s].start.groupIndex&&t.startDate()>e[s].start.startDate()){r++;continue}break}return r},_getSelectedSlot:function(t,e,n,r,i,s){if(e[r+i]&&e[r].start.groupIndex!==e[r+i].start.groupIndex){var o=e[r+i].start.groupIndex;var a=this.groups[o];if(!a||n)t=null;if(s)t=a.lastSlot();else t=a.firstSlot(true)}return t},_getStartIdx:function(t,e){var n=0;v.each(e,function(){if(this.uid===t[0])return false;n++});return n},_getAllEvents:function(){var t=[];var e=this.groups;for(var n=0;n<e.length;n++)if(e[n]._continuousEvents)t=t.concat(e[n]._continuousEvents);return t},_getUniqueEvents:function(t){var e=[];for(var n=0;n<t.length;n++){var r=false;for(var i=0;i<e.length;i++)if(t[n].uid===e[i].uid){r=true;break}if(!r)e.push(t[n])}return e},_getSortedEvents:function(t){return t.sort(function(t,e){var n=t.start.startDate();var r=e.start.startDate();var i=g.date.getDate(n)-g.date.getDate(r);if(i===0)i=t.start.groupIndex-e.start.groupIndex;if(i===0)i=n.getTime()-r.getTime();if(i===0){if(t.start.isDaySlot&&!e.start.isDaySlot)i=-1;if(!t.start.isDaySlot&&e.start.isDaySlot)i=1}if(i===0)i=v(t.element).index()-v(e.element).index();return i})},_selectSlots:function(t){var e=t.isAllDay;var n=this.groups[t.groupIndex];if(!n.timeSlotCollectionCount())e=true;this._selectedSlots=[];var r=n.ranges(t.start,t.end,e,false);var i;var s;for(var o=0;o<r.length;o++){var a=r[o];var l=a.collection;for(var f=a.start.index;f<=a.end.index;f++){s=l.at(f);i=s.element;F(i);this._selectedSlots.push({start:s.startDate(),end:s.endDate(),element:i})}}if(t.backward)i=r[0].start.element;this.current(i)},_selectEvents:function(t){var e=false;var n=t.events;var r=this._getAllEvents();var i,s,o=r.length;if(!n[0]||!r[0])return e;var a=v();t.events=[];for(i=0;i<o;i++)if(v.inArray(r[i].uid,n)>-1){s=r[i];a=a.add(s.element);if(t.events.indexOf(s.uid)===-1)t.events.push(s.uid)}if(a[0]){a.addClass("k-state-selected");if(t.eventElement)this.current(t.eventElement);else this.current(a.last()[0]);this._selectedSlots=[];e=true}return e},inRange:function(t){var e=this.startDate();var n=g.date.addDays(this.endDate(),1);var r=t.start;var i=t.end;return e<=r&&r<n&&e<i&&i<=n},_resourceValue:function(t,e){if(t.valuePrimitive)e=g.getter(t.dataValueField)(e);return e},_setResourceValue:function(t,e,n){var r=t.value,i;if(e.multiple)r=[r];i=g.setter(e.field);i(n,r)},_resourceBySlot:function(u){var t=this.groupedResources;var e={};if(t.length){var h=u.groupIndex,n=this.options.group,c=n.date||n.orientation==="horizontal"?"columns":"rows",d=c==="rows"?this.rowLevels:this.columnLevels,v=n.date&&n.orientation==="horizontal"?1:0,r=d[t.length-1+v],i=t[t.length-1],s=r[h],o,a,l,f;this._setResourceValue(s,i,e);for(l=t.length-2;l>=0;l--){r=d[l+v];i=t[l];o=0;for(f=0;f<r.length;f++){s=r[f];a=s[c].length;if(a>h-o){this._setResourceValue(s,i,e);f=r.length}else o+=a}}}return e},_createResizeHint:function(t,e,n,r){return v(C).css({left:t,top:e,width:n,height:r})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=v()},_removeMoveHint:function(t){if(t){this._moveHint.filter("[data-uid='"+t+"']").remove();this._moveHint=this._moveHint.filter("[data-uid!='"+t+"']")}else{this._moveHint.remove();this._moveHint=v()}},_scrollTo:function(t,e){var n=t.offsetTop,r=t.offsetHeight,i=e.scrollTop,s=e.clientHeight,o=n+r,a=0;if(i>n)a=n;else if(o>i+s)if(r<=s)a=o-s;else a=n;else a=i;e.scrollTop=a},_inverseEventColor:function(t){var e=t.css("color");var n=new l(e).isDark();var r=t.css("background-color");var i=new l(r).isDark();if(n==i)t.addClass(o)},_eventTmpl:function(t,e){var n=this.options,r=v.extend({},g.Template,n.templateSettings),i=r.paramName,s="",o=typeof t,a={storage:{},count:0};if(o==="function"){a.storage["tmpl"+a.count]=t;s+="#=this.tmpl"+a.count+"("+i+")#";a.count++}else if(o==="string")s+=t;var l=g.template(g.format(e,s),r);if(a.count>0)l=l.bind(a.storage);return l},eventResources:function(u){var t=[],e=this.options;if(!e.resources)return t;for(var n=0;n<e.resources.length;n++){var r=e.resources[n];var h=r.field;var i=g.getter(h)(u);if(i==null)continue;if(!r.multiple)i=[i];var s=r.dataSource.view();for(var o=0;o<i.length;o++){var a=null;var l=i[o];if(!r.valuePrimitive)l=g.getter(r.dataValueField)(l);for(var f=0;f<s.length;f++)if(s[f].get(r.dataValueField)==l){a=s[f];break}if(a!==null){var c=g.getter(r.dataColorField)(a);t.push({field:r.field,title:r.title,name:r.name,text:g.getter(r.dataTextField)(a),value:l,color:c})}}}return t},createLayout:function(t){var e=-1;if(!t.rows)t.rows=[];for(var n=0;n<t.rows.length;n++)if(t.rows[n].allDay){e=n;break}var r=t.rows[e];if(e>=0)t.rows.splice(e,1);var i=this.columnLevels=h(t,"columns");var s=this.rowLevels=h(t,"rows");if(this._isVirtualized())this._trimRowLevels(s);this.table=v('<table role="presentation" class="k-scheduler-layout k-scheduler-'+this.name+'view"><tbody></tbody></table>');var o=s[s.length-1].length;this.table.find("tbody").first().append(this._topSection(i,r,o));this.table.find("tbody").first().append(this._bottomSection(i,s,o));this.element.append(this.table);if(this._isVirtualized())this._updateDomRowLevels();if(this._isMobile()&&i.length>1&&this._groupOrientation()==="horizontal"&&g._outerWidth(v(window))<f){this.table.find(".k-scheduler-content .k-scheduler-table").width(i[i.length-2].length*100+"%");this.table.find(".k-scheduler-header .k-scheduler-table").width(i[i.length-2].length*100+"%")}this._scroller()},_isVirtualized:function(){return this.options.virtual&&this.rowLevels.length>1&&this._isVerticallyGrouped()},_trimRowLevels:function(t){var e=t[t.length-2];var n=this.cachedRowLevels||[];var r;this._hasContentToRender=true;var i=function(t,e){var n=t[e-1].length>0,r,i;if(n){r=t[e-1][0];i=t[e][0].parentValue;return r.value!==i}else return true};for(var s=t.length-2;s>=0;s--){var o=false;if(s>0&&i(t,s)){o=true;r=s}n[s]=t[s].splice(1);if(s<t.length-2&&t[s][0].rows.length!=1)t[s][0].rows=t[s+1];if(o)break}n[t.length-1]=t[t.length-1].splice(e[0].rows.length);this.cachedRowLevels=n;if(!n[n.length-1].length)this._hasContentToRender=false;return{levelMarker:r||0,rowLevels:t}},createNextLayout:function(){var t=[];var e;var n;var r;var i;for(var s=0;s<this.cachedRowLevels.length;s++)t[s]=this.cachedRowLevels[s];e=this._trimRowLevels(t);n=e.rowLevels.splice(e.levelMarker);r=e.levelMarker;i=n[n.length-1].length;delete this._height;for(var o=r;o<this.rowLevels.length;o++)this.rowLevels[o]=this.rowLevels[o].concat(n[o-r]);this.table.find(".k-scheduler-times").last().find("tbody").append(this._times(n,i,this._isMobile()).find("tr"));this._updateDomRowLevels();if(r>0)for(o=0;o<r;o++){var a=this.table.find("[data-row-level="+o+"]").last();var l=parseInt(a.attr("rowspan"),10)+i;a.attr("rowspan",l)}this._virtualContent(n,this.columnLevels);this.render(this._cachedEvents)},_tryRenderContent:function(){var t=this;var e=t.table.innerHeight();var n=t.content.find("table").innerHeight();var r=t.content.scrollTop();while(t._hasContentToRender&&n-e<r){t.createNextLayout();n=t.content.find("table").innerHeight()}},_updateDomRowLevels:function(){var t=this;var e=t.times.find(".k-scheduler-group-cell:not([data-row-level])");if(!this._rowLevelIndices){this._rowLevelIndices=e.map(function(t,e){v(e).attr("data-row-level",t);return t}).toArray().reverse();return}e=e.toArray().reverse();for(var n=0;n<=e.length;n++)v(e[n]).attr("data-row-level",this._rowLevelIndices[n])},refreshLayout:function(){var t=this,e=t.element.find("> .k-scheduler-toolbar"),n=t.element.innerHeight(),r=this._scrollbar,i=0,s=this._isRtl?"left":"right";for(var o=0;o<e.length;o++)n-=c(e.eq(o));if(t.datesHeader)i=c(t.datesHeader);if(t.timesHeader&&c(t.timesHeader)>i)i=c(t.timesHeader);if(t.datesHeader&&t.timesHeader){var a=t.datesHeader.find("table").first().find("tr");t.timesHeader.find("tr").height(function(t){v(this).height(a.eq(t).height())})}if(i)n-=i;if(t.footer)n-=c(t.footer);var u=function(t){var e,n;if(t[0].style.height)return true;else e=t.height();t.height("auto");n=t.height();if(e!=n){t.height("");return true}t.height("");return false};var l=t.content[0],h=!g.support.kineticScrollNeeded?r:0;if(u(t.element)){if(n>r*2)t.content.height(n);else t.content.height(r*2+1);if(t.times){t.times.height(l.clientHeight);var f=t.times.find("table");if(f.length)f.height(t.content.find("table")[0].clientHeight)}}if(t.table){if(l.offsetWidth-l.clientWidth>0){t.table.addClass("k-scrollbar-v");t.datesHeader.css("padding-"+s,h-parseInt(t.datesHeader.children().css("border-"+s+"-width"),10))}else t.datesHeader.css("padding-"+s,"0");if(l.offsetHeight-l.clientHeight>0||l.clientHeight>t.content.children(".k-scheduler-table").height())t.table.addClass("k-scrollbar-h");else t.table.removeClass("k-scrollbar-h")}},_topSection:function(t,e,n){var r=v("<tr>");this.timesHeader=S(t.length,e,n);this.datesHeader=this._datesHeader(t,e);var i=this.datesHeader.find(".k-nav-day");if(i.length)i.closest("tr").addClass("k-scheduler-date-group");if(this._isMobile()){r.addClass("k-mobile-header");r.addClass("k-mobile-"+this._groupOrientation()+"-header")}return v(r).append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(t,e,n){this.times=this._times(e,n,this._isMobile());this.content=y(t[t.length-1],e[e.length-1]);return v("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var e=this;this.content.on("scroll"+s,function(){g.scrollLeft(e.datesHeader.find(">.k-scheduler-header-wrap"),this.scrollLeft);e.times.scrollTop(this.scrollTop);if(e._isVirtualized())e._tryRenderContent()});var t=g.touchScroller(this.content,{avoidScrolling:function(t){return v(t.event.target).closest(".k-event.k-event-active").length>0}});if(t&&t.movable){this._touchScroller=t;this.content=t.scrollElement;t.movable.bind("change",function(t){g.scrollLeft(e.datesHeader.find(">.k-scheduler-header-wrap"),-t.sender.x);e.times.scrollTop(-t.sender.y);if(e._isVirtualized())e._tryRenderContent()})}},_resourcesForGroups:function(){var t=[];var e=this.options.group;var n=this.options.resources;e=e&&e.resources?e.resources:[];if(n&&e.length)for(var r=0,i=n.length;r<i;r++)for(var s=0,o=e.length;s<o;s++)if(n[r].name===e[s])t.push(n[r]);this.groupedResources=t},_createDateLayout:function(t,e,n){return B("rows",t,e,n)},_createColumnsLayout:function(t,e,n,r,i,s){return _("columns",t,e,n,r,i,s)},_groupOrientation:function(){var t=this.options.group;return t&&t.resources?t.orientation:"horizontal"},_isGroupedByDate:function(){return this.options.group&&this.options.group.date},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(t,e,n,r){return _("rows",t,e,n,r)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").removeClass("k-state-selected")},destroy:function(){var t=this;i.fn.destroy.call(this);if(t.table){g.destroy(t.table);t.table.remove()}if(t.footer){g.destroy(t.footer);t.footer.remove()}t.groups=null;t.table=null;t.content=null;t.times=null;t.datesHeader=null;t.timesHeader=null;t.footer=null;t._resizeHint=null;t._moveHint=null},calendarInfo:function(){return g.getCulture().calendars.standard},prevGroupSlot:function(t,e,n){var r;var i=this.groups[e];var s=i.ranges(t,t,n,false)[0].start;if(e<=0)return;if(this._isGroupedByDate())return s;if(this._isVerticallyGrouped())if(!i.timeSlotCollectionCount()){r=i._collection(i.daySlotCollectionCount()-1,true);return r.at(s.index)}else{r=i._collection(n?s.index:s.collectionIndex,false);return r.last()}else if(!i.timeSlotCollectionCount()){r=i._collection(s.collectionIndex,true);return r.last()}else{r=i._collection(n?0:i.timeSlotCollectionCount()-1,n);return n?r.last():r.at(s.index)}},nextGroupSlot:function(t,e,n){var r;var i=this.groups[e];var s=i.ranges(t,t,n,false)[0].start;var o;if(e>=this.groups.length-1)return;if(this._isGroupedByDate())return s;if(this._isVerticallyGrouped())if(!i.timeSlotCollectionCount()){r=i._collection(0,true);return r.at(s.index)}else{o=i.daySlotCollectionCount();r=i._collection(o?0:s.collectionIndex,o);return n?r.first():r.at(s.collectionIndex)}else if(!i.timeSlotCollectionCount()){r=i._collection(s.collectionIndex,true);return r.first()}else{r=i._collection(0,n);return n?r.first():r.at(s.index)}},_eventOptionsForMove:function(){return{}},_updateEventForResize:function(){return},_updateEventForSelection:function(t){return t},_innerElements:function(t,o,a){var l=0,f=function(t){var e=t[a],n=t[o],r,i,s;if(e){l+=e;return}if(!n||n.length===0){l+=1;return}for(s=0;s<n.length;s++){r=n[s];i=r[o];if(i&&i[0])if(!i[0][o]||i[0][o].length===0)l+=i.length;else f(r);else l+=1}};f(t);return l},_times:function(t,e,u){var h=this;var n=new Array(e).join().split(",");var r=[];var i;for(var s=0;s<t.length;s++){var c=t[s];var d=0;for(i=0;i<c.length;i++){var o=c[i];var a=o.className||"";var l=o.text;var f=h._innerElements(o,"rows");d+=f;if(o.allDay)a="k-scheduler-times-all-day";if(u&&a.indexOf("k-scheduler-group-cell")!==-1)l='<span class="k-scheduler-group-text">'+l+"</span>";n[d-f]+='<th class="'+a+'" rowspan="'+f+'">'+l+"</th>"}}for(i=0;i<e;i++)r.push(n[i]);if(e<1)return v();return v('<div class="k-scheduler-times">'+p(r)+"</div>")},_datesHeader:function(t,e){var u=this;var n=[];var r;for(var i=0;i<t.length;i++){var s=t[i];var o=[];for(r=0;r<s.length;r++){var a=s[r];var h=u._innerElements(a,"columns","colspan");o.push('<th colspan="'+(a.colspan||h)+'" class="'+(a.className||"")+'">'+a.text+"</th>")}n.push(o.join(""))}var l=[];if(e){var f=t[t.length-1];var c=[];var d=e.cellContent;for(r=0;r<f.length;r++)c.push('<td class="'+(f[r].className||"")+'">'+(d?d(r):"&nbsp;")+"</td>");l.push(c.join(""))}return v('<div class="k-scheduler-header">'+'<div class="k-scheduler-header-wrap">'+p(n)+m(l,"k-scheduler-header-all-day")+"</div>"+"</div>")},_formatEventAriaLabel:function(t,e,n,r){var i=this.options.messages.ariaEventLabel,s=g.date.getDate(e).getTime()===g.date.getDate(n).getTime(),o;if(typeof i==="string")return g.format(i,t,e,e);o=(i.prefix+a+t+a+i.on+a+g.toString(e,"D")).trim();if(r&&s)return o+a+i.allDay;else if(r)return o+a+i.to+a+g.toString(n,"D")+a+i.allDay;else{o=o+a+i.at+a+g.toString(e,"t")+a+i.to+a;if(s)return o+g.toString(n,"t");else return o+g.toString(n,"D")+a+i.at+a+g.toString(n,"t")}}});var l=function(t){var e=this,n=l.formats,r,i,s,o,a;if(arguments.length===1){t=e.resolveColor(t);for(o=0;o<n.length;o++){r=n[o].re;i=n[o].process;s=r.exec(t);if(s){a=i(s);e.r=a[0];e.g=a[1];e.b=a[2]}}}else{e.r=arguments[0];e.g=arguments[1];e.b=arguments[2]}e.r=e.normalizeByte(e.r);e.g=e.normalizeByte(e.g);e.b=e.normalizeByte(e.b)};function G(t){var e=[];for(var n=0;n<t.length;n++){var r=t[n];var i=E(r);var s=null;for(var o=0,a=e.length;o<a;o++){var l=i.start>e[o].end;if(i.start<e[o].start||l){s=e[o];if(s.end<i.end)s.end=i.end;break}}if(!s){s={start:i.start,end:i.end,events:[]};e.push(s)}s.events.push(r)}return e}function B(i,t,s,o){var a=[];v.each(t,function(t,e){var n=e.className?"k-slot-cell "+e.className:"k-slot-cell";var r={text:e.text,className:n};if(o&&!e.minorTicks)r[i]=B(i,e.columns,s,o);else r[i]=s;a.push(r)});return a}function _(n,r,t,i,e,s,o){var a=r[0];var u=[];if(a){if(e&&t){v.each(e,function(t,e){if(s&&!e.minorTicks)e[n]=_(n,r,e.columns,i,e.columns,s,o);else e[n]=_(n,r,null,i,null,null,o)});u=e}else{var l=a.dataSource.view();l=l.filter(function(t){var e=g.getter(a.dataParentValueField)(t);return e===null||e===undefined||e===o});for(var f=0;f<l.length;f++){var h=g.getter(a.dataValueField)(l[f]);var c={text:i({text:g.htmlEncode(g.getter(a.dataTextField)(l[f])),color:g.getter(a.dataColorField)(l[f]),field:a.field,title:a.title,name:a.name,value:h}),className:"k-slot-cell k-scheduler-group-cell",parentValue:o,value:h};c[n]=_(n,r.slice(1),t,i,e,s,h);u.push(c)}}return u}return t}function M(n){return function(t){if(Array.isArray(t)||t instanceof g.data.ObservableArray){for(var e=0;e<t.length;e++)if(t[e]==n)return true;return false}return t==n}}l.prototype={resolveColor:function(t){t=t||"#000";if(t.charAt(0)=="#")t=t.substr(1,6);t=t.replace(/ /g,"");t=t.toLowerCase();t=l.namedColors[t]||t;return t},normalizeByte:function(t){return t<0||isNaN(t)?0:t>255?255:t},percBrightness:function(){var t=this;return u.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)},isDark:function(){var t=this;var e=t.percBrightness();return e<180}},l.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],l.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var W=/\s*k-state-selected/;function F(t){t.className=t.className.replace(W,"")+" k-state-selected"}return v.extend(r.SchedulerView,{createColumns:V,createRows:A,rangeIndex:E,collidingEvents:L,groupEqFilter:M}),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,n){(n||e)()});
//# sourceMappingURL=kendo.scheduler.view.min.js.map
