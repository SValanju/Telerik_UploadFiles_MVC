{"version":3,"file":"kendo.daterangepicker.min.js","sources":["kendo.daterangepicker.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.daterangepicker',[ \"kendo.core\", \"kendo.multiviewcalendar\", \"kendo.datepicker\"], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"daterangepicker\",\n    name: \"DateRangePicker\",\n    category: \"web\",\n    description: \"Date range picker.\",\n    depends: [ \"core\", \"multiviewcalendar\", \"datepicker\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        MONTH = \"month\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        DIV = \"<div />\",\n        MIN = \"min\",\n        MAX = \"max\",\n        template = kendo.template,\n        extend = $.extend,\n        ID = \"id\",\n        support = kendo.support,\n        mobileOS = support.mobileOS,\n        SELECTED = \"k-state-selected\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        STATEDISABLED = \"k-disabled\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ns = \".kendoDateRangePicker\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n        parse = kendo.parseDate;\n\n    var DateRangeView = function(options) {\n        kendo.DateView.call(this, options);\n    };\n\n    DateRangeView.prototype = Object.create(kendo.DateView.prototype);\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    DateRangeView.prototype._calendar = function() {\n        var that = this;\n        var calendar = that.calendar;\n        var options = that.options;\n        var div;\n\n        if (!calendar) {\n            div = $(DIV).attr(ID, kendo.guid())\n                        .appendTo(that.popup.element);\n\n            that.calendar = calendar = new ui.MultiViewCalendar(div);\n            that._setOptions(options);\n\n            calendar.navigate(that._value || that._current, options.start);\n\n            that._range = that._range || options.range || {};\n\n            div.on(MOUSEDOWN, preventDefault)\n               .on(CLICK, \"td:has(.k-link)\", that._click.bind(that));\n\n            that.calendar.selectRange(that._range);\n        }\n    };\n\n    DateRangeView.prototype._setOptions = function(options) {\n        this.calendar.setOptions({\n            focusOnNav: false,\n            change: options.change,\n            culture: options.culture,\n            dates: options.dates,\n            depth: options.depth,\n            footer: options.footer,\n            format: options.format,\n            selectable: options.selectable,\n            max: options.max,\n            min: options.min,\n            month: options.month,\n            weekNumber: options.weekNumber,\n            start: options.start,\n            disableDates: options.disableDates,\n            range: options.range\n        });\n    };\n\n    DateRangeView.prototype.range = function(range) {\n        this._range = range;\n\n        if (this.calendar) {\n            if (!range.start && !range.end) {\n                this.calendar.selectRange(range);\n                this.calendar.rangeSelectable.clear(true);\n            } else {\n                this.calendar.selectRange(range);\n            }\n        }\n    };\n\n    DateRangeView.prototype.move = function(e) {\n        var that = this;\n        var key = e.keyCode;\n        var calendar = that.calendar;\n        var selectIsClicked = e.ctrlKey && key == keys.DOWN || key == keys.ENTER;\n        var handled = false;\n\n        if (e.altKey) {\n            if (key == keys.DOWN) {\n                that.open();\n                e.preventDefault();\n                handled = true;\n            } else if (key == keys.UP) {\n                that.close();\n                e.preventDefault();\n                handled = true;\n            }\n\n        } else if (that.popup.visible()) {\n\n            if (key == keys.ESC || (selectIsClicked && calendar._cell.hasClass(SELECTED))) {\n                that.close();\n                e.preventDefault();\n                return true;\n            }\n\n            that._current = calendar._move(e, true);\n\n            handled = true;\n        }\n\n        return handled;\n    };\n\n    DateRangeView.prototype._click = function(e) {\n\n        if (mobileOS.ios || (mobileOS.android && (mobileOS.browser == \"firefox\" || mobileOS.browser == \"chrome\"))) {\n            if (this._range && this._range.end) {\n                this.close();\n            }\n        }\n        else if (this._range && this._range.end && e.currentTarget.className.indexOf(\"k-range-end\") !== -1) {\n            this.close();\n        }\n    };\n\n    kendo.DateRangeView = DateRangeView;\n\n    var DateRangePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var div;\n            var disabled;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            that._initialOptions = extend({}, options);\n\n            that._buildHTML();\n\n            that._range = that.options.range;\n            that._changeTriggered = false;\n\n            that.dateView = new DateRangeView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                views: 2,\n                selectable: \"range\",\n                range: that._range,\n                change: function() {\n                    var range = this.selectRange();\n                    that.range(range);\n                    that.trigger(CHANGE);\n                    that._changeTriggered = true;\n                    that._startDateInput.trigger(CHANGE);\n                    that._endDateInput.trigger(CHANGE);\n                    that._changeTriggered = false;\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        that._inputs.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n\n                        setTimeout(function() {\n                            if (that._inputs) {\n                                that._inputs.removeAttr(ARIA_ACTIVEDESCENDANT);\n                            }\n                        });\n                    }\n                },\n                open: function(e) {\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        that._inputs.attr(ARIA_EXPANDED, true);\n                        div.attr(ARIA_HIDDEN, false);\n                        that._updateARIA();\n                    }\n                }\n            }));\n            div = that.dateView.div;\n            that._ariaTemplate = template(this.options.ARIATemplate).bind(that);\n            that._reset();\n            that._aria();\n\n            that._inputs\n                .on(UP + ns, that._click.bind(that))\n                .on(\"keydown\" + ns, that._keydown.bind(that));\n\n            that._initializeDateInputs();\n\n            disabled = element.is(\"[disabled]\");\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n        },\n\n        options: {\n            name: \"DateRangePicker\",\n            labels: true,\n            footer: \"\",\n            format: \"\",\n            culture: \"\",\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            startField: \"\",\n            endField: \"\",\n            dates: [],\n            disableDates: null,\n            range: null,\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            weekNumber: false,\n            messages: {\n                startLabel: \"Start\",\n                endLabel: \"End\"\n            },\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n            that._inputs.off(ns);\n\n            this._initializeDateInputs();\n            that.dateView.setOptions(options);\n            that._range = options.range;\n        },\n\n        _aria: function() {\n            this._inputs\n                .attr({\n                    role: \"combobox\",\n                    \"aria-haspopup\": \"grid\",\n                    \"aria-expanded\": false,\n                    \"aria-controls\": this.dateView._dateViewID,\n                    \"autocomplete\": \"off\"\n                });\n        },\n\n        _click: function() {\n            var that = this;\n\n            if (!that._preventInputAction && !that.dateView.popup.visible()) {\n                that.dateView.open();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                handled = false;\n\n            if (that._preventInputAction) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            handled = dateView.move(e);\n            that._updateARIA(dateView._current);\n\n            if (handled && e.stopImmediatePropagation) {\n                e.stopImmediatePropagation();\n            }\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that._inputs && that._inputs.length) {\n                that._inputs.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                if (date && !calendar._dateInViews(date)) {\n                    calendar.navigate(date);\n                }\n\n                if ($.contains(that.element[0], document.activeElement)) {\n                    that._inputs.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n                }\n            }\n        },\n\n        _startChange: function(e) {\n            var that = this;\n            var input = e.sender;\n            var startValue = input.value();\n            var endValue = that._endDateInput.value();\n\n            if (that.options.disableDates(startValue)) {\n                e.sender.value(null);\n                startValue = null;\n            }\n\n            that.range({ start: startValue, end: endValue });\n\n            if (!that._changeTriggered) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _endChange: function(e) {\n            var that = this;\n            var input = e.sender;\n            var endValue = input.value();\n            var startValue = that._startDateInput.value();\n\n            if (that.options.disableDates(endValue)) {\n                e.sender.value(null);\n                endValue = null;\n            }\n\n            that.range({ start: startValue, end: endValue });\n\n            if (!that._changeTriggered) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _initializeDateInputs: function() {\n            var that = this;\n            var options = that.options;\n            var range = options.range || {};\n            var inputOptions = {\n                footer: options.footer,\n                format: options.format,\n                culture: options.culture,\n                min: options.min,\n                max: options.max,\n                start: options.start,\n                startField: options.startField,\n                endField: options.endField,\n                depth: options.depth,\n                animation: options.animation,\n                month: options.month,\n                dates: options.dates,\n                disableDates: options.disableDates,\n                ARIATemplate: options.ARIATemplate,\n                weekNumber: options.weekNumber,\n                size: options.size,\n                fillMode: options.fillMode,\n                rounded: options.rounded\n            };\n\n            if (that._startDateInput) {\n                that._startDateInput.destroy();\n                that._endDateInput.destroy();\n                that.wrapper.empty();\n                that._buildHTML();\n                that._inputs\n                    .on(UP + ns, that._click.bind(that))\n                    .on(\"keydown\" + ns, that._keydown.bind(that));\n            }\n            that._startDateInput = that._startInput.kendoDateInput(extend(true, inputOptions, { value: range.start })).getKendoDateInput();\n            that._endDateInput = that._endInput.kendoDateInput(extend(true, inputOptions, { value: range.end })).getKendoDateInput();\n\n            that._startChangeHandler = that._startChange.bind(that);\n            that._startDateInput.bind(CHANGE, that._startChangeHandler);\n\n            that._endChangeHandler = that._endChange.bind(that);\n            that._endDateInput.bind(CHANGE, that._endChangeHandler);\n\n        },\n\n        _buildHTML: function() {\n            var that = this;\n            var element = that.element;\n            var id;\n\n            if (!that.wrapper) {\n                that.wrapper = element.addClass(\"k-daterangepicker\");\n            }\n\n            if (that.options.labels) {\n                id = kendo.guid();\n                $('<span class=\"k-floating-label-container\"><input id=\"' + id + '\"/><label for=\"' + id + '\" class=\"k-label\">' + that.options.messages.startLabel + '</label></span>').appendTo(that.wrapper);\n                id = kendo.guid();\n                $('<span>&nbsp;</span><span class=\"k-floating-label-container\"><input id=\"' + id + '\"/><label for=\"' + id + '\" class=\"k-label\">' + that.options.messages.endLabel + '</label></span>').appendTo(that.wrapper);\n            } else {\n                $('<input/><span>&nbsp;</span><input/>').appendTo(that.wrapper);\n            }\n\n            that._startInput = that.wrapper.find(\"input\").eq(0);\n            that._endInput = that.wrapper.find(\"input\").eq(1);\n\n            if (that.options.startField !== \"\") {\n                that._startInput.attr(kendo.attr(\"bind\"), \"value: \" + that.options.startField);\n\t\t\t\tthat._startInput.attr(\"name\", that.options.startField);\n            }\n\n            if (that.options.endField !== \"\") {\n                that._endInput.attr(kendo.attr(\"bind\"), \"value: \" + that.options.endField);\n\t\t\t\tthat._endInput.attr(\"name\", that.options.endField);\n            }\n\n            that._inputs = that._startInput.add(that._endInput);\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new Date(+value);\n            that.dateView[option](value);\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                inputs = that._inputs,\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                that.wrapper\n                    .removeClass(STATEDISABLED);\n\n                $.each(inputs, function(key, item) {\n                    item.removeAttribute(DISABLED);\n                    item.removeAttribute(READONLY);\n                });\n\n                inputs.attr(ARIA_DISABLED, false);\n                that._preventInputAction = false;\n            } else {\n                that.wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                    inputs.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                that._preventInputAction = true;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._startDateInput) {\n                that._startDateInput.unbind(CHANGE, that._startChangeHandler);\n                that._startDateInput.destroy();\n                that._startChangeHandler = null;\n            }\n\n            if (that._endDateInput) {\n                that._endDateInput.unbind(CHANGE, that._endChangeHandler);\n                that._endDateInput.destroy();\n                that._endChangeHandler = null;\n            }\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            that._inputs.off(ns);\n            that._inputs = null;\n\n            that.dateView.destroy();\n\n            that.element.off(ns);\n\n            Widget.fn.destroy.call(that);\n        },\n\n        range: function(range) {\n            var that = this;\n\n            if (range === undefined) {\n                return that._range;\n            }\n\n            that._range = range;\n            that.dateView.range({ start: null, end: null });\n            if (!range) {\n                that._startDateInput.value(null);\n                that._endDateInput.value(null);\n            }\n\n            that._startDateInput.value(range.start ? range.start : null);\n            that._endDateInput.value(range.end ? range.end : null);\n\n            if (range.start && !range.end) {\n                that.dateView.range({ start: range.start, end: null });\n            } else if (range.start && range.end && +range.start <= +range.end) {\n                that.dateView.range({ start: range.start, end: range.end });\n            }\n        },\n\n        open: function() {\n            this.dateView.open();\n        },\n\n        close: function() {\n            this.dateView.close();\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(MAX, value);\n        },\n\n        readonly: function(readonly) {\n            this._startDateInput.readonly(readonly);\n            this._endDateInput.readonly(readonly);\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._startDateInput.enable(enable);\n            this._endDateInput.enable(enable);\n\n            if (!enable) {\n                this.close();\n            }\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        }\n    });\n\n    kendo.ui.plugin(DateRangePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","keys","Widget","MONTH","OPEN","CLOSE","CHANGE","DIV","MIN","MAX","template","extend","ID","support","mobileOS","SELECTED","ARIA_EXPANDED","ARIA_DISABLED","ARIA_ACTIVEDESCENDANT","STATEDISABLED","DISABLED","READONLY","ARIA_HIDDEN","ns","CLICK","MOUSEDOWN","UP","mouseAndTouchPresent","applyEventMap","slice","parse","parseDate","DateRangeView","options","DateView","call","this","preventDefault","e","prototype","Object","create","_calendar","that","calendar","div","attr","guid","appendTo","popup","element","MultiViewCalendar","_setOptions","navigate","_value","_current","start","_range","range","on","_click","bind","selectRange","setOptions","focusOnNav","change","culture","dates","depth","footer","format","selectable","max","min","month","weekNumber","disableDates","end","rangeSelectable","clear","move","key","keyCode","selectIsClicked","ctrlKey","DOWN","ENTER","handled","altKey","open","close","visible","ESC","_cell","hasClass","_move","ios","android","browser","currentTarget","className","indexOf","DateRangePicker","init","disabled","fn","_initialOptions","_buildHTML","_changeTriggered","dateView","anchor","wrapper","views","trigger","_startDateInput","_endDateInput","_inputs","setTimeout","removeAttr","_updateARIA","_ariaTemplate","ARIATemplate","_reset","_aria","_keydown","_initializeDateInputs","is","enable","readonly","labels","Date","animation","startField","endField","messages","startLabel","endLabel","size","fillMode","rounded","events","off","role","aria-haspopup","aria-expanded","aria-controls","_dateViewID","autocomplete","_preventInputAction","stopImmediatePropagation","date","length","_dateInViews","contains","document","activeElement","_updateAria","_startChange","input","sender","startValue","value","endValue","_endChange","inputOptions","destroy","empty","_startInput","kendoDateInput","getKendoDateInput","_endInput","_startChangeHandler","_endChangeHandler","addClass","find","eq","add","_option","option","parseFormats","formId","form","closest","_resetHandler","_form","_editable","inputs","disable","removeClass","each","item","removeAttribute","unbind","plugin","amd","a1","a2","a3"],"mappings":"CAAA,SAAaA,QACTA,OAAO,wBAAwB,CAAE,aAAc,0BAA2B,oBAC3E,WAEH,IAAIC,EAAW,CACXC,GAAI,kBACJC,KAAM,kBACNC,SAAU,MACVC,YAAa,qBACbC,QAAS,CAAE,OAAQ,oBAAqB,eAGlCC,EA8lBPC,OAAOC,MAAMC,OA9lBHC,OAAb,EACQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXC,EAAOJ,EAAMI,KACbC,EAASF,EAAGE,OACZC,EAAQ,QACRC,EAAO,OACPC,EAAQ,QACRC,EAAS,SACTC,EAAM,UACNC,EAAM,MACNC,EAAM,MACNC,EAAWb,EAAMa,SACjBC,EAAShB,EAAEgB,OACXC,EAAK,KACLC,EAAUhB,EAAMgB,QAChBC,EAAWD,EAAQC,SACnBC,EAAW,mBACXC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAwB,wBACxBC,EAAgB,aAChBC,EAAW,WACXC,EAAW,WACXC,EAAc,cACdC,EAAK,wBACLC,EAAQ,QAAUD,EAClBE,EAAY,YAAcF,EAC1BG,EAAKb,EAAQc,qBAAuB9B,EAAM+B,cAAc,KAAML,EAAGM,MAAM,IAAML,EAC7EM,EAAQjC,EAAMkC,UAEdC,EAAgB,SAASC,GACzBpC,EAAMqC,SAASC,KAAKC,KAAMH,IAK9B,SAASI,EAAeC,GACpBA,EAAED,kBAHNL,EAAcO,UAAYC,OAAOC,OAAO5C,EAAMqC,SAASK,YAM/BG,UAAY,WAChC,IAAIC,EAAOP,KACX,IAAIQ,EAAWD,EAAKC,SACpB,IAAIX,EAAUU,EAAKV,QACnB,IAAIY,EAEJ,IAAKD,EAAU,CACXC,EAAMlD,EAAEY,GAAKuC,KAAKlC,EAAIf,EAAMkD,QACfC,SAASL,EAAKM,MAAMC,SAEjCP,EAAKC,SAAWA,EAAW,IAAI5C,EAAGmD,kBAAkBN,GACpDF,EAAKS,YAAYnB,GAEjBW,EAASS,SAASV,EAAKW,QAAUX,EAAKY,SAAUtB,EAAQuB,OAExDb,EAAKc,OAASd,EAAKc,QAAUxB,EAAQyB,OAAS,GAE9Cb,EAAIc,GAAGlC,EAAWY,GACdsB,GAAGnC,EAAO,kBAAmBmB,EAAKiB,OAAOC,KAAKlB,IAElDA,EAAKC,SAASkB,YAAYnB,EAAKc,UAIvCzB,EAAcO,UAAUa,YAAc,SAASnB,GAC3CG,KAAKQ,SAASmB,WAAW,CACrBC,WAAY,MACZC,OAAQhC,EAAQgC,OAChBC,QAASjC,EAAQiC,QACjBC,MAAOlC,EAAQkC,MACfC,MAAOnC,EAAQmC,MACfC,OAAQpC,EAAQoC,OAChBC,OAAQrC,EAAQqC,OAChBC,WAAYtC,EAAQsC,WACpBC,IAAKvC,EAAQuC,IACbC,IAAKxC,EAAQwC,IACbC,MAAOzC,EAAQyC,MACfC,WAAY1C,EAAQ0C,WACpBnB,MAAOvB,EAAQuB,MACfoB,aAAc3C,EAAQ2C,aACtBlB,MAAOzB,EAAQyB,SAIvB1B,EAAcO,UAAUmB,MAAQ,SAASA,GACrCtB,KAAKqB,OAASC,EAEd,GAAItB,KAAKQ,SACL,IAAKc,EAAMF,QAAUE,EAAMmB,IAAK,CAC5BzC,KAAKQ,SAASkB,YAAYJ,GAC1BtB,KAAKQ,SAASkC,gBAAgBC,MAAM,WAEpC3C,KAAKQ,SAASkB,YAAYJ,IAKtC1B,EAAcO,UAAUyC,KAAO,SAAS1C,GACpC,IAAIK,EAAOP,KACX,IAAI6C,EAAM3C,EAAE4C,QACZ,IAAItC,EAAWD,EAAKC,SACpB,IAAIuC,EAAkB7C,EAAE8C,SAAWH,GAAOhF,EAAKoF,MAAQJ,GAAOhF,EAAKqF,MACnE,IAAIC,EAAU,MAEd,GAAIjD,EAAEkD,QACF,GAAIP,GAAOhF,EAAKoF,KAAM,CAClB1C,EAAK8C,OACLnD,EAAED,iBACFkD,EAAU,UACP,GAAIN,GAAOhF,EAAKyB,GAAI,CACvBiB,EAAK+C,QACLpD,EAAED,iBACFkD,EAAU,WAGX,GAAI5C,EAAKM,MAAM0C,UAAW,CAE7B,GAAIV,GAAOhF,EAAK2F,KAAQT,GAAmBvC,EAASiD,MAAMC,SAAS/E,GAAY,CAC3E4B,EAAK+C,QACLpD,EAAED,iBACF,OAAO,KAGXM,EAAKY,SAAWX,EAASmD,MAAMzD,EAAG,MAElCiD,EAAU,KAGd,OAAOA,GAGXvD,EAAcO,UAAUqB,OAAS,SAAStB,GAEtC,GAAIxB,EAASkF,KAAQlF,EAASmF,UAAYnF,EAASoF,SAAW,WAAapF,EAASoF,SAAW,WAC3F,GAAI9D,KAAKqB,QAAUrB,KAAKqB,OAAOoB,IAC3BzC,KAAKsD,aAGR,GAAItD,KAAKqB,QAAUrB,KAAKqB,OAAOoB,KAAOvC,EAAE6D,cAAcC,UAAUC,QAAQ,kBAAoB,EAC7FjE,KAAKsD,SAIb7F,EAAMmC,cAAgBA,EAEtB,IAAIsE,EAAkBpG,EAAOS,OAAO,CAChC4F,KAAM,SAASrD,EAASjB,GACpB,IAAIU,EAAOP,KACX,IAAIS,EACJ,IAAI2D,EAEJtG,EAAOuG,GAAGF,KAAKpE,KAAKQ,EAAMO,EAASjB,GACnCiB,EAAUP,EAAKO,QACfjB,EAAUU,EAAKV,QACfA,EAAQ2C,aAAe/E,EAAM+C,SAAS4D,SAASvE,EAAQ2C,cAEvD3C,EAAQwC,IAAM3C,EAAMoB,EAAQJ,KAAK,SAAWhB,EAAMG,EAAQwC,KAC1DxC,EAAQuC,IAAM1C,EAAMoB,EAAQJ,KAAK,SAAWhB,EAAMG,EAAQuC,KAE1D7B,EAAK+D,gBAAkB/F,EAAO,GAAIsB,GAElCU,EAAKgE,aAELhE,EAAKc,OAASd,EAAKV,QAAQyB,MAC3Bf,EAAKiE,iBAAmB,MAExBjE,EAAKkE,SAAW,IAAI7E,EAAcrB,EAAO,GAAIsB,EAAS,CAClD3C,GAAI4D,EAAQJ,KAAKlC,GACjBkG,OAAQnE,EAAKoE,QACbC,MAAO,EACPzC,WAAY,QACZb,MAAOf,EAAKc,OACZQ,OAAQ,WACJ,IAAIP,EAAQtB,KAAK0B,cACjBnB,EAAKe,MAAMA,GACXf,EAAKsE,QAAQ3G,GACbqC,EAAKiE,iBAAmB,KACxBjE,EAAKuE,gBAAgBD,QAAQ3G,GAC7BqC,EAAKwE,cAAcF,QAAQ3G,GAC3BqC,EAAKiE,iBAAmB,OAE5BlB,MAAO,SAASpD,GACZ,GAAIK,EAAKsE,QAAQ5G,GACbiC,EAAED,qBACC,CACHM,EAAKyE,QAAQtE,KAAK9B,EAAe,OACjC6B,EAAIC,KAAKxB,EAAa,MAEtB+F,WAAW,WACP,GAAI1E,EAAKyE,QACLzE,EAAKyE,QAAQE,WAAWpG,OAKxCuE,KAAM,SAASnD,GACX,GAAIK,EAAKsE,QAAQ7G,GACbkC,EAAED,qBACC,CACHM,EAAKyE,QAAQtE,KAAK9B,EAAe,MACjC6B,EAAIC,KAAKxB,EAAa,OACtBqB,EAAK4E,mBAIjB1E,EAAMF,EAAKkE,SAAShE,IACpBF,EAAK6E,cAAgB9G,EAAS0B,KAAKH,QAAQwF,cAAc5D,KAAKlB,GAC9DA,EAAK+E,SACL/E,EAAKgF,QAELhF,EAAKyE,QACAzD,GAAGjC,EAAKH,EAAIoB,EAAKiB,OAAOC,KAAKlB,IAC7BgB,GAAG,UAAYpC,EAAIoB,EAAKiF,SAAS/D,KAAKlB,IAE3CA,EAAKkF,wBAELrB,EAAWtD,EAAQ4E,GAAG,cACtB,GAAItB,EACA7D,EAAKoF,OAAO,YAEZpF,EAAKqF,SAAS9E,EAAQ4E,GAAG,gBAIjC7F,QAAS,CACL1C,KAAM,kBACN0I,OAAQ,KACR5D,OAAQ,GACRC,OAAQ,GACRJ,QAAS,GACTO,IAAK,IAAIyD,KAAK,KAAM,EAAG,GACvB1D,IAAK,IAAI0D,KAAK,KAAM,GAAI,IACxB1E,MAAOrD,EACPiE,MAAOjE,EACPgI,UAAW,GACXzD,MAAO,GACP0D,WAAY,GACZC,SAAU,GACVlE,MAAO,GACPS,aAAc,KACdlB,MAAO,KACP+D,aAAc,oDACd9C,WAAY,MACZ2D,SAAU,CACNC,WAAY,QACZC,SAAU,OAEdC,KAAM,SACNC,SAAU,QACVC,QAAS,UAGbC,OAAQ,CACJxI,EACAC,EACAC,GAGJyD,WAAY,SAAS9B,GACjB,IAAIU,EAAOP,KAEXlC,EAAOuG,GAAG1C,WAAW5B,KAAKQ,EAAMV,GAEhCA,EAAUU,EAAKV,QAEfA,EAAQwC,IAAM3C,EAAMG,EAAQwC,KAC5BxC,EAAQuC,IAAM1C,EAAMG,EAAQuC,KAC5B7B,EAAKyE,QAAQyB,IAAItH,GAEjBa,KAAKyF,wBACLlF,EAAKkE,SAAS9C,WAAW9B,GACzBU,EAAKc,OAASxB,EAAQyB,OAG1BiE,MAAO,WACHvF,KAAKgF,QACAtE,KAAK,CACFgG,KAAM,WACNC,gBAAiB,OACjBC,gBAAiB,MACjBC,gBAAiB7G,KAAKyE,SAASqC,YAC/BC,aAAgB,SAI5BvF,OAAQ,WACJ,IAAIjB,EAAOP,KAEX,IAAKO,EAAKyG,sBAAwBzG,EAAKkE,SAAS5D,MAAM0C,UAClDhD,EAAKkE,SAASpB,QAItBmC,SAAU,SAAStF,GACf,IAAIK,EAAOP,KACPyE,EAAWlE,EAAKkE,SAChBtB,EAAU,MAEd,GAAI5C,EAAKyG,oBAAqB,CAC1B9G,EAAE+G,2BACF,OAGJ9D,EAAUsB,EAAS7B,KAAK1C,GACxBK,EAAK4E,YAAYV,EAAStD,UAE1B,GAAIgC,GAAWjD,EAAE+G,yBACb/G,EAAE+G,4BAIV9B,YAAa,SAAS+B,GAClB,IAAI3G,EAAOP,KACX,IAAIQ,EAAWD,EAAKkE,SAASjE,SAE7B,GAAID,EAAKyE,SAAWzE,EAAKyE,QAAQmC,OAC7B5G,EAAKyE,QAAQE,WAAWpG,GAG5B,GAAI0B,EAAU,CACV,GAAI0G,IAAS1G,EAAS4G,aAAaF,GAC/B1G,EAASS,SAASiG,GAGtB,GAAI3J,EAAE8J,SAAS9G,EAAKO,QAAQ,GAAIwG,SAASC,eACrChH,EAAKyE,QAAQtE,KAAK5B,EAAuB0B,EAASgH,YAAYjH,EAAK6E,cAAe8B,MAK9FO,aAAc,SAASvH,GACnB,IAAIK,EAAOP,KACX,IAAI0H,EAAQxH,EAAEyH,OACd,IAAIC,EAAaF,EAAMG,QACvB,IAAIC,EAAWvH,EAAKwE,cAAc8C,QAElC,GAAItH,EAAKV,QAAQ2C,aAAaoF,GAAa,CACvC1H,EAAEyH,OAAOE,MAAM,MACfD,EAAa,KAGjBrH,EAAKe,MAAM,CAAEF,MAAOwG,EAAYnF,IAAKqF,IAErC,IAAKvH,EAAKiE,iBACNjE,EAAKsE,QAAQ3G,IAIrB6J,WAAY,SAAS7H,GACjB,IAAIK,EAAOP,KACX,IAAI0H,EAAQxH,EAAEyH,OACd,IAAIG,EAAWJ,EAAMG,QACrB,IAAID,EAAarH,EAAKuE,gBAAgB+C,QAEtC,GAAItH,EAAKV,QAAQ2C,aAAasF,GAAW,CACrC5H,EAAEyH,OAAOE,MAAM,MACfC,EAAW,KAGfvH,EAAKe,MAAM,CAAEF,MAAOwG,EAAYnF,IAAKqF,IAErC,IAAKvH,EAAKiE,iBACNjE,EAAKsE,QAAQ3G,IAIrBuH,sBAAuB,WACnB,IAAIlF,EAAOP,KACX,IAAIH,EAAUU,EAAKV,QACnB,IAAIyB,EAAQzB,EAAQyB,OAAS,GAC7B,IAAI0G,EAAe,CACf/F,OAAQpC,EAAQoC,OAChBC,OAAQrC,EAAQqC,OAChBJ,QAASjC,EAAQiC,QACjBO,IAAKxC,EAAQwC,IACbD,IAAKvC,EAAQuC,IACbhB,MAAOvB,EAAQuB,MACf4E,WAAYnG,EAAQmG,WACpBC,SAAUpG,EAAQoG,SAClBjE,MAAOnC,EAAQmC,MACf+D,UAAWlG,EAAQkG,UACnBzD,MAAOzC,EAAQyC,MACfP,MAAOlC,EAAQkC,MACfS,aAAc3C,EAAQ2C,aACtB6C,aAAcxF,EAAQwF,aACtB9C,WAAY1C,EAAQ0C,WACpB8D,KAAMxG,EAAQwG,KACdC,SAAUzG,EAAQyG,SAClBC,QAAS1G,EAAQ0G,SAGrB,GAAIhG,EAAKuE,gBAAiB,CACtBvE,EAAKuE,gBAAgBmD,UACrB1H,EAAKwE,cAAckD,UACnB1H,EAAKoE,QAAQuD,QACb3H,EAAKgE,aACLhE,EAAKyE,QACAzD,GAAGjC,EAAKH,EAAIoB,EAAKiB,OAAOC,KAAKlB,IAC7BgB,GAAG,UAAYpC,EAAIoB,EAAKiF,SAAS/D,KAAKlB,IAE/CA,EAAKuE,gBAAkBvE,EAAK4H,YAAYC,eAAe7J,EAAO,KAAMyJ,EAAc,CAAEH,MAAOvG,EAAMF,SAAUiH,oBAC3G9H,EAAKwE,cAAgBxE,EAAK+H,UAAUF,eAAe7J,EAAO,KAAMyJ,EAAc,CAAEH,MAAOvG,EAAMmB,OAAQ4F,oBAErG9H,EAAKgI,oBAAsBhI,EAAKkH,aAAahG,KAAKlB,GAClDA,EAAKuE,gBAAgBrD,KAAKvD,EAAQqC,EAAKgI,qBAEvChI,EAAKiI,kBAAoBjI,EAAKwH,WAAWtG,KAAKlB,GAC9CA,EAAKwE,cAActD,KAAKvD,EAAQqC,EAAKiI,oBAIzCjE,WAAY,WACR,IAAIhE,EAAOP,KACX,IAAIc,EAAUP,EAAKO,QACnB,IAAI5D,EAEJ,IAAKqD,EAAKoE,QACNpE,EAAKoE,QAAU7D,EAAQ2H,SAAS,qBAGpC,GAAIlI,EAAKV,QAAQgG,OAAQ,CACrB3I,EAAKO,EAAMkD,OACXpD,EAAE,uDAAyDL,EAAK,kBAAoBA,EAAK,qBAAuBqD,EAAKV,QAAQqG,SAASC,WAAa,mBAAmBvF,SAASL,EAAKoE,SACpLzH,EAAKO,EAAMkD,OACXpD,EAAE,0EAA4EL,EAAK,kBAAoBA,EAAK,qBAAuBqD,EAAKV,QAAQqG,SAASE,SAAW,mBAAmBxF,SAASL,EAAKoE,cAErMpH,EAAE,uCAAuCqD,SAASL,EAAKoE,SAG3DpE,EAAK4H,YAAc5H,EAAKoE,QAAQ+D,KAAK,SAASC,GAAG,GACjDpI,EAAK+H,UAAY/H,EAAKoE,QAAQ+D,KAAK,SAASC,GAAG,GAE/C,GAAIpI,EAAKV,QAAQmG,aAAe,GAAI,CAChCzF,EAAK4H,YAAYzH,KAAKjD,EAAMiD,KAAK,QAAS,UAAYH,EAAKV,QAAQmG,YAC/EzF,EAAK4H,YAAYzH,KAAK,OAAQH,EAAKV,QAAQmG,YAGnC,GAAIzF,EAAKV,QAAQoG,WAAa,GAAI,CAC9B1F,EAAK+H,UAAU5H,KAAKjD,EAAMiD,KAAK,QAAS,UAAYH,EAAKV,QAAQoG,UAC7E1F,EAAK+H,UAAU5H,KAAK,OAAQH,EAAKV,QAAQoG,UAGjC1F,EAAKyE,QAAUzE,EAAK4H,YAAYS,IAAIrI,EAAK+H,YAG7CO,QAAS,SAASC,EAAQjB,GACtB,IAAItH,EAAOP,KACPH,EAAUU,EAAKV,QAEnB,GAAIgI,IAAUlK,EACV,OAAOkC,EAAQiJ,GAGnBjB,EAAQnI,EAAMmI,EAAOhI,EAAQkJ,aAAclJ,EAAQiC,SAEnD,IAAK+F,EACD,OAGJhI,EAAQiJ,GAAU,IAAIhD,MAAM+B,GAC5BtH,EAAKkE,SAASqE,GAAQjB,IAG1BvC,OAAQ,WACJ,IAAI/E,EAAOP,KACPc,EAAUP,EAAKO,QACfkI,EAASlI,EAAQJ,KAAK,QACtBuI,EAAOD,EAASzL,EAAE,IAAMyL,GAAUlI,EAAQoI,QAAQ,QAEtD,GAAID,EAAK,GAAI,CACT1I,EAAK4I,cAAgB,WACjB5I,EAAK6B,IAAI7B,EAAK+D,gBAAgBlC,KAC9B7B,EAAK8B,IAAI9B,EAAK+D,gBAAgBjC,MAGlC9B,EAAK6I,MAAQH,EAAK1H,GAAG,QAAShB,EAAK4I,iBAI3CE,UAAW,SAASxJ,GAChB,IAAIU,EAAOP,KACPsJ,EAAS/I,EAAKyE,QACdY,EAAW/F,EAAQ+F,SACnB2D,EAAU1J,EAAQ0J,QAEtB,IAAK3D,IAAa2D,EAAS,CACvBhJ,EAAKoE,QACA6E,YAAYzK,GAEjBxB,EAAEkM,KAAKH,EAAQ,SAASzG,EAAK6G,GACzBA,EAAKC,gBAAgB3K,GACrB0K,EAAKC,gBAAgB1K,KAGzBqK,EAAO5I,KAAK7B,EAAe,OAC3B0B,EAAKyG,oBAAsB,UACxB,CACHzG,EAAKoE,QACA8D,SAASc,EAAUxK,EAAgB,IACnCyK,YAAYD,EAAU,GAAKxK,GAE5BuK,EAAO5I,KAAK1B,EAAUuK,GAClB7I,KAAKzB,EAAU2G,GACflF,KAAK7B,EAAe0K,GAE5BhJ,EAAKyG,oBAAsB,OAInCiB,QAAS,WACL,IAAI1H,EAAOP,KAEX,GAAIO,EAAKuE,gBAAiB,CACtBvE,EAAKuE,gBAAgB8E,OAAO1L,EAAQqC,EAAKgI,qBACzChI,EAAKuE,gBAAgBmD,UACrB1H,EAAKgI,oBAAsB,KAG/B,GAAIhI,EAAKwE,cAAe,CACpBxE,EAAKwE,cAAc6E,OAAO1L,EAAQqC,EAAKiI,mBACvCjI,EAAKwE,cAAckD,UACnB1H,EAAKiI,kBAAoB,KAG7B,GAAIjI,EAAK6I,MACL7I,EAAK6I,MAAM3C,IAAI,QAASlG,EAAK4I,eAGjC5I,EAAKyE,QAAQyB,IAAItH,GACjBoB,EAAKyE,QAAU,KAEfzE,EAAKkE,SAASwD,UAEd1H,EAAKO,QAAQ2F,IAAItH,GAEjBrB,EAAOuG,GAAG4D,QAAQlI,KAAKQ,IAG3Be,MAAO,SAASA,GACZ,IAAIf,EAAOP,KAEX,GAAIsB,IAAU3D,EACV,OAAO4C,EAAKc,OAGhBd,EAAKc,OAASC,EACdf,EAAKkE,SAASnD,MAAM,CAAEF,MAAO,KAAMqB,IAAK,OACxC,IAAKnB,EAAO,CACRf,EAAKuE,gBAAgB+C,MAAM,MAC3BtH,EAAKwE,cAAc8C,MAAM,MAG7BtH,EAAKuE,gBAAgB+C,MAAMvG,EAAMF,MAAQE,EAAMF,MAAQ,MACvDb,EAAKwE,cAAc8C,MAAMvG,EAAMmB,IAAMnB,EAAMmB,IAAM,MAEjD,GAAInB,EAAMF,QAAUE,EAAMmB,IACtBlC,EAAKkE,SAASnD,MAAM,CAAEF,MAAOE,EAAMF,MAAOqB,IAAK,YAC5C,GAAInB,EAAMF,OAASE,EAAMmB,MAAQnB,EAAMF,QAAUE,EAAMmB,IAC1DlC,EAAKkE,SAASnD,MAAM,CAAEF,MAAOE,EAAMF,MAAOqB,IAAKnB,EAAMmB,OAI7DY,KAAM,WACFrD,KAAKyE,SAASpB,QAGlBC,MAAO,WACHtD,KAAKyE,SAASnB,SAGlBjB,IAAK,SAASwF,GACV,OAAO7H,KAAK6I,QAAQzK,EAAKyJ,IAG7BzF,IAAK,SAASyF,GACV,OAAO7H,KAAK6I,QAAQxK,EAAKwJ,IAG7BjC,SAAU,SAASA,GACf5F,KAAK8E,gBAAgBc,SAASA,GAC9B5F,KAAK+E,cAAca,SAASA,GAE5B5F,KAAKqJ,UAAU,CACXzD,SAAUA,IAAajI,EAAY,KAAOiI,EAC1C2D,QAAS,SAIjB5D,OAAQ,SAASA,GACb3F,KAAK8E,gBAAgBa,OAAOA,GAC5B3F,KAAK+E,cAAcY,OAAOA,GAE1B,IAAKA,EACD3F,KAAKsD,QAGTtD,KAAKqJ,UAAU,CACXzD,SAAU,MACV2D,UAAW5D,EAASA,IAAWhI,EAAY,KAAOgI,QASlE,OAJIlI,EAAMG,GAAGiM,OAAO3F,GAIb1G,OAAOC,QA5mBd,CA8mBoB,mBAAVT,QAAwBA,OAAO8M,IAAM9M,OAAS,SAAS+M,EAAIC,EAAIC,IAAOA,GAAMD"}