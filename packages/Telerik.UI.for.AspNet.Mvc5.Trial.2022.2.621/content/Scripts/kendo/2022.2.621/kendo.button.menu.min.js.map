{"version":3,"file":"kendo.button.menu.min.js","sources":["kendo.button.menu.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.button.menu',[\"kendo.core\", \"kendo.popup\"], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"button.menu\",\n    name: \"ButtonMenu\",\n    category: \"web\",\n    description: \"The popup Menu list part of the SplitButton and the DropDownButton\",\n    depends: [\"core\", \"popup\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoButtonMenu\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n\n        DOT = \".\",\n        ID = \"id\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        DISABLEDSTATE = \"k-disabled\",\n        HIDDEN = \"k-hidden\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ROLE_MENU = \"menu\",\n        ROLE_MENU_ITEM = \"menuitem\",\n        TABINDEX = \"tabindex\",\n\n        CLICK = \"click\",\n        MENU_CLICK = \"menuClick\",\n        OPEN = \"menuOpen\",\n        CLOSE = \"menuClose\",\n        KEYDOWN = \"keydown\",\n\n        FOCUS = \"focus\";\n\n    var cssClasses = {\n        popup: \"k-menu-popup\",\n        list: \"k-group k-menu-group k-reset\",\n        listItem: \"k-item k-menu-item\",\n        menuItem: \"k-menu-item\",\n        itemText: \"k-menu-link-text\",\n        item: \"k-link k-menu-link\",\n        sprite: \"k-sprite\",\n        image: \"k-image\",\n        icon: \"k-icon\"\n    };\n\n    var baseItem = {\n        text: null,\n        icon: null,\n        url: null,\n        attributes: null,\n        enabled: true,\n        hidden: false,\n        id: null,\n        imageUrl: null,\n        spriteCssClass: null\n    };\n\n    var IMAGE_TEMPLATE = \"#if(imageUrl){#<img alt=\\\"icon\\\" class=\\\"\" + cssClasses.image + \"\\\" src=\\\"#:imageUrl#\\\" />#}#\";\n    var SPRITE_TEMPLATE = \"#if(spriteCssClass){#<span class=\\\"\" + cssClasses.sprite + \" #:spriteCssClass#\\\"></span>#}#\";\n    var ICON_TEMPLATE = \"#if(icon){#<span class=\\\"\" + cssClasses.icon + \" k-i-#:icon#\\\"></span>#}#\";\n    var TEXT_TEMPLATE = \"#if(text){#<span class=\\\"\" + cssClasses.itemText + \"\\\">#:text#</span>#}#\";\n\n    var ITEM_TEMPLATE = \"<span class=\\\"\" + cssClasses.item + \"\\\">\" + IMAGE_TEMPLATE + SPRITE_TEMPLATE + ICON_TEMPLATE + TEXT_TEMPLATE + \"</span>\";\n\n    var LINK_TEMPLATE = \"<a href=\\\"#:url#\\\" class=\\\"\" + cssClasses.item + \"\\\">\" + IMAGE_TEMPLATE + SPRITE_TEMPLATE + ICON_TEMPLATE + TEXT_TEMPLATE + \"</a>\";\n\n    function findFocusableSibling(element, dir) {\n        var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n        var getter = dir === NEXT ? $.fn.first : $.fn.last;\n        var candidate = getSibling.call(element);\n        var focusable = \":kendoFocusable\";\n\n        if (!candidate.length) {\n            candidate = getter.call(element.parent().find(DOT + cssClasses.menuItem));\n        }\n\n        if (candidate.is(focusable) || !candidate.length) {\n            return candidate;\n        }\n\n        if (candidate.find(focusable).length) {\n            return getter.call(candidate.find(focusable));\n        }\n\n        return findFocusableSibling(candidate, dir);\n    }\n\n    var ButtonMenu = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n\n            Widget.fn.init.call(that, element, options);\n\n            that.mainButton = options.mainButton;\n            that._clickHandlers = {};\n\n            that._renderList();\n\n            that._initPopup();\n\n            that._attachEvents();\n\n            that._applyCssClasses(that.list);\n        },\n\n        options: {\n            name: \"ButtonMenu\",\n            element: null,\n            items: [],\n            size: \"medium\",\n        },\n\n        events: [\n            MENU_CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _renderList: function() {\n            var that = this,\n                items = that.options.items,\n                popup = that.element.addClass(cssClasses.popup),\n                id = that.mainButton.attr(ID) || kendo.guid(),\n                list = $(\"<ul role=\\\"\" + ROLE_MENU + \"\\\"></ul>\").addClass(cssClasses.list);\n\n            that.list = list.appendTo(popup);\n\n            that.list.attr(ID, id + \"_buttonmenu\");\n\n            items.forEach(that._renderListItem.bind(that));\n        },\n\n        _renderListItem: function(item) {\n            var that = this,\n                id, menuItem;\n\n            item = extend({}, baseItem, item, {\n                enabled: item.enable && item.enabled // backward compatibility: support both enable and enabled options.\n            });\n\n            id = item.id || kendo.guid();\n            menuItem = $(\"<li id=\\\"\" + id + \"\\\" role=\\\"\" + ROLE_MENU_ITEM + \"\\\" class=\\\"\" + cssClasses.listItem + \"\\\">\" + that._renderItemButton(item) + \"</li>\");\n\n            if (item.click) {\n                that._clickHandlers[id] = item.click;\n            }\n\n            if (item.attributes) {\n                menuItem.attr(item.attributes);\n            }\n\n            if (item.data && kendo.isFunction(item.data)) {\n                menuItem.data(item.data(item));\n            }\n\n            that.list.append(menuItem);\n\n            that.enable(item.enabled, menuItem);\n            that._hide(item.hidden, menuItem);\n        },\n\n        _renderItemButton: function(item) {\n            var that = this,\n                options = that.options;\n\n            if (options.itemTemplate) {\n                return kendo.template(options.itemTemplate)(item);\n            }\n\n            if (item.url) {\n                return kendo.template(LINK_TEMPLATE)(item);\n            } else {\n                return kendo.template(ITEM_TEMPLATE)(item);\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options;\n\n            that._popup = new ui.Popup(that.element, extend({}, options.popup, {\n                anchor: that.mainButton,\n                isRtl: that._isRtl,\n                toggleTarget: options.toggleTarget,\n                copyAnchorStyles: false,\n                animation: options.animation,\n                open: that._popupOpenHandler.bind(that),\n                close: that._popupCloseHandler.bind(that),\n                activate: that._popupExpandHandler.bind(that)\n            }));\n        },\n\n        _popupOpenHandler: function(ev) {\n            var that = this;\n\n            var isDefaultPrevented = that.trigger(OPEN);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, 0);\n        },\n\n        _popupCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, -1);\n        },\n\n        _popupExpandHandler: function() {\n            var that = this;\n\n            that.list.find(\":kendoFocusable\").first().trigger(FOCUS);\n        },\n\n        adjustPopupWidth: function(width) {\n            var that = this;\n\n            that.element.addClass(\"k-split-wrapper\");\n\n            that.element.css({\n                \"min-width\": width\n            });\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.list\n                .on(CLICK + NS, DOT + cssClasses.menuItem, that._click.bind(that))\n                .on(KEYDOWN + NS, DOT + cssClasses.menuItem, that.listItemKeydown.bind(that));\n\n            that.mainButton\n                .on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if ($(ev.target).is(DOT + DISABLEDSTATE) || $(ev.target).parents(DOT + DISABLEDSTATE).length) {\n                return;\n            }\n\n            if (ev.altKey && ev.keyCode === keys.DOWN) {\n                that._popup.open();\n                ev.preventDefault();\n                return;\n            }\n        },\n\n        listItemKeydown: function(ev) {\n            var that = this,\n                li = $(ev.target);\n\n            ev.preventDefault();\n\n            if (ev.keyCode === keys.ESC || ev.keyCode === keys.TAB || (ev.altKey && ev.keyCode === keys.UP)) {\n                that._popup.close();\n                that.mainButton.trigger(FOCUS);\n            } else if (ev.keyCode === keys.DOWN) {\n                findFocusableSibling(li, NEXT).trigger(FOCUS);\n            } else if (ev.keyCode === keys.UP) {\n                findFocusableSibling(li, PREV).trigger(FOCUS);\n            } else if (!li.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.SPACEBAR || ev.keyCode === keys.ENTER)) {\n                li.trigger(CLICK);\n            } else if (ev.keyCode === keys.HOME) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .first().trigger(FOCUS);\n            } else if (ev.keyCode === keys.END) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .last().trigger(FOCUS);\n            }\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(DOT + cssClasses.menuItem),\n                id = target.attr(ID);\n\n            if (that._clickHandlers[id]) {\n                that._clickHandlers[id](ev);\n            }\n\n            that.trigger(MENU_CLICK, { id: id, target: target, type: \"menu-click\", originalEvent: ev });\n        },\n\n        toggle: function() {\n            this._popup.toggle();\n        },\n\n        enable: function(enable, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                items.removeAttr(ARIA_DISABLED);\n            } else {\n                items.attr(ARIA_DISABLED, !enable);\n            }\n        },\n\n\n        _hide: function(hidden, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(HIDDEN, hidden);\n        },\n\n        hide: function(items) {\n            this._hide(true, items);\n        },\n\n        show: function(items) {\n            this._hide(false, items);\n        },\n\n        close: function() {\n            this._popup.close();\n        },\n\n        items: function() {\n            return this.list.children(DOT + cssClasses.menuItem);\n        },\n\n        destroyPopup: function() {\n            var that = this;\n\n            if (that._popup) {\n                that._popup.destroy();\n                that._popup = null;\n\n                that.list.off(NS);\n                that.list.remove();\n                that.list = null;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            delete that._clickHandlers;\n\n            that.destroyPopup();\n            that.mainButton.off(NS);\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"ButtonMenu\", \"k-menu-group-\");\n\n    ui.plugin(ButtonMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","NS","keys","extend","DOT","ID","NEXT","PREV","DISABLEDSTATE","HIDDEN","ARIA_DISABLED","ROLE_MENU","ROLE_MENU_ITEM","TABINDEX","CLICK","MENU_CLICK","OPEN","CLOSE","KEYDOWN","FOCUS","cssClasses","popup","list","listItem","menuItem","itemText","item","sprite","image","icon","baseItem","text","url","attributes","enabled","hidden","imageUrl","spriteCssClass","IMAGE_TEMPLATE","SPRITE_TEMPLATE","ICON_TEMPLATE","TEXT_TEMPLATE","ITEM_TEMPLATE","LINK_TEMPLATE","findFocusableSibling","element","dir","getSibling","fn","next","prev","getter","first","last","candidate","call","focusable","length","parent","find","is","ButtonMenu","init","options","that","this","mainButton","_clickHandlers","_renderList","_initPopup","_attachEvents","_applyCssClasses","items","size","events","addClass","attr","guid","appendTo","forEach","_renderListItem","bind","enable","_renderItemButton","click","data","isFunction","append","_hide","itemTemplate","template","_popup","Popup","anchor","isRtl","_isRtl","toggleTarget","copyAnchorStyles","animation","open","_popupOpenHandler","close","_popupCloseHandler","activate","_popupExpandHandler","ev","isDefaultPrevented","trigger","preventDefault","adjustPopupWidth","width","css","min-width","on","_click","listItemKeydown","_keydown","target","parents","altKey","keyCode","DOWN","li","ESC","TAB","UP","SPACEBAR","ENTER","HOME","filter","END","closest","type","originalEvent","toggle","toggleClass","removeAttr","hide","show","children","destroyPopup","destroy","off","remove","cssProperties","registerPrefix","plugin","amd","a1","a2","a3"],"mappings":"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"}