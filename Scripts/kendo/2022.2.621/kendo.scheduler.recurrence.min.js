/**
 * Kendo UI v2022.2.621 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("kendo.scheduler.recurrence.min",["kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.buttongroup.min"],function(){var e={id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox","buttongroup"],hidden:true},l=window.kendo.jQuery,C=void 0,L=window.kendo,u=L.timezone,t=L.Class,a=L.ui,i=a.Widget,s=a.DropDownList,f=a.ButtonGroup,G=L.date,Z=G.setTime,c=G.setDayOfWeek,p=G.adjustDST,d=G.firstDayOfMonth,K=G.getMilliseconds,n=[0,31,60,91,121,152,182,213,244,274,305,335,366],v=[0,31,59,90,120,151,181,212,243,273,304,334,365],y=[31,28,31,30,31,30,31,31,30,31,30,31],m={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},h={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},_=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],w=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],D=w.length,b="yyyyMMddTHHmmssZ",T={months:function(e,t,a){var n=a.months,r=W(n,e.getMonth()+1),i=false;if(r!==null){if(r.length)e.setMonth(r[0]-1,1);else e.setFullYear(e.getFullYear()+1,n[0]-1,1);i=true}return i},monthDays:function(e,t,a){var n,r,i,s=false,l=e.getHours(),o=function(e){if(e<0)e=n+e+1;return e};while(e<=t){r=e.getMonth();n=A(e);i=W(a.monthDays,e.getDate(),o);if(i===null)return s;s=true;if(i.length){e.setMonth(r,i.sort(X)[0]);p(e,l);if(r===e.getMonth())break}else e.setMonth(r+1,1)}return s},yearDays:function(e,t,a){var n,r,i=false,s=e.getHours(),l=function(e){if(e<0)e=n+e;return e};while(e<t){n=I(e)?366:365;r=W(a.yearDays,R(e),l);if(r===null)return i;i=true;n=e.getFullYear();if(r.length){e.setFullYear(n,0,r.sort(X)[0]);p(e,s);break}else e.setFullYear(n+1,0,1)}return i},weeks:function(e,t,a){var n=a.weekStart,r,i,s,l=false,o=e.getHours(),u=function(e){if(e<0)e=53+e;return e};while(e<t){i=W(a.weeks,q(e,n),u);if(i===null)return l;l=true;r=e.getFullYear();if(i.length){s=i.sort(X)[0]*7-1;e.setFullYear(r,0,s);c(e,n,-1);p(e,o);break}else e.setFullYear(r+1,0,1)}return l},weekDays:function(n,e,t){var a=new Date(n.getTime()+t.offsets.start);var f=a.getDay()-n.getDay();var r=t.weekDays;var i=t.weekStart;var s=V(r,a,i);var l=n.getHours();var d=function(e){var t=new Date(n.getFullYear(),n.getMonth()+1,1);var a=k(e.day,i);if(t.getDay()<=a)if(!o||k(o.day,i)>a)o=e};var o,u;if(s===null)return false;o=s[0];if(!o){if(t.freq==="monthly"&&!t.positions||t.position>0)r.forEach(d);if(!o)o=r[0];c(n,i)}u=o.day;u-=f;if(o.offset)while(n<=e&&!z(n,o,i))if(F(n,i)===N(n,i)){n.setMonth(n.getMonth()+1,1);p(n,l)}else{n.setDate(n.getDate()+7);p(n,l);c(n,i,-1)}if(n.getDay()!==u)c(n,u);return true},hours:function(e,t,a){var n=a.hours,r=a._startTime,i=r.getHours(),s=W(n,i),l=false;if(s!==null){l=true;e.setHours(i);p(e,i);if(s.length){s=s[0];e.setHours(s)}else{s=e.getHours();e.setDate(e.getDate()+1);p(e,s);s=n[0];e.setHours(s);p(e,s)}if(a.minutes)e.setMinutes(0);r.setHours(s,e.getMinutes())}return l},minutes:function(e,t,a){var n=a.minutes,r=e.getMinutes(),i=W(n,r),s=a._startTime.getHours(),l=false;if(i!==null){l=true;if(i.length)i=i[0];else{s+=1;i=n[0]}if(a.seconds)e.setSeconds(0);e.setHours(s,i);s=s%24;p(e,s);a._startTime.setHours(s,i,e.getSeconds())}return l},seconds:function(e,t,a){var n=a.seconds,r=a._startTime.getHours(),i=W(n,e.getSeconds()),s=e.getMinutes(),l=false;if(i!==null){l=true;if(i.length)e.setSeconds(i[0]);else{s+=1;e.setMinutes(s,n[0]);if(s>59){s=s%60;r=(r+1)%24}}a._startTime.setHours(r,s,e.getSeconds())}return l}},r=t.extend({next:function(e,t){var a=t._startTime,n=a.getDate(),r,i;if(t.seconds){i=e.getSeconds()+1;e.setSeconds(i);a.setSeconds(i);a.setDate(n)}else if(t.minutes){r=e.getMinutes()+1;e.setMinutes(r);a.setMinutes(r);a.setDate(n)}else return false;return true},normalize:function(e){var t=e.rule;if(e.idx===4&&t.hours){t._startTime.setHours(0);this._hour(e.date,t)}},limit:function(e,t,a){var n=a.interval,r,i,s,l,o;while(e<=t){s=i=C;o=e.getDate();for(l=0;l<D;l++){r=w[l];if(a[r]){s=T[r](e,t,a);if(i!==C&&s)break;else i=s}if(s)this.normalize({date:e,rule:a,day:o,idx:l})}if((n===1||!this.interval(a,e))&&l===D)break}},interval:function(e,t){var a=new Date(e._startPeriod);var n=new Date(t);var r=t.getHours();var f=e.weekStart;var i=e.interval;var s=e.freq;var l=false;var o=0;var d=0;var c=1;var u;var v;if(s==="hourly"){u=n.getTimezoneOffset()-a.getTimezoneOffset();v=e._startTime.getHours();n=n.getTime();if(r!==v)n+=(v-r)*G.MS_PER_HOUR;n-=a;if(u)n-=u*G.MS_PER_MINUTE;u=Math.floor(n/G.MS_PER_HOUR);o=S(u,i);if(o!==0){this._hour(t,e,o);l=true}}else if(s==="daily"){G.setTime(n,-a,true);u=Math.round(n/G.MS_PER_DAY);o=S(u,i);if(o!==0){this._date(t,e,o);l=true}}else if(s==="weekly"){o=this._getNumberOfWeeksBetweenDates(a,t);var y=k(t.getDay(),f);var m=k(a.getDay(),f);if(y<m)o+=1;o=S(o,i);if(o!==0){G.setDayOfWeek(t,e.weekStart,-1);t.setDate(t.getDate()+o*7);p(t,r);l=true}}else if(s==="monthly"){u=t.getFullYear()-a.getFullYear();u=t.getMonth()-a.getMonth()+u*12;o=S(u,i);if(o!==0){c=e._hasRuleValue?1:t.getDate();t.setFullYear(t.getFullYear(),t.getMonth()+o,c);p(t,r);l=true}}else if(s==="yearly"){u=t.getFullYear()-a.getFullYear();o=S(u,i);if(!e.months)d=t.getMonth();if(!e.yearDays&&!e.monthDays&&!e.weekDays)c=t.getDate();if(o!==0){t.setFullYear(t.getFullYear()+o,d,c);p(t,r);l=true}}return l},_getNumberOfWeeksBetweenDates:function(e,t){var a=(t-e)/6048e5;var n=Math.floor(a);if(a-n>.99)n=Math.round(a);return n},_hour:function(e,t,a){var n=t._startTime,r=n.getHours();if(a)r+=a;e.setHours(r);r=r%24;n.setHours(r);p(e,r)},_date:function(e,t,a){var n=e.getHours();e.setDate(e.getDate()+a);if(!p(e,n))this._hour(e,t)}}),M=r.extend({next:function(e,t){if(!r.fn.next(e,t))this._hour(e,t,1)},normalize:function(e){var t=e.rule;if(e.idx===4){t._startTime.setHours(0);this._hour(e.date,t)}}}),x=r.extend({next:function(e,t){if(!r.fn.next(e,t))this[t.hours?"_hour":"_date"](e,t,1)}}),E=x.extend({setup:function(e,t){if(!e.weekDays)e.weekDays=[{day:t.getDay(),offset:0}]}}),O=r.extend({next:function(e,t){var a,n;if(!r.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{a=e.getDate();n=e.getHours();e.setMonth(e.getMonth()+1);p(e,n);while(e.getDate()!==a){e.setDate(a);p(e,n)}this._hour(e,t)}},normalize:function(e){var t=e.rule,a=e.date,n=a.getHours();if(e.idx===0&&!t.monthDays&&!t.weekDays){a.setDate(e.day);p(a,n)}else r.fn.normalize(e)},setup:function(e,t,a){if(!e.monthDays&&!e.weekDays)a.setDate(t.getDate())}}),H=O.extend({next:function(e,t){var a,n=e.getHours();if(!r.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){a=e.getDate();e.setMonth(e.getMonth()+1);p(e,n);while(e.getDate()!==a){e.setDate(a);p(e,n)}this._hour(e,t)}else{e.setFullYear(e.getFullYear()+1);p(e,n);this._hour(e,t)}},setup:function(){}}),Q={hourly:new M,daily:new x,weekly:new E,monthly:new O,yearly:new H},o="click",Y="change";function S(e,t){var a;if(e!==0&&e<t)a=t-e;else{a=e%t;if(a)a=t-a}return a}function R(e){var t=e.getMonth();var a=I(e)?n[t]:v[t];return a+e.getDate()}function q(e,t){var a,n;e=new Date(e.getFullYear(),e.getMonth(),e.getDate());p(e,0);a=e.getFullYear();if(t!==C){c(e,t,-1);e.setDate(e.getDate()+4)}else e.setDate(e.getDate()+(4-(e.getDay()||7)));p(e,0);n=Math.floor((e.getTime()-new Date(a,0,1,-6))/864e5);return 1+Math.floor(n/7)}function F(e,t){var a=d(e).getDay();var n=7-(a+7-(t||7))||7;if(n<0)n+=7;return Math.ceil((e.getDate()-n)/7)+1}function k(e,t){return e+(e<t?7:0)}function B(e,t,a){var n=t.offset;if(!n)return F(e,a);var r=new Date(e.getFullYear(),e.getMonth()+1,0);var i=F(r,a);var s=k(t.day,a);var l=s<k(new Date(e.getFullYear(),e.getMonth(),1).getDay(),a);var o=s>k(r.getDay(),a);if(n<0)n=i+(n+1-(o?1:0));else if(l)n+=1;i-=o?1:0;if(n<(l?1:0)||n>i)return null;return n}function N(e,t){return F(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function z(e,t,a){return F(e,a)===B(e,t,a)}function V(e,t,a){var n=k(t.getDay(),a);var f=e.length;var r;var i,s;var l;var o=[];var u=0;for(;u<f;u++){i=e[u];l=F(t,a);r=B(t,i,a);if(r===null)continue;if(l<r)o.push(i);else if(l===r){s=k(i.day,a);if(n<s)o.push(i);else if(n===s)return null}}return o}function W(e,t,a){var n=0,r=e.length,i=[],s;for(;n<r;n++){s=e[n];if(a)s=a(s);if(t===s)return null;else if(t<s)i.push(s)}return i}function g(e,t){var a=0,n=e.length,r;for(;a<n;a++){r=parseInt(e[a],10);if(isNaN(r)||r<t.start||r>t.end||r===0&&t.start<0)return null;e[a]=r}return e.sort(X)}function P(e){var t=0,a=e.length,n,r,i;for(;t<a;t++){n=e[t];r=n.length;i=n.substring(r-2).toUpperCase();i=h[i];if(i===C)return null;e[t]={offset:parseInt(n.substring(0,r-2),10)||0,day:i}}return e}function U(e){var t=0,a=e.length,n,r,i=[];for(;t<a;t++){n=e[t];if(typeof n==="string")r=n;else{r=""+m[n.day];if(n.offset)r=n.offset+r}i.push(r)}return i.toString()}function A(e){var t=e.getMonth();if(t===1){if(new Date(e.getFullYear(),1,29).getMonth()===1)return 29;return 28}return y[t]}function I(e){e=e.getFullYear();return e%4===0&&e%100!==0||e%400===0}function X(e,t){return e-t}function J(e,t){var a=0,n,r,i=[];if(e){e=e.split(e.indexOf(";")!==-1?";":",");n=e.length;for(;a<n;a++){r=le(e[a],t);if(r)i.push(r)}}return i}function $(e,t,a){var n=Array.isArray(e)?e:J(e,a),r=t.getTime()-t.getMilliseconds(),i=0,s=n.length;for(;i<s;i++)if(n[i].getTime()===r)return true;return false}function ee(e,t){var a=0;var n;var r;var i=[].concat(e);for(n=i.length;a<n;a++){r=i[a];r=L.timezone.convert(r,t||r.getTimezoneOffset(),"Etc/UTC");i[a]=L.toString(r,b)}return i.join(",")}function te(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),0,1);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth(),1);break;case"weekly":c(a,t.weekStart,-1);break;default:break}if(t.hours)a.setHours(0);if(t.minutes)a.setMinutes(0);if(t.seconds)a.setSeconds(0);return a}function ae(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),11,31);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth()+1,0);break;case"weekly":c(a,t.weekStart,-1);a.setDate(a.getDate()+6);break;default:break}if(t.hours)a.setHours(23);if(t.minutes)a.setMinutes(59);if(t.seconds)a.setSeconds(59);return a}function ne(e,t,a,n){var r=e.length;var i=[];var s;var l;var o;for(var u=0,f=a.length;u<f;u++){s=a[u];if(s<0)s=r+s;else s-=1;l=e[s];o=n?l.start<n:true;if(l&&l.start>=t&&o)i.push(l)}return i}function re(e,t,a){var n=[];var r;for(var i=0;i<e.length;i++){r=e[i];if(!$(t,r.start,a))n.push(r)}return n}function ie(e,t,a,n){var r,i,f,d,c,v,y,m,p,k,g,h,_,s,w,D,b,l,T,o,M,u,x,E=[],O,H,Y,S;r=ue(e.recurrenceRule,n,{start:(j(e.start,n)-j(e.start,e.startTimezone))*L.date.MS_PER_MINUTE,end:(j(e.end,n)-j(e.end,e.endTimezone))*L.date.MS_PER_MINUTE});if(!r)return[e];M=r.positions;u=M?0:1;g=r.start;h=r.end;if(g||h)e=e.clone({start:g?new Date(g.value[0]):C,end:h?new Date(h.value[0]):C});l=e.start;b=l.getTime();D=K(l);w=J(e.recurrenceException,n);if(!w[0]&&r.exdates){w=r.exdates.value;e.set("recurrenceException",ee(w,n))}p=t=new Date(t);a=new Date(a);s=r.freq;o=Q[s];T=r.count;if(r.until&&r.until<a)a=new Date(r.until);_=s==="yearly"||s==="monthly"||s==="weekly";if(t<b||T||r.interval>1||_||(s==="daily"||s==="hourly")&&!r.seconds)t=new Date(b);else{c=t.getHours();v=t.getMinutes();y=t.getSeconds();if(!r.hours)c=l.getHours();if(!r.minutes)v=l.getMinutes();if(!r.seconds)y=l.getSeconds();t.setHours(c,v,y,l.getMilliseconds())}r._startPeriod=new Date(t);if(M){t=te(t,r);a=ae(a,r);var R=K(a)-K(t);if(R<0){c=t.getHours();a.setHours(c,t.getMinutes(),t.getSeconds(),t.getMilliseconds());G.adjustDST(a,c)}r._startPeriod=new Date(t);r._endPeriod=ae(t,r)}m=e.duration();var q=e.isAllDay?864e5:0;r._startTime=i=G.toInvariantTime(t);if(o.setup)o.setup(r,l,t);o.limit(t,a,r);while(t<=a){d=new Date(t);Z(d,m);var F=new Date(t);Z(F,m+q);k=t>=p||F>p;if(k&&!$(w,t,n)||M){i=G.toUtcTime(G.getDate(t))+K(r._startTime);f=i+m;if(b!==t.getTime()||D!==K(r._startTime)){var B=e.startTimezone||e.endTimezone;var N=e.endTimezone||e.startTimezone;if(!e.isAllDay)if(n&&B||!n&&!B){var z=j(t,n)-j(e.start,n);var V=j(d,n)-j(e.end,n);var W=j(t,B)-j(e.start,B);var P=j(d,N)-j(e.end,N);if(z!==W){var U=(z-W)*6e4;O=new Date(t.getTime()-U);Y=i-U}if(V!==P){var A=(V-P)*6e4;H=new Date(d.getTime()-A);S=f-A}}E.push(e.toOccurrence({start:O||new Date(t),end:H||d,_startTime:Y||i,_endTime:S||f}));O=H=Y=S=null}else{e._startTime=i;e._endTime=f;E.push(e)}}if(M){o.next(t,r);o.limit(t,a,r);if(t>r._endPeriod){x=ne(E.slice(u),l,M,r.until);x=re(x,w,n);E=E.slice(0,u).concat(x);r._endPeriod=ae(t,r);u=E.length}if(T&&T===u)break}else{if(T&&T===u)break;u+=1;var I=se(t);o.next(t,r);if(I&&r.freq!=="hourly"&&G.toInvariantTime(e.start).getTime()!==G.toInvariantTime(t).getTime())r._startTime=i=new Date(t.getTime()-36e5);o.limit(t,a,r)}}return E}function se(e){var t=e.getTimezoneOffset();var a=new Date(e.getTime()-36e5);var n=a.getTimezoneOffset();return t<n}function j(e,t){return t?L.timezone.offset(e,t):e.getTimezoneOffset()}function le(e,t){e=L.parseDate(e,_);if(e&&t)e=u.apply(e,t);return e}function oe(e,t){var a=e.split(";");var n;var r;var i;var s;var l,o;for(var u=0,f=a.length;u<f;u++){n=a[u].split(":");r=n[0];i=n[1];if(r.indexOf("TZID")!==-1)s=r.substring(r.indexOf("TZID")).split("=")[1];if(i){i=i.split(",");for(l=0,o=i.length;l<o;l++)i[l]=le(i[l],s||t)}}if(i)return{value:i,tzid:s}}function ue(e,t,f){var a={};var d,n;var r=0,c;var i=false;var s,l,o;var v,u,y;var m=function(e,t){var a=e.day,n=t.day;if(a<u)a+=7;if(n<u)n+=7;return a-n};if(!e)return null;o=e.split("\n");if(!o[1]&&(e.indexOf("DTSTART")!==-1||e.indexOf("DTEND")!==-1||e.indexOf("EXDATE")!==-1))o=e.split(" ");for(r=0,c=o.length;r<c;r++){l=L.trim(o[r]);if(l.indexOf("DTSTART")!==-1)a.start=oe(l,t);else if(l.indexOf("DTEND")!==-1)a.end=oe(l,t);else if(l.indexOf("EXDATE")!==-1)a.exdates=oe(l,t);else if(l.indexOf("RRULE")!==-1)s=l.substring(6);else if(L.trim(l))s=l}s=s.split(";");for(r=0,c=s.length;r<c;r++){v=s[r];d=v.split("=");n=L.trim(d[1]).split(",");switch(L.trim(d[0]).toUpperCase()){case"FREQ":a.freq=n[0].toLowerCase();break;case"UNTIL":a.until=le(n[0],t);break;case"COUNT":a.count=parseInt(n[0],10);break;case"INTERVAL":a.interval=parseInt(n[0],10);break;case"BYSECOND":a.seconds=g(n,{start:0,end:60});i=true;break;case"BYMINUTE":a.minutes=g(n,{start:0,end:59});i=true;break;case"BYHOUR":a.hours=g(n,{start:0,end:23});i=true;break;case"BYMONTHDAY":a.monthDays=g(n,{start:-31,end:31});i=true;break;case"BYYEARDAY":a.yearDays=g(n,{start:-366,end:366});i=true;break;case"BYMONTH":a.months=g(n,{start:1,end:12});i=true;break;case"BYDAY":a.weekDays=y=P(n);i=true;break;case"BYWEEKNO":a.weeks=g(n,{start:-53,end:53});i=true;break;case"BYSETPOS":a.positions=g(n,{start:-366,end:366});break;case"WKST":a.weekStart=u=h[n[0]];break}}if(a.freq===C||a.count!==C&&a.until)return null;if(!a.interval)a.interval=1;if(u===C)a.weekStart=u=L.culture().calendar.firstDay;if(y)a.weekDays=y.sort(m);if(a.positions&&!i)a.positions=null;a._hasRuleValue=i;a.offsets=f;return a}function fe(e,t){var a=e.value;var n=e.tzid||"";var r=a.length;var i=0;var s;for(;i<r;i++){s=a[i];s=u.convert(s,n||t||s.getTimezoneOffset(),"Etc/UTC");a[i]=L.toString(s,"yyyyMMddTHHmmssZ")}if(n)n=";TZID="+n;return n+":"+a.join(",")+" "}function de(e,t){var a=e.weekStart;var n="FREQ="+e.freq.toUpperCase();var r=e.exdates||"";var i=e.start||"";var s=e.end||"";var l=e.until;if(a===C)a=L.culture().calendar.firstDay;if(e.interval>1)n+=";INTERVAL="+e.interval;if(e.count)n+=";COUNT="+e.count;if(l){l=u.convert(l,t||l.getTimezoneOffset(),"Etc/UTC");n+=";UNTIL="+L.toString(l,"yyyyMMddTHHmmssZ")}if(e.months)n+=";BYMONTH="+e.months;if(e.weeks)n+=";BYWEEKNO="+e.weeks;if(e.yearDays)n+=";BYYEARDAY="+e.yearDays;if(e.monthDays)n+=";BYMONTHDAY="+e.monthDays;if(e.weekDays)n+=";BYDAY="+U(e.weekDays);if(e.hours)n+=";BYHOUR="+e.hours;if(e.minutes)n+=";BYMINUTE="+e.minutes;if(e.seconds)n+=";BYSECOND="+e.seconds;if(e.positions)n+=";BYSETPOS="+e.positions;if(a!==C)n+=";WKST="+m[a];if(i)i="DTSTART"+fe(i,t);if(s)s="DTEND"+fe(s,t);if(r)r="EXDATE"+fe(r,t);if(i||s||r)n=i+s+r+"RRULE:"+n;return n}L.recurrence={rule:{parse:ue,serialize:de},expand:ie,dayInYear:R,weekInYear:q,weekInMonth:F,numberOfWeeks:N,isException:$,toExceptionString:ee};var ce=L.template('# if (frequency !== "never") { #'+'<div class="k-edit-label"><label for="recur_interval">#:messages.repeatEvery#</label></div>'+'<div class="k-edit-field"><input id="recur_interval" class="k-recur-interval" title="#:messages.repeatEvery# #:messages.interval#"/>#:messages.interval#</div>'+"# } #"+'# if (frequency === "weekly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field"><div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#"></div></div>'+'# } else if (frequency === "monthly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<label class="k-radio-label"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="monthday" title="#:messages.repeatOn#" />#:messages.date#:</label>'+'<input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" />'+"</li>"+"<li>"+'<input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="weekday" aria-label="#:messages.repeatOn# #:messages.day#" title="#:messages.repeatOn# #:messages.day#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#" />'+"</li>"+"</ul>"+"</div>"+'# } else if (frequency === "yearly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="monthday" title="#:messages.repeatOn# #:messages.month#" />'+'<input class="k-recur-month" aria-label="#:messages.month#" title="#:messages.month#" />'+'<input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" />'+"</li>"+"<li>"+'<input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="weekday" title="#:messages.repeatOn# #:messages.day#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#"  />#:messages.of#<input class="k-recur-month" title="#:messages.of + messages.month#"/>'+"</li>"+"</ul>"+"</div>"+"# } #"+'# if (frequency !== "never") { #'+'<div class="k-edit-label"><label>#:end.label#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<label class="k-radio-label"><input class="k-recur-end-never k-radio k-radio-md" type="radio" name="end" value="never" title="#:end.label#" />#:end.never#</label>'+"</li>"+"<li>"+'<label class="k-radio-label"><input class="k-recur-end-count k-radio k-radio-md" type="radio" name="end" value="count" title="#:end.label#" />#:end.after#</label>'+'<input class="k-recur-count" aria-label="#:end.occurrence#" title="#:end.occurrence#" />#:end.occurrence#'+"</li>"+"<li>"+'<label class="k-radio-label"><input class="k-recur-end-until k-radio k-radio-md" type="radio" name="end" value="until" title="#:end.label#" />#:end.on#</label>'+'<input class="k-recur-until" title="#:end.on#" aria-label="#:end.on#" name="recur-until" />'+"</li>"+"</ul>"+"</div>"+"# } #"),ve=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],ye=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],me=[{day:0,offset:0},{day:6,offset:0}],pe=i.extend({init:function(e,t){var a;var n=this;var r=t&&t.frequencies;i.fn.init.call(n,e,t);n.wrapper=n.element;t=n.options;t.start=a=t.start||G.today();if(r)t.frequencies=r;if(typeof a==="string")t.start=L.parseDate(a,"yyyyMMddTHHmmss");if(t.firstWeekDay===null)t.firstWeekDay=L.culture().calendar.firstDay;n._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{repeat:"Repeat",recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day ",date:"Date"},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of ",month:"month",day:"day",date:"Date"},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this;var t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value();e._trigger()}})},_weekDayButtons:function(e){var a=this,t=L.culture().calendar.days.names,n=L.culture().calendar.days.namesAbbr,r=a.options.messages.weekly.repeatOn,i=t.length,s=0,l=[],o=[];for(;s<i;s++)l.push(s);t=t.slice(e).concat(t.slice(0,e));n=n.slice(e).concat(n.slice(0,e));l=l.slice(e).concat(l.slice(0,e));for(s=0;s<i;s++)o.push({text:n[s],attributes:{"data-value":l[s],"aria-label":r+" "+t[s]}});a._weekDayButtonGroup=new f(a._container.find(".k-recur-weekday-buttons"),{items:o,selection:"multiple",select:function(){var e=a._value,t=a._weekDayButtonGroup.current();e.weekDays=t.map(function(e,t){return{day:Number(t.getAttribute("data-value")),offset:0}});if(!a.options.mobile)a._trigger()}})},_weekDayRule:function(e){var t=this;var a=(t._weekDay.element||t._weekDay).val();var n=Number((t._weekDayOffset.element||t._weekDayOffset).val());var r=null;var i=null;if(!e)if(a==="day"){r=ve;i=n}else if(a==="weekday"){r=ye;i=n}else if(a==="weekend"){r=me;i=n}else r=[{offset:n,day:Number(a)}];t._value.weekDays=r;t._value.positions=i},_weekDayView:function(){var e=this;var t=e._value.weekDays;var a=e._value.positions;var n=e._weekDayOffset;var r;var i;var s;var l;if(t){s=t.length;if(a)if(s===7){i="day";r=a}else if(s===5){i="weekday";r=a}else if(s===2){i="weekend";r=a}if(!i){t=t[0];i=t.day;r=t.offset||""}l=n.value?"value":"val";n[l](r);e._weekDay[l](i)}},_initWeekDay:function(){var e=this,t;var a=e.options.messages.weekdays;var n=e.options.messages.offsetPositions;var r=e._container.find(".k-recur-weekday");var i=function(){e._weekDayRule();e._trigger()};if(r[0]){e._weekDayOffset=new s(e._container.find(".k-recur-weekday-offset"),{change:i,dataTextField:"text",dataValueField:"value",dataSource:[{text:n.first,value:"1"},{text:n.second,value:"2"},{text:n.third,value:"3"},{text:n.fourth,value:"4"},{text:n.last,value:"-1"}]});t=[{text:a.day,value:"day"},{text:a.weekday,value:"weekday"},{text:a.weekend,value:"weekend"}];e._weekDay=new s(r,{value:e.options.start.getDay(),change:i,dataTextField:"text",dataValueField:"value",dataSource:t.concat(l.map(L.culture().calendar.days.names,function(e,t){return{text:e,value:t}}))});e._weekDayView()}},_initWeekDays:function(){var e=this;var t=e._value;var a=e._weekDayButtonGroup;if(a&&t.weekDays&&t.weekDays.length){var n=t.weekDays,r=n.length,i=[],s=0,l;for(;s<r;s++)i.push("[data-value='"+n[s].day+"']");l=a.element.find(i.join(","));a.select(l)}},_initMonthDay:function(){var t=this;var a=t._value;var e=t._container.find(".k-recur-monthday");if(e[0])t._monthDay=new L.ui.NumericTextBox(e,{spinners:t.options.spinners,min:1,max:31,decimals:0,format:"#",value:a.monthDays?a.monthDays[0]:t.options.start.getDate(),change:function(){var e=this.value();a.monthDays=e?[e]:e;t._trigger()}})},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),a=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:a.count||1,decimals:0,format:"#",min:1,change:function(){a.count=this.value();e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var t=this,e=t._container.find(".k-recur-until"),a=t.options.start,n=t._value,r=n.until,i=r&&r<a?r:a,s=t.wrapper.closest(".k-scheduler-edit-form").find("[name=start]:visible"),l=L.format(L.ui.Validator.prototype.options.messages.date,t.options.messages.end.on),o=L.ui.Validator.prototype.options.messages.dateCompare,u=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59);e.attr("data-validDate-msg",l);e.attr("data-untilDateCompare-msg",o);if(s.length===0)s=t.wrapper.closest(".k-scheduler-edit-form").find("[name=start]");if(s.length>0&&s.val()){i=L.parseDate(s.val());if(u<i)u=i}t._until=e.kendoDatePicker({min:i,value:r||u,change:function(){var e=this.value();if(e)n.until=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59);t._trigger()}}).data("kendoDatePicker");if(s)s.on("change",function(){t._until.setOptions({min:s.val()})})},_trigger:function(){if(!this.options.mobile)this.trigger("change")}}),ke=pe.extend({init:function(e,t){var a=this;pe.fn.init.call(a,e,t);a._initFrequency();a._initContainer();a.value(a.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy();if(this._weekDayButtonGroup)this._weekDayButtonGroup.destroy();e._container.find("input[type=radio],input[type=checkbox]").off(o+e._namespace);L.destroy(e._container);pe.fn.destroy.call(e)},value:function(e){var t=this;var a=t.options.timezone;var n,r;if(e===C){if(!t._value.freq)return"";return de(t._value,a)}t._value=ue(e,a)||{};n=t._value.freq;if(n){r=t._frequency.element.find("[data-value='"+n+"']");t._frequency.select(r)}else t._frequency.select(0);t._initView(t._frequency.current().data("value"))},_initContainer:function(){var e=this.element,t=l('<div class="k-recur-view" />'),a=e.parent(".k-edit-field");if(a[0])t.insertAfter(a);else e.append(t);this._container=t},_initFrequency:function(){var e=this,t=e.options,a=t.frequencies,n=t.messages.frequencies,r=l('<div class="k-button-group-stretched k-flex-1"/>').attr({title:t.messages.recurrenceEditorTitle}),i;a=l.map(a,function(e){return{text:n[e],attributes:{"data-value":e,"aria-label":t.messages.repeat+n[e]}}});i=a[0];if(i&&i.attributes&&i.attributes["data-value"]==="never")i.attributes["data-value"]="";e.element.append(r);e._frequency=new f(r,{items:a,select:function(){e._value={};e._initView(e._frequency.current().data("value"));e.trigger("change")}})},_initView:function(e){var t=this;var a=t._value;var n=t.options;var r={frequency:e||"never",firstWeekDay:n.firstWeekDay,messages:n.messages[e],end:n.messages.end};L.destroy(t._container);t._container.html(ce(r));if(!e){t._value={};return}a.freq=e;if(e==="weekly"&&!a.weekDays)a.weekDays=[{day:n.start.getDay(),offset:0}];t._weekDayButtons(n.firstWeekDay);t._initInterval();t._initWeekDays();t._initMonthDay();t._initWeekDay();t._initMonth();t._initCount();t._initUntil();t._period();t._end()},_initMonth:function(){var e=this;var t=e._value;var a=t.months||[e.options.start.getMonth()+1];var n=e._container.find(".k-recur-month");var r;if(n[0]){r={change:function(){t.months=[Number(this.value())];e.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:l.map(L.culture().calendar.months.names,function(e,t){return{text:e,value:t+1}})};e._month1=new s(n[0],r);e._month2=new s(n[1],r);if(a){a=a[0];e._month1.value(a);e._month2.value(a)}}},_end:function(){var t=this;var e=t._value;var a=t._container;var n=t._namespace;var r=function(e){t._toggleEnd(e.currentTarget.value);t.trigger("change")};var i;t._buttonNever=a.find(".k-recur-end-never").on(o+n,r);t._buttonCount=a.find(".k-recur-end-count").on(o+n,r);t._buttonUntil=a.find(".k-recur-end-until").on(o+n,r);if(e.count)i="count";else if(e.until)i="until";t._toggleEnd(i)},_period:function(){var t=this;var e=t._value;var a=e.freq==="monthly";var n=a?t._toggleMonthDay:t._toggleYear;var r=".k-recur-"+(a?"month":"year")+"-radio";var i=t._container.find(r);if(!a&&e.freq!=="yearly")return;i.on(o+t._namespace,function(e){n.call(t,e.currentTarget.value);t.trigger("change")});t._buttonMonthDay=i.eq(0);t._buttonWeekDay=i.eq(1);n.call(t,e.weekDays?"weekday":"monthday")},_toggleEnd:function(e){var t=this;var a,n;var r,i;if(e==="count"){t._buttonCount.prop("checked",true);r=true;i=false;a=t._count.value();n=null}else if(e==="until"){t._buttonUntil.prop("checked",true);r=false;i=true;a=null;n=t._until.value()}else{t._buttonNever.prop("checked",true);r=i=false;a=n=null}if(t._count)t._count.enable(r);if(t._until)t._until.enable(i);t._value.count=a;t._value.until=n},_toggleMonthDay:function(e){var t=this;var a=false;var n=true;var r=false;var i;if(e==="monthday"){t._buttonMonthDay.prop("checked",true);i=[t._monthDay.value()];a=true;n=false;r=true}else{t._buttonWeekDay.prop("checked",true);i=null}t._weekDay.enable(n);t._weekDayOffset.enable(n);t._monthDay.enable(a);t._value.monthDays=i;t._weekDayRule(r)},_toggleYear:function(e){var t=this;var a=false;var n=true;var r;if(e==="monthday"){a=true;n=false;r=t._month1.value()}else r=t._month2.value();t._month1.enable(a);t._month2.enable(n);t._value.months=[r];t._toggleMonthDay(e)}}),ge=(a.plugin(ke),L.template('<div data-role="content">'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:headerTitle#</span>'+'<div class="k-recur-pattern k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-item k-listgroup-item k-recur-view"></li>'+"</ul>"+"</div>")),he=L.template('# if (frequency !== "never") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatEvery#</span>'+'<div class="k-recur-editor-wrap k-listgroup-form-field-wrapper">'+'<input class="k-recur-interval" type="number" pattern="\\\\d*"/>'+"# if (messages.interval.length) { #"+'<span class="k-recur-editor-text">#:messages.interval#</span>'+"# } #"+"</div>"+"</label>"+"# } #"+'# if (frequency === "weekly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item k-no-click">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatOn#</span>'+"</label>"+"</li>"+'<div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#">'+"</ul>"+'# } else if (frequency === "monthly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span>'+'<div class="k-repeat-rule k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-monthday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</label>"+"</li>"+"</ul>"+'# } else if (frequency === "yearly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span>'+'<div class="k-repeat-rule k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-monthday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</label>"+"</li>"+'<li class="k-item k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.month#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-month" title="#:messages.month#"></select></div>'+"</label>"+"</li>"+"</ul>"+"# } #"),_e=L.template('# if (endPattern === "count") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.after#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-count" aria-label="#:messages.occurrence#" type="number" pattern="\\\\d*" /></div>'+"</label>"+'# } else if (endPattern === "until") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.on#</span>'+'<div class="k-listgroup-form-field-wrapper"><input type="date" class="k-recur-until" aria-label="#:messages.on#" name="recur-until"/></div>'+"</label>"+"# } #"),we=L.template('<select class="k-scheduler-select">'+"#for (var i = 0, length = dataSource.length; i < length; i++) {#"+'<option value="#=dataSource[i].value#" #= value === dataSource[i].value  ? "selected" : "" #>#:dataSource[i].text#</option>'+"#}#"+"</select>"),De=pe.extend({init:function(e,t){var a=this;pe.fn.init.call(a,e,t);t=a.options;a._optionTemplate=L.template('<option value="#:value#">#:text#</option>');a.value(t.value);a._pane=t.pane||a.wrapper.closest("[data-role=pane]").data("kendoPane");a._initRepeatButton();a._initParentRepeatEnd();a._defaultValue=a._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var t=this;var a=t.options.timezone;if(e===C){if(!t._value.freq)return"";return de(t._value,a)}t._value=ue(e,a)||{}},destroy:function(){this._destroyView();L.destroy(this._endFields);if(this._weekDayButtonGroup)this._weekDayButtonGroup.destroy();this.element.off(o+this._namespace);pe.fn.destroy.call(this)},_initInterval:function(){var t=this;var a=t._value;t._container.find(".k-recur-interval").val(t._value.interval||1).on(Y+t._namespace,function(e){a.interval=e.target.value;t._trigger()})},_initRepeatButton:function(){var t=this;var e=t.options.messages.frequencies[this._value.freq||"never"];t._chevronButton=l('<span class="k-icon k-i-arrow-chevron-right"></span>');t._repeatValue=l('<span class="">'+e+"</span>");t.element.append(t._repeatValue).append(t._chevronButton);t.element.parents("li.k-item").on(o+t._namespace,function(e){e.preventDefault();t._createView("repeat");t._pane.navigate(t._view,t.options.animations.left)})},_endLiItem:function(){var e=this;return'<li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">'+e.options.messages.end.mobileLabel+"</span></label></li>"},_initParentRepeatEnd:function(){var t=this;var e=l(t._endLiItem()).insertAfter(t.element.parents("li.k-item"));var a=l('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span></div>').appendTo(e.find(".k-label"));e.on(o+t._namespace,function(e){e.preventDefault();t._navigateToView("repeat")});t._endParentLabelField=e.toggle(!!t._value.freq);t._endParentEndButton=a.find(".k-scheduler-recur-end").text(t._endText())},_initRepeatEnd:function(){var t=this;var e=l(t._endLiItem()).insertAfter(t._container);var a=l('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span><span class="k-icon k-i-arrow-chevron-right"></span></div>').appendTo(e.find(".k-label"));e.on(o+t._namespace,function(e){e.preventDefault();t._navigateToView("end")});t._endLabelField=e.toggleClass("k-state-disabled",!t._value.freq);t._endButton=a.find(".k-scheduler-recur-end").text(t._endText())},_navigateToView:function(e){var t=this;t._createView(e);t._pane.navigate(t._view,t.options.animations.left)},_endText:function(){var e=this._value;var t=this.options.messages.end;var a=t.never;if(e.count)a=L.format("{0} {1}",t.after,e.count);else if(e.until)a=L.format("{0} {1:d}",t.on,e.until);return a},_initFrequency:function(){var a=this;var t=a.options.messages.frequencies;var e=we({dataSource:l.map(this.options.frequencies,function(e){return{text:t[e],value:e!=="never"?e:""}}),value:a._value.freq||"",ns:L.ns});a._view.element.find(".k-recur-pattern").append(e);a._view.element.find(".k-scheduler-select").on(Y+a._namespace,function(e){var t=e.target.value;a._value={freq:t};a._defaultValue=l.extend({},a._value);a._initRepeatView();a._endButton.text(a._endText());a._endParentEndButton.text(a._endText())})},_initEndNavigation:function(){var r=this;var e=r.options.messages.end.patterns;var i=r._value;var t="";if(i.count)t="count";else if(i.until)t="until";var a=we({dataSource:[{text:e.never,value:""},{text:e.after,value:"count"},{text:e.on,value:"until"}],value:t,ns:L.ns});r._view.element.find(".k-recur-pattern").append(a);r._view.element.find(".k-scheduler-select").on(Y+r._namespace,function(e){var t=e.target.value;var a=null;var n=null;r._initEndView(t);if(r._count.length){a=r._count.val();n=null}else if(r._until.length){a=null;n=r._until.val?L.parseDate(r._until.val(),"yyyy-MM-dd"):r._until.value()}i.count=a;i.until=n})},_createView:function(e){var a=this;var t=a.options;var n=t.messages;var r=n[e==="repeat"?"repeatTitle":"endTitle"];var i='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form" id="recurrence">'+'<div data-role="header" class="k-header">'+'<a href="#" class="k-header-cancel k-scheduler-cancel k-link" title="'+n.cancel+'"'+'aria-label="'+n.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+n.headerTitle+'<a href="#" class="k-header-done k-scheduler-update k-link" title="'+n.update+'" '+'aria-label="'+n.update+'"><span class="k-icon k-i-check"></span></a>'+"</div>";var s=a._pane.view().id;a._view=a._pane.append(i+ge({headerTitle:r}));a._view.element.on(o+a._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(e){e.preventDefault();e.stopPropagation();if(l(this).hasClass("k-scheduler-update")){a.trigger("change");a._defaultValue=l.extend({},a._value)}else a._value=a._defaultValue;var t=a._value.freq;a._endParentEndButton.text(a._endText());a._endParentLabelField.toggle(!!t&&t!=="never");a._endButton.text(a._endText());a._repeatValue.text(n.frequencies[t||"never"]);a._pane.one("viewShow",function(){a._destroyView()});a._pane.navigate(s,a.options.animations.right)});a._container=a._view.element.find(".k-recur-view");if(e==="repeat"){a._initFrequency();a._initRepeatView();a._initRepeatEnd()}else{a._initEndNavigation();a._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove();this._container=null}this._view=null},_initRepeatView:function(){var e=this;var t=e._value.freq||"never";var a={frequency:t,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[t]};var n=he(a);var r=e._container=e._container||this._pane.view().content.find("li.k-recur-view");var i=e._value;if(e._endLabelField)e._endLabelField.toggleClass("k-state-disabled",t==="never");L.destroy(r);r.html(n);if(!n){e._value={};r.hide();return}else r.show();if(t==="weekly"&&!i.weekDays)i.weekDays=[{day:e.options.start.getDay(),offset:0}];e._weekDayButtons(e.options.firstWeekDay);e._initInterval();e._initMonthDay();e._initWeekDays();e._initWeekDay();e._initMonth();e._period()},_initMonthDay:function(){var t=this;var a=t._value;var e=t._monthDay=t._container.find(".k-recur-monthday");e.attr({min:1,max:31}).val(a.monthDays?a.monthDays[0]:t.options.start.getDate()).on(Y+t._namespace,function(e){a.count=e.target.value;t._trigger()})},_initCount:function(){var t=this,e=t._count=t._container.find(".k-recur-count"),a=t._value;e.val(a.count||1).on(Y+t._namespace,function(e){a.count=e.target.value;t._trigger()})},_initEndView:function(e){var t=this;var a=t._value;if(e===C)if(a.count)e="count";else if(a.until)e="until";var n={endPattern:e,messages:t.options.messages.end};L.destroy(t._container);t._container.html(_e(n));t._initCount();t._initUntil()},_initWeekDay:function(){var e=this,t;var a=e.options.messages.weekdays;var n=e.options.messages.offsetPositions;var r=e._container.find(".k-recur-weekday");var i=function(){e._weekDayRule();e.trigger("change")};if(r[0]){e._weekDayOffset=e._container.find(".k-recur-weekday-offset").html(e._options([{text:n.first,value:"1"},{text:n.second,value:"2"},{text:n.third,value:"3"},{text:n.fourth,value:"4"},{text:n.last,value:"-1"}])).on("change",i);t=[{text:a.day,value:"day"},{text:a.weekday,value:"weekday"},{text:a.weekend,value:"weekend"}];t=t.concat(l.map(L.culture().calendar.days.names,function(e,t){return{text:e,value:t}}));e._weekDay=r.html(e._options(t)).on("change",i).val(e.options.start.getDay());e._weekDayView()}},_initMonth:function(){var e=this;var t=e._value;var a=e.options.start;var n=t.months||[a.getMonth()+1];var r=e._container.find(".k-recur-month");var i=L.culture().calendar.months.names;if(r[0]){var s=l.map(i,function(e,t){return{text:e,value:t+1}});r.html(e._options(s)).on("change",function(){t.months=[Number(this.value)]});e._monthSelect=r;if(n)r.val(n[0])}},_period:function(){var i=this;var s=i._value;var e=i._container;var t=i.options.messages[s.freq];var a=e.find(".k-repeat-rule");var l=e.find(".k-weekday-view");var o=e.find(".k-monthday-view");if(a[0]){var n=s.weekDays?"weekday":"monthday";var r=we({value:n,dataSource:[{text:t.dayOfMonth,value:"monthday"},{text:t.dayOfWeek,value:"weekday"}],ns:L.ns});var u=function(e){var t=i._weekDay.val();var a=i._weekDayOffset.val();var n=i._monthDay.val();var r=i._monthSelect?i._monthSelect.val():null;if(e==="monthday"){s.weekDays=null;s.monthDays=n?[n]:n;s.months=r?[Number(r)]:r;l.hide();o.show()}else{s.monthDays=null;s.months=r?[Number(r)]:r;s.weekDays=[{offset:Number(a),day:Number(t)}];l.show();o.hide()}};a.append(r);a.find(".k-scheduler-select").on(Y+i._namespace,function(e){u(e.target.value)});u(n)}},_initUntil:function(){var t=this;var e=t._container.find(".k-recur-until");var a=t.options.start;var n=t._value;var r=n.until;var i=r&&r<a?r:a;var s=L.format(L.ui.Validator.prototype.options.messages.date,t.options.messages.end.on);var l=L.ui.Validator.prototype.options.messages.dateCompare;e.attr("data-validDate-msg",s);e.attr("data-untilDateCompare-msg",l);if(L.support.input.date)t._until=e.attr("min",L.toString(i,"yyyy-MM-dd")).val(L.toString(r||a,"yyyy-MM-dd")).on("change",function(){var e=L.parseDate(this.value,"yyyy-MM-dd");if(e)n.until=e;t._trigger()});else t._until=e.kendoDatePicker({min:i,value:r||a,change:function(){var e=this.value();if(e)n.until=e;t._trigger()}}).data("kendoDatePicker")},_options:function(e,t){var a=0;var n="";var r=e.length;var i=this._optionTemplate;if(t)n+=i({value:"",text:t});for(;a<r;a++)n+=i(e[a]);return n}});return a.plugin(De),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.scheduler.recurrence.min.js.map
