{"version":3,"file":"kendo.mobile.switch.min.js","sources":["kendo.mobile.switch.js"],"sourcesContent":["/* jshint multistr: true */\n(function(f, define) {\n    define('kendo.mobile.switch',[ \"kendo.fx\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.switch\",\n    name: \"Switch\",\n    category: \"mobile\",\n    description: \"The mobile Switch widget is used to display two exclusive choices.\",\n    depends: [ \"fx\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        outerWidth = kendo._outerWidth,\n        Widget = ui.Widget,\n        support = kendo.support,\n        CHANGE = \"change\",\n        SWITCHON = \"switch-on\",\n        SWITCHOFF = \"switch-off\",\n        MARGINLEFT = \"margin-left\",\n        ACTIVE_STATE = \"state-active\",\n        DISABLED_STATE = \"state-disabled\",\n        DISABLED = \"disabled\",\n        RESOLVEDPREFIX = support.transitions.css === undefined ? \"\" : support.transitions.css,\n        TRANSFORMSTYLE = RESOLVEDPREFIX + \"transform\";\n\n    function className(name) {\n        return \"km-\" + name;\n    }\n\n    function limitValue(value, minLimit, maxLimit) {\n        return Math.max(minLimit, Math.min(maxLimit, value));\n    }\n\n    var SWITCH_MARKUP = '<span class=\"' + className(\"switch\") + ' ' + className(\"widget\") + '\">\\\n        <span class=\"' + className(\"switch-wrapper\") + '\">\\\n            <span class=\"' + className(\"switch-background\") + '\"></span>\\\n        </span> \\\n        <span class=\"' + className(\"switch-container\") + '\">\\\n            <span class=\"' + className(\"switch-handle\") + '\"> \\\n                <span class=\"' + className(\"switch-label-on\") + '\">{0}</span> \\\n                <span class=\"' + className(\"switch-label-off\") + '\">{1}</span> \\\n            </span> \\\n        </span>\\\n    </span>';\n\n    var Switch = Widget.extend({\n        init: function(element, options) {\n            var that = this, checked;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = $(kendo.format(SWITCH_MARKUP, options.onLabel, options.offLabel));\n            that.handle = that.wrapper.find(\".km-switch-handle\");\n            that.background = that.wrapper.find(\".km-switch-background\");\n            that.wrapper.insertBefore(that.element).prepend(that.element);\n\n            that._drag();\n\n            that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n\n            that.constrain = 0;\n            that.snapPoint = 0;\n\n            element = that.element[0];\n            element.type = \"checkbox\";\n            that._animateBackground = true;\n\n            checked = that.options.checked;\n\n            if (checked === null) {\n                checked = element.checked;\n            }\n\n            that.check(checked);\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that.refresh();\n            kendo.notify(that, kendo.mobile.ui);\n        },\n\n        refresh: function() {\n            var that = this,\n                handleWidth = outerWidth(that.handle, true);\n\n            that.width = that.wrapper.width();\n\n            that.constrain = that.width - handleWidth;\n            that.snapPoint = that.constrain / 2;\n\n            if (typeof that.origin != \"number\") {\n                that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n            }\n\n            that.background.data(\"origin\", that.origin);\n\n            that.check(that.element[0].checked);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Switch\",\n            onLabel: \"on\",\n            offLabel: \"off\",\n            checked: null,\n            enable: true\n        },\n\n        check: function(check) {\n            var that = this,\n                element = that.element[0];\n\n            if (check === undefined) {\n                return element.checked;\n            }\n\n            that._position(check ? that.constrain : 0);\n            element.checked = check;\n            that.wrapper\n                .toggleClass(className(SWITCHON), check)\n                .toggleClass(className(SWITCHOFF), !check);\n        },\n\n        // alias for check, NG support\n        value: function() {\n            return this.check.apply(this, arguments);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        enable: function(enable) {\n            var element = this.element,\n                wrapper = this.wrapper;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            wrapper.toggleClass(className(DISABLED_STATE), !enable);\n        },\n\n        _resize: function() {\n            this.refresh();\n        },\n\n        _move: function(e) {\n            var that = this;\n            e.preventDefault();\n            that._position(limitValue(that.position + e.x.delta, 0, that.width - outerWidth(that.handle, true)));\n        },\n\n        _position: function(position) {\n            var that = this;\n\n            that.position = position;\n            that.handle.css(TRANSFORMSTYLE, \"translatex(\" + position + \"px)\");\n\n            if (that._animateBackground) {\n                that.background.css(MARGINLEFT, that.origin + position);\n            }\n        },\n\n        _start: function() {\n            if (!this.options.enable) {\n                this.userEvents.cancel();\n            } else {\n                this.userEvents.capture();\n                this.handle.addClass(className(ACTIVE_STATE));\n            }\n        },\n\n        _stop: function() {\n            var that = this;\n\n            that.handle.removeClass(className(ACTIVE_STATE));\n            that._toggle(that.position > that.snapPoint);\n        },\n\n        _toggle: function(checked) {\n            var that = this,\n                handle = that.handle,\n                element = that.element[0],\n                value = element.checked,\n                duration = kendo.mobile.application && kendo.mobile.application.os.wp ? 100 : 200,\n                distance;\n\n            that.wrapper\n                .toggleClass(className(SWITCHON), checked)\n                .toggleClass(className(SWITCHOFF), !checked);\n\n            that.position = distance = checked * that.constrain;\n\n            if (that._animateBackground) {\n                that.background\n                    .kendoStop(true, true)\n                    .kendoAnimate({ effects: \"slideMargin\", offset: distance, reset: true, reverse: !checked, axis: \"left\", duration: duration });\n            }\n\n            handle\n                .kendoStop(true, true)\n                .kendoAnimate({\n                    effects: \"slideTo\",\n                    duration: duration,\n                    offset: distance + \"px,0\",\n                    reset: true,\n                    complete: function() {\n                        if (value !== checked) {\n                            element.checked = checked;\n                            that.trigger(CHANGE, { checked: checked });\n                        }\n                    }\n                });\n        },\n\n        _drag: function() {\n            var that = this;\n\n            that.userEvents = new kendo.UserEvents(that.wrapper, {\n                fastTap: true,\n                tap: function() {\n                    if (that.options.enable) {\n                        that._toggle(!that.element[0].checked);\n                    }\n                },\n                start: that._start.bind(that),\n                move: that._move.bind(that),\n                end: that._stop.bind(that)\n            });\n        }\n    });\n\n    ui.plugin(Switch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","mobile","outerWidth","_outerWidth","Widget","support","CHANGE","SWITCHON","SWITCHOFF","MARGINLEFT","ACTIVE_STATE","DISABLED_STATE","DISABLED","RESOLVEDPREFIX","TRANSFORMSTYLE","transitions","css","className","limitValue","value","minLimit","maxLimit","Math","max","min","SWITCH_MARKUP","Switch","extend","init","element","options","that","this","checked","fn","call","wrapper","format","onLabel","offLabel","handle","find","background","insertBefore","prepend","_drag","origin","parseInt","constrain","snapPoint","type","_animateBackground","check","enable","attr","refresh","notify","handleWidth","width","data","events","_position","toggleClass","apply","arguments","destroy","userEvents","toggle","prop","_resize","_move","e","preventDefault","position","x","delta","_start","cancel","capture","addClass","_stop","removeClass","_toggle","duration","application","os","wp","distance","kendoStop","kendoAnimate","effects","offset","reset","reverse","axis","complete","trigger","UserEvents","fastTap","tap","start","bind","move","end","plugin","amd","a1","a2","a3"],"mappings":"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"}