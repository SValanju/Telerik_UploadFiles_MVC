{"version":3,"file":"kendo.gantt.editors.min.js","sources":["kendo.gantt.editors.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.gantt.editors',[\"kendo.data\", \"kendo.popup\", \"kendo.window\", \"kendo.gantt.data\", \"kendo.grid\", \"kendo.datetimepicker\", \"kendo.numerictextbox\"], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"gantt.editors\",\n    name: \"GanttEditors\",\n    category: \"web\",\n    description: \"The Gantt component editors.\",\n    depends: [ \"data\", \"popup\", \"window\", \"gantt.data\", \"grid\", \"datetimepicker\", \"numerictextbox\"],\n    hidden: true\n};\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        browser = kendo.support.browser,\n        Observable = kendo.Observable,\n        Widget = ui.Widget,\n        outerWidth = kendo._outerWidth,\n\n        keys = $.extend({ F10: 121 }, kendo.keys),\n\n        extend = $.extend,\n        isPlainObject = $.isPlainObject,\n\n        NS = \".kendoGantt\",\n        PERCENTAGE_FORMAT = \"p0\",\n        CLICK = \"click\",\n        WIDTH = \"width\",\n        STRING = \"string\",\n        DOT = \".\",\n\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom left\",\n                position: \"top left\"\n            },\n            \"up\": {\n                origin: \"top left\",\n                position: \"bottom left\"\n            }\n        },\n\n        TASK_DROPDOWN_TEMPLATE = kendo.template('<div class=\"#=styles.popupWrapper#\">' +\n            '<ul class=\"#=styles.popupList#\" role=\"listbox\" aria-label=\"Add dropdown\">' +\n                '#for(var i = 0, l = actions.length; i < l; i++){#' +\n                    '<li tabindex=\"0\" class=\"#=styles.item#\" data-action=\"#=actions[i].data#\" role=\"option\">' +\n                        '<span class=\"k-link k-menu-link\">' +\n                            '<span class=\"k-menu-link-text\">#=actions[i].text#</span>' +\n                        '</span>' +\n                    '</li>' +\n                '#}#' +\n            '</ul>' +\n        '</div>');\n\n    var ganttStyles = {\n        buttonDelete: \"k-gantt-delete\",\n        buttonCancel: \"k-gantt-cancel\",\n        buttonSave: \"k-gantt-update\",\n        focused: \"k-focus\",\n        gridContent: \"k-grid-content\",\n        hovered: \"k-state-hover\",\n        item: \"k-item k-menu-item\",\n        popupWrapper: \"k-popup k-menu-popup\",\n        popupList: \"k-menu-group k-menu-group-md k-reset\",\n        popup: {\n            form: \"k-popup-edit-form\",\n            editForm: \"k-gantt-edit-form\",\n            formContainer: \"k-edit-form-container\",\n            resourcesFormContainer: \"k-resources-form-container\",\n            message: \"k-popup-message\",\n            buttonsContainer: \"k-edit-buttons\",\n            button: \"k-button\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n            editField: \"k-edit-field\",\n            editLabel: \"k-edit-label\",\n            resourcesField: \"k-gantt-resources\"\n        },\n        primary: \"k-button-solid-primary\",\n        toolbar: {\n            appendButton: \"k-gantt-create\"\n        }\n    };\n\n    var DATERANGEEDITOR = function(container, options) {\n        var attr = { name: options.field, title: options.title };\n        var validationRules = options.model.fields[options.field].validation;\n\n        if (validationRules && isPlainObject(validationRules) && validationRules.message) {\n            attr[kendo.attr(\"dateCompare-msg\")] = validationRules.message;\n        }\n\n        $('<input type=\"text\" required ' +\n                'id=\"' + options.field + '\"' +\n                kendo.attr(\"type\") + '=\"date\" ' +\n                kendo.attr(\"role\") + '=\"datetimepicker\" ' +\n                kendo.attr(\"bind\") + '=\"value:' +\n                options.field + '\" ' +\n                kendo.attr(\"validate\") + \"='true' />\")\n            .attr(attr)\n            .appendTo(container);\n\n        $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>')\n            .hide()\n            .appendTo(container);\n    };\n\n    var RESOURCESEDITOR = function(container, options) {\n        $('<a href=\"#\" class=\"' + options.styles.button + ' ' + options.styles.buttonDefaults + '\"><span class=\"k-button-text\">' + options.messages.assignButton + '</span></a>').on(\"click\", options.click).appendTo(container);\n    };\n\n    var TaskDropDown = Observable.extend({\n        init: function(element, options) {\n\n            Observable.fn.init.call(this);\n\n            this.element = element;\n            this.options = extend(true, {}, this.options, options);\n\n            this._popup();\n        },\n\n        options: {\n            direction: \"down\"\n        },\n\n        destroy: function() {\n            clearTimeout(this._focusTimeout);\n            this.popup.destroy();\n            this.element.off(NS);\n            this.list.off(NS);\n            this.unbind();\n        },\n\n        _adjustListWidth: function() {\n            var list = this.list;\n            var width = list[0].style.width;\n            var wrapper = this.element;\n            var listOuterWidth = outerWidth(list);\n            var computedStyle;\n            var computedWidth;\n\n            if (!list.data(WIDTH) && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = computedStyle ? parseFloat(computedStyle.width) : outerWidth(wrapper);\n\n            if (computedStyle && (browser.mozilla || browser.msie)) { // getComputedStyle returns different box in FF and IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            if (listOuterWidth > width) {\n                width = listOuterWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: width\n            })\n            .data(WIDTH, width);\n        },\n\n        _current: function(method) {\n            var current = this.list\n                .find(DOT + ganttStyles.focused);\n            var sibling = current[method]();\n\n            if (sibling.length) {\n                current\n                    .removeClass(ganttStyles.focused)\n                    .removeAttr(\"id\");\n                sibling\n                    .addClass(ganttStyles.focused)\n                    .trigger(\"focus\");\n            }\n        },\n\n        _popup: function() {\n            var that = this;\n            var itemSelector = \"li\" + DOT + \"k-item\";\n            var actions = this.options.messages.actions;\n\n            this.list = $(TASK_DROPDOWN_TEMPLATE({\n                styles: ganttStyles,\n                actions: [\n                    {\n                        data: \"add\",\n                        text: actions.addChild\n                    },\n                    {\n                        data: \"insert-before\",\n                        text: actions.insertBefore\n                    },\n                    {\n                        data: \"insert-after\",\n                        text: actions.insertAfter\n                    }\n                ]\n            }));\n\n            this.element.append(this.list);\n\n            this.popup = new kendo.ui.Popup(this.list,\n                extend({\n                    anchor: this.element,\n                    open: function() {\n                        that._adjustListWidth();\n                    },\n                    animation: this.options.animation\n                }, DIRECTIONS[this.options.direction])\n            );\n\n            this.element\n                .on(CLICK + NS, function(e) {\n                    var target = $(this);\n                    var action = target.attr(kendo.attr(\"action\"));\n\n                    e.preventDefault();\n\n                    if (action) {\n                        that.trigger(\"command\", { type: action });\n                    } else {\n                        that.popup.open();\n\n                        that.list\n                            .find(\"li:first\")\n                            .addClass(ganttStyles.focused)\n                            .trigger(\"focus\");\n                    }\n                });\n\n            this.list\n                .find(itemSelector)\n                .hover(function() {\n                    $(this).addClass(ganttStyles.hovered);\n                }, function() {\n                    $(this).removeClass(ganttStyles.hovered);\n                })\n                .end()\n                .on(CLICK + NS, itemSelector, function() {\n                    that.trigger(\"command\", { type: $(this).attr(kendo.attr(\"action\")) });\n                    that.popup.close();\n                });\n\n            this.popup\n                .bind(\"close\", function() {\n                    that.list\n                        .find(itemSelector)\n                        .removeClass(ganttStyles.focused);\n\n                    that.element\n                        .parents('[' + kendo.attr(\"role\") + '=\"gantt\"]')\n                        .find(DOT + ganttStyles.gridContent + \" > table\").first()\n                        .trigger(\"focus\");\n                });\n\n            this.list\n                .find(\"ul\")\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n\n                    switch (key) {\n                        case keys.UP:\n                            e.preventDefault();\n                            that._current(\"prev\");\n                            break;\n                        case keys.DOWN:\n                            e.preventDefault();\n                            that._current(\"next\");\n                            break;\n                        case keys.ENTER:\n                            that.list\n                                .find(DOT + ganttStyles.focused)\n                                .click();\n                            break;\n                        case keys.ESC:\n                            e.preventDefault();\n                            that.popup.close();\n                            break;\n                    }\n                });\n        }\n    });\n\n    var editors = {\n        desktop: {\n            dateRange: DATERANGEEDITOR,\n            resources: RESOURCESEDITOR\n        }\n    };\n\n    var Editor = kendo.Observable.extend({\n        init: function(element, options) {\n            kendo.Observable.fn.init.call(this);\n\n            this.element = element;\n            this.options = extend(true, {}, this.options, options);\n            this.createButton = this.options.createButton;\n        },\n\n        fields: function(editors, model, plannedEditors) {\n            var that = this;\n            var options = this.options;\n            var messages = options.messages.editor;\n            var resources = options.resources;\n            var fields;\n\n            var click = function(e) {\n                e.preventDefault();\n                resources.editor(that.container.find(DOT + ganttStyles.popup.resourcesField), model);\n            };\n\n            if (options.editable.template) {\n                fields = $.map(model.fields, function(value, key) {\n                            return { field: key };\n                        });\n            } else {\n                fields = [\n                    { field: \"title\", title: messages.title },\n                    { field: \"start\", title: messages.start, editor: editors.dateRange },\n                    { field: \"end\", title: messages.end, editor: editors.dateRange },\n                    { field: \"percentComplete\", title: messages.percentComplete, format: PERCENTAGE_FORMAT }\n                ];\n\n                if (plannedEditors) {\n                    fields.splice.apply(fields, [1, 0].concat([\n                        { field: \"plannedStart\", title: messages.plannedStart, editor: editors.dateRange },\n                        { field: \"plannedEnd\", title: messages.plannedEnd, editor: editors.dateRange }\n                    ]));\n                }\n\n                if (model.get(resources.field)) {\n                    fields.push({ field: resources.field, title: messages.resources, messages: messages, editor: editors.resources, click: click, styles: ganttStyles.popup });\n                }\n            }\n\n            return fields;\n        },\n\n        _buildEditTemplate: function(model, fields, editableFields) {\n            var resources = this.options.resources;\n            var template = this.options.editable.template;\n            var settings = extend({}, kendo.Template, this.options.templateSettings);\n            var paramName = settings.paramName;\n            var popupStyles = ganttStyles.popup;\n            var html = \"\";\n\n            if (template) {\n                if (typeof template === STRING) {\n                    template = kendo.unescape(template);\n                }\n\n                html += (kendo.template(template, settings))(model);\n            } else {\n                for (var i = 0, length = fields.length; i < length; i++) {\n                    var field = fields[i];\n\n                    html += '<div class=\"' + popupStyles.editLabel + '\"><label for=\"' + field.field + '\">' + (field.title || field.field || \"\") + '</label></div>';\n\n                    if (field.field === resources.field) {\n                        html += '<div class=\"' + popupStyles.resourcesField + '\" style=\"display:none\"></div>';\n                    }\n\n                    if ((!model.editable || model.editable(field.field))) {\n                        editableFields.push(field);\n                        html += '<div ' + kendo.attr(\"container-for\") + '=\"' + field.field + '\" class=\"' + popupStyles.editField + '\"></div>';\n                    } else {\n                        var tmpl = \"#:\";\n\n                        if (field.field) {\n                            field = kendo.expr(field.field, paramName);\n                            tmpl += field + \"==null?'':\" + field;\n                        } else {\n                            tmpl += \"''\";\n                        }\n\n                        tmpl += \"#\";\n\n                        tmpl = kendo.template(tmpl, settings);\n\n                        html += '<div class=\"' + popupStyles.editField + '\">' + tmpl(model) + '</div>';\n                    }\n                }\n            }\n\n            return html;\n        }\n    });\n\n    var PopupEditor = Editor.extend({\n        destroy: function() {\n            this.close();\n            this.unbind();\n        },\n\n        close: function() {\n            var that = this;\n\n            var destroy = function() {\n                if (that.editable) {\n                    that.editable.destroy();\n                    that.editable = null;\n                    that.container = null;\n                }\n\n                if (that.popup) {\n                    that.popup.destroy();\n                    that.popup = null;\n                }\n            };\n\n            if (this.editable && this.container.is(\":visible\")) {\n                that.trigger(\"close\", { window: that.container });\n                this.container.data(\"kendoWindow\").bind(\"deactivate\", destroy).close();\n            } else {\n                destroy();\n            }\n        },\n\n        editTask: function(task, plannedEditors) {\n            this.editable = this._createPopupEditor(task, plannedEditors);\n        },\n\n        showDialog: function(options) {\n            var buttons = options.buttons;\n            var popupStyles = ganttStyles.popup;\n\n            var html = kendo.format('<div class=\"{0}\"><div class=\"{1}\"><p class=\"{2}\">{3}</p><div class=\"{4}\">',\n                popupStyles.form, popupStyles.formContainer, popupStyles.message, options.text, popupStyles.buttonsContainer);\n\n            for (var i = 0, length = buttons.length; i < length; i++) {\n                html += this.createButton(buttons[i]);\n            }\n\n            html += '</div></div></div>';\n\n            var wrapper = this.element;\n\n            if (this.popup) {\n                this.popup.destroy();\n            }\n\n            var popup = this.popup = $(html).appendTo(wrapper)\n                .eq(0)\n                .on(\"click\", DOT + popupStyles.button, function(e) {\n                    e.preventDefault();\n\n                    popup.close();\n\n                    var buttonIndex = $(e.currentTarget).index();\n\n                    buttons[buttonIndex].click();\n                })\n                .kendoWindow({\n                    modal: true,\n                    autoFocus: false,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    deactivate: function() {\n                        this.destroy();\n                        wrapper.trigger(\"focus\");\n                    }\n                })\n                .getKendoWindow();\n\n            popup.center().open();\n\n            popup.element.find(\".k-button-solid-primary\").trigger(\"focus\");\n        },\n\n        _createPopupEditor: function(task, plannedEditors) {\n            var that = this;\n            var options = {};\n            var messages = this.options.messages;\n            var popupStyles = ganttStyles.popup;\n\n            var html = kendo.format('<div {0}=\"{1}\" class=\"{2} {3}\"><div class=\"{4}\">',\n                kendo.attr(\"uid\"), task.uid, popupStyles.form, popupStyles.editForm, popupStyles.formContainer);\n\n            var fields = this.fields(editors.desktop, task, plannedEditors);\n            var editableFields = [];\n\n            html += this._buildEditTemplate(task, fields, editableFields);\n\n            html += '<div class=\"' + popupStyles.buttonsContainer + '\">';\n            html += this.createButton({ name: \"update\", text: messages.save, className: ganttStyles.primary });\n            html += this.createButton({ name: \"cancel\", text: messages.cancel });\n            if (that.options.editable.destroy !== false) {\n                html += this.createButton({ name: \"delete\", text: messages.destroy });\n            }\n\n            html += '</div></div></div>';\n\n            var container = this.container = $(html).appendTo(this.element)\n                .eq(0)\n                .kendoWindow(extend({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    close: function(e) {\n                        if (e.userTriggered) {\n                            if (that.trigger(\"cancel\", { container: container, model: task })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n\n            var editableWidget = container\n                .kendoEditable({\n                    fields: editableFields,\n                    model: task,\n                    clearContainer: false,\n                    validateOnBlur: true,\n                    target: that.options.target\n                })\n                .data(\"kendoEditable\");\n\n            kendo.cycleForm(container);\n\n            if (!this.trigger(\"edit\", { container: container, model: task })) {\n                container.data(\"kendoWindow\").center().open();\n\n                container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, function(e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    that.trigger(\"cancel\", { container: container, model: task });\n                });\n\n                container.on(CLICK + NS, DOT + ganttStyles.buttonSave, function(e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    var fields = that.fields(editors.desktop, task, plannedEditors);\n                    var updateInfo = {};\n                    var field;\n\n                    for (var i = 0, length = fields.length; i < length; i++) {\n                        field = fields[i].field;\n                        updateInfo[field] = task.get(field);\n                    }\n\n                    that.trigger(\"save\", { container: container, model: task, updateInfo: updateInfo });\n                });\n\n                container.on(CLICK + NS, DOT + ganttStyles.buttonDelete, function(e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    that.trigger(\"remove\", { container: container, model: task });\n                });\n            } else {\n                that.trigger(\"cancel\", { container: container, model: task });\n            }\n\n            return editableWidget;\n        }\n    });\n\n    var ResourceEditor = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.wrapper = this.element;\n            this.model = this.options.model;\n            this.resourcesField = this.options.resourcesField;\n            this.createButton = this.options.createButton;\n\n            this._initContainer();\n            this._attachHandlers();\n        },\n\n        events: [\n            \"save\"\n        ],\n\n        close: function() {\n            this.window.bind(\"deactivate\", this.destroy.bind(this)).close();\n        },\n\n        destroy: function() {\n            this._dettachHandlers();\n\n            this.grid.destroy();\n            this.grid = null;\n\n            this.window.destroy();\n            this.window = null;\n\n            Widget.fn.destroy.call(this);\n\n            kendo.destroy(this.wrapper);\n\n            this.element = this.wrapper = null;\n        },\n\n        open: function() {\n            this.window.center().open();\n        },\n\n        _attachHandlers: function() {\n            var grid = this.grid;\n\n            var closeHandler = this._cancelProxy = this._cancel.bind(this);\n            this.container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, this._cancelProxy);\n\n            this._saveProxy = this._save.bind(this);\n            this.container.on(CLICK + NS, DOT + ganttStyles.buttonSave, this._saveProxy);\n\n            this.window.bind(\"close\", function(e) {\n                if (e.userTriggered) {\n                    closeHandler(e);\n                }\n            });\n\n            grid.wrapper.on(CLICK + NS, \"input[type='checkbox']\", function() {\n                var element = $(this);\n                var row = $(element).closest(\"tr\");\n                var model = grid.dataSource.getByUid(row.attr(kendo.attr(\"uid\")));\n                var value = $(element).is(\":checked\") ? 1 : \"\";\n\n                model.set(\"value\", value);\n            });\n        },\n\n        _cancel: function(e) {\n            e.preventDefault();\n            this.close();\n        },\n\n        _createButtons: function() {\n            var buttons = this.options.buttons;\n            var html = '<div class=\"' + ganttStyles.popup.buttonsContainer + '\">';\n\n            for (var i = 0, length = buttons.length; i < length; i++) {\n                html += this.createButton(buttons[i]);\n            }\n\n            html += \"</div>\";\n\n            this.container.append(html);\n        },\n\n        _dettachHandlers: function() {\n            this._cancelProxy = null;\n            this._saveProxy = null;\n            this.container.off(NS);\n            this.grid.wrapper.off();\n        },\n\n        _initContainer: function() {\n            var that = this;\n            var popupStyles = ganttStyles.popup;\n            var dom = kendo.format('<div class=\"{0} {1}\"><div class=\"{2} {3}\"></div></div>\"',\n                popupStyles.form, popupStyles.editForm, popupStyles.formContainer, popupStyles.resourcesFormContainer);\n\n            dom = $(dom);\n\n            this.container = dom.find(DOT + popupStyles.resourcesFormContainer);\n\n            this.window = dom.kendoWindow({\n                modal: true,\n                resizable: false,\n                draggable: true,\n                visible: false,\n                title: this.options.messages.resourcesEditorTitle,\n                open: function() {\n                      that.grid.resize(true);\n                }\n            }).data(\"kendoWindow\");\n\n            this._resourceGrid();\n            this._createButtons();\n        },\n\n        _resourceGrid: function() {\n            var that = this;\n            var messages = this.options.messages;\n            var element = $('<div id=\"resources-grid\"/>').appendTo(this.container);\n\n            this.grid = new kendo.ui.Grid(element, {\n                columns: [\n                    {\n                        field: \"name\",\n                        title: messages.resourcesHeader,\n                        template:\n                            \"<label><input type='checkbox' value='#=name#'\" +\n                                \"# if (value > 0 && value !== null) {#\" +\n                                       \"checked='checked'\" +\n                                \"# } #\" +\n                            \"/>#=name#</labe>\"\n                    },\n                    {\n                        field: \"value\",\n                        title: messages.unitsHeader,\n                        template: function(dataItem) {\n                            var valueFormat = dataItem.format;\n                            var value = dataItem.value !== null ? dataItem.value : \"\";\n\n                            return valueFormat ? kendo.toString(value, valueFormat) : value;\n                        }\n                    }\n                ],\n                height: 280,\n                sortable: true,\n                editable: true,\n                filterable: true,\n                dataSource: {\n                    data: that.options.data,\n                    schema: {\n                        model: {\n                            id: \"id\",\n                            fields: {\n                                id: { from: \"id\" },\n                                name: { from: \"name\", type: \"string\", editable: false },\n                                value: { from: \"value\", type: \"number\", validation: this.options.unitsValidation },\n                                format: { from: \"format\", type: \"string\" }\n                            }\n                        }\n                    }\n                },\n                save: function(e) {\n                    var value = !!e.values.value;\n                    e.container.parent().find(\"input[type='checkbox']\").prop(\"checked\", value);\n                }\n            });\n        },\n\n        _save: function(e) {\n            e.preventDefault();\n\n            this._updateModel();\n\n            if (!this.wrapper.is(DOT + ganttStyles.popup.resourcesField)) {\n                this.trigger(\"save\", { container: this.wrapper, model: this.model });\n            }\n\n            this.close();\n        },\n\n        _updateModel: function() {\n            var resources = [];\n            var value;\n            var data = this.grid.dataSource.data();\n\n            for (var i = 0, length = data.length; i < length; i++) {\n                value = data[i].get(\"value\");\n                if (value !== null && value > 0) {\n                    resources.push(data[i]);\n                }\n            }\n\n            this.model[this.resourcesField] = resources;\n        }\n    });\n\n    kendo.gantt = {\n        TaskDropDown: TaskDropDown,\n        Editor: Editor,\n        PopupEditor: PopupEditor,\n        ResourceEditor: ResourceEditor\n    };\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n"],"names":["define","__meta__","id","name","category","description","depends","hidden","$","window","kendo","jQuery","undefined","ui","browser","support","Observable","Widget","outerWidth","_outerWidth","keys","extend","F10","isPlainObject","NS","PERCENTAGE_FORMAT","CLICK","WIDTH","STRING","DOT","DIRECTIONS","down","origin","position","up","TASK_DROPDOWN_TEMPLATE","template","ganttStyles","buttonDelete","buttonCancel","buttonSave","focused","gridContent","hovered","item","popupWrapper","popupList","popup","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","buttonDefaults","editField","editLabel","resourcesField","primary","toolbar","appendButton","DATERANGEEDITOR","container","options","attr","field","title","validationRules","model","fields","validation","appendTo","hide","RESOURCESEDITOR","styles","messages","assignButton","on","click","TaskDropDown","init","element","fn","call","this","_popup","direction","destroy","clearTimeout","_focusTimeout","off","list","unbind","_adjustListWidth","width","style","wrapper","listOuterWidth","computedStyle","computedWidth","data","getComputedStyle","parseFloat","mozilla","msie","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","_current","method","current","find","sibling","length","removeClass","removeAttr","addClass","trigger","that","itemSelector","actions","text","addChild","insertBefore","insertAfter","append","Popup","anchor","open","animation","e","target","action","preventDefault","type","hover","end","close","bind","parents","first","key","keyCode","UP","DOWN","ENTER","ESC","editors","desktop","dateRange","resources","Editor","createButton","plannedEditors","editor","editable","map","value","start","percentComplete","format","splice","apply","concat","plannedStart","plannedEnd","get","push","_buildEditTemplate","editableFields","settings","Template","templateSettings","paramName","popupStyles","html","unescape","i","tmpl","expr","PopupEditor","is","editTask","task","_createPopupEditor","showDialog","buttons","eq","buttonIndex","currentTarget","index","kendoWindow","modal","autoFocus","resizable","draggable","visible","deactivate","getKendoWindow","center","uid","save","className","cancel","editorTitle","userTriggered","editableWidget","kendoEditable","clearContainer","validateOnBlur","cycleForm","stopPropagation","updateInfo","ResourceEditor","_initContainer","_attachHandlers","events","_dettachHandlers","grid","closeHandler","_cancelProxy","_cancel","_saveProxy","_save","row","closest","dataSource","getByUid","set","_createButtons","dom","resourcesEditorTitle","resize","_resourceGrid","Grid","columns","resourcesHeader","unitsHeader","dataItem","valueFormat","toString","height","sortable","filterable","schema","from","unitsValidation","values","parent","prop","_updateModel","gantt","amd","a1","a2","a3"],"mappings":"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"}