{"version":3,"file":"kendo.tabstrip.min.js","sources":["kendo.tabstrip.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.tabstrip',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tabstrip\",\n    name: \"TabStrip\",\n    category: \"web\",\n    description: \"The TabStrip widget displays a collection of tabs with associated tab content.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"tabstrip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        map = $.map,\n        each = $.each,\n        trim = kendo.trim,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        template = kendo.template,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(a|div)$/i,\n        NS = \".kendoTabStrip\",\n        IMG = \"img\",\n        HREF = \"href\",\n        PREV = \"prev\",\n        NEXT = \"next\",\n        SHOW = \"show\",\n        LINK = \"k-link\",\n        LAST = \"k-last\",\n        CLICK = \"click\",\n        ERROR = \"error\",\n        EMPTY = \":empty\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        SELECT = \"select\",\n        ACTIVATE = \"activate\",\n        CONTENT = \"k-tabstrip-content k-content\",\n        CONTENTURL = \"contentUrl\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        DISABLEDSTATE = \"k-state-disabled\",\n        ACTIVESTATE = \"k-state-active\",\n        FOCUSEDSTATE = \"k-state-focused\",\n        HOVERSTATE = \"k-state-hover\",\n        TABONTOP = \"k-tab-on-top\",\n        NAVIGATABLEITEMS = \".k-item:not(.\" + DISABLEDSTATE + \")\",\n        KEYBOARDNAVIGATABLEITEMS = \".k-item\",\n        HOVERABLEITEMS = \".k-tabstrip-items > \" + NAVIGATABLEITEMS + \":not(.\" + ACTIVESTATE + \")\",\n        DEFAULTDISTANCE = 200,\n\n        templates = {\n            content: template(\n                \"<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>\"\n            ),\n            itemWrapper: template(\n                \"<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>\" +\n                    \"#= image(item) ##= sprite(item) ##= text(item) #\" +\n                \"</#= tag(item) #>\"\n            ),\n            item: template(\n                \"<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \\\"aria-selected='true'\\\" : ''#>\" +\n                    \"#= itemWrapper(data) #\" +\n                \"</li>\"\n            ),\n            image: template(\"<img class='k-image' alt='' src='#= imageUrl #' />\"),\n            sprite: template(\"<span class='k-sprite #= spriteCssClass #'></span>\"),\n            empty: template(\"\")\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = [\"k-tabstrip-item\", \"k-item\"],\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result.push(\"k-state-disabled\");\n                }\n\n                if (index === 0) {\n                    result.push(\"k-first\");\n                }\n\n                if (index == group.length - 1) {\n                    result.push(\"k-last\");\n                }\n\n                return result.join(\" \");\n            },\n            textAttributes: function(item) {\n                return item.url ? \" href='\" + item.url + \"'\" : \"\";\n            },\n            text: function(item) {\n                return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n            },\n            tag: function(item) {\n                return item.url ? \"a\" : \"span\";\n            },\n            contentAttributes: function(content) {\n                return content.active !== true ? \" style='display:none' aria-hidden='true' aria-expanded='false'\" : \"\";\n            },\n            content: function(item) {\n                return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n            },\n            contentUrl: function(item) {\n                return item.contentUrl ? kendo.attr(\"content-url\") + '=\"' + item.contentUrl + '\"' : \"\";\n            }\n        };\n\n    function updateTabClasses(tabs) {\n        tabs.children(IMG)\n            .addClass(IMAGE);\n\n        tabs.children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        tabs.filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .attr(\"aria-disabled\", \"true\")\n            .prop(\"disabled\", false);\n\n        tabs.filter(\":not([class*=k-state])\")\n            .children(\"a\")\n            .filter(\":focus\")\n            .parent()\n            .addClass(ACTIVESTATE + \" \" + TABONTOP);\n\n        tabs.attr(\"role\", \"tab\");\n        tabs.filter(\".\" + ACTIVESTATE)\n            .attr(\"aria-selected\", true);\n\n\n        tabs.each(function() {\n            var item = $(this);\n\n            if (!item.children(\".\" + LINK).length) {\n                item\n                    .contents() // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !trim(this.nodeValue))); })\n                    .wrapAll(\"<span UNSELECTABLE='on' class='\" + LINK + \"'/>\");\n            }\n        });\n\n    }\n\n    function updateFirstLast(tabGroup) {\n        var tabs = tabGroup.children(\".k-item\");\n\n        tabs.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        tabs.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        tabs.filter(\":first-child\").addClass(FIRST);\n        tabs.filter(\":last-child\").addClass(LAST);\n    }\n\n    function scrollButtonHtml(buttonClass, iconClass) {\n        return \"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-\" + buttonClass + \"' unselectable='on'><span class='k-button-icon k-icon \" + iconClass + \"'></span></span>\";\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this, value;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._animations(that.options);\n\n            options = that.options;\n\n            that._contentUrls = options.contentUrls || [];\n\n            that._wrapper();\n\n            that._isRtl = kendo.support.isRtl(that.wrapper);\n\n            that._tabindex();\n            that._updateClasses();\n            that._dataSource();\n\n            that.tabGroup.attr(\"role\", \"none\");\n            that.wrapper.attr(\"role\", \"tablist\");\n\n            if (options.dataSource) {\n                that.dataSource.fetch();\n            }\n\n            that._tabPosition();\n            that._scrollable();\n            that._processContentUrls();\n            that._attachEvents();\n\n            if (that.options.value) {\n                value = that.options.value;\n            }\n\n            that._initialActivate();\n            that.value(value);\n            kendo.notify(that);\n        },\n\n        events: [\n            SELECT,\n            ACTIVATE,\n            SHOW,\n            ERROR,\n            CONTENTLOAD,\n            \"change\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        options: {\n            name: \"TabStrip\",\n            dataEncodedField: \"\",\n            dataTextField: \"\",\n            dataContentField: \"\",\n            dataImageUrlField: \"\",\n            dataUrlField: \"\",\n            dataSpriteCssClass: \"\",\n            dataContentUrlField: \"\",\n            tabPosition: \"top\",\n            animation: {\n                open: {\n                    effects: \"expand:vertical fadeIn\",\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 200\n                }\n            },\n            collapsible: false,\n            navigatable: true,\n            contentUrls: false,\n            scrollable: {\n                distance: DEFAULTDISTANCE\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n            that._dataSource();\n            that.dataSource.fetch();\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                animation = that.options.animation;\n\n            that._animations(options);\n\n            if (options.contentUrls) {\n                that._contentUrls = options.contentUrls;\n            }\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            } else {\n                that.wrapper.off(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        activateTab: function(item) {\n            if (this.tabGroup.children(\"[data-animating]\").length) { return; }\n\n            item = this.tabGroup.find(item);\n\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close,\n                neighbours = item.parent().children(),\n                oldTab = neighbours.filter(\".\" + ACTIVESTATE),\n                itemIndex = neighbours.index(item),\n                isAnimationEnabled = animation && \"duration\" in animation && \"effects\" in animation;\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n            // deactivate previously active tab\n            if (kendo.size(animation.effects)) {\n                oldTab.kendoRemoveClass(ACTIVESTATE, { duration: close.duration });\n                item.kendoRemoveClass(HOVERSTATE, { duration: close.duration });\n            } else {\n                oldTab.removeClass(ACTIVESTATE);\n                item.removeClass(HOVERSTATE);\n            }\n\n            // handle content elements\n            var contentAnimators = that.contentAnimators;\n\n            if (that.inRequest) {\n                that.xhr.abort();\n                that.inRequest = false;\n            }\n\n            if (contentAnimators.length === 0) {\n                that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                    .css(\"z-index\");\n\n                item.addClass(ACTIVESTATE);\n                that._current(item);\n\n                that.trigger(\"change\");\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n\n                return false;\n            }\n\n            var visibleContents = contentAnimators.filter(\".\" + ACTIVESTATE),\n                contentHolder = that.contentHolder(itemIndex),\n                contentElement = contentHolder.closest(\".k-content\");\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (contentHolder.length === 0) {\n                visibleContents\n                    .removeClass( ACTIVESTATE )\n                    .attr(\"aria-hidden\", true)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close );\n                return false;\n            }\n\n            item.attr(\"data-animating\", true);\n\n            var isAjaxContent = (item.children(\".\" + LINK).data(CONTENTURL) || that._contentUrls[itemIndex] || false) && contentHolder.is(EMPTY),\n                showContentElement = function() {\n                    oldTab.removeAttr(\"aria-selected\");\n                    item.attr(\"aria-selected\", true);\n\n                    that._current(item);\n\n                    contentElement\n                        .addClass(ACTIVESTATE)\n                        .removeAttr(\"aria-hidden\")\n                        .kendoStop(true, true)\n                        .attr(\"aria-expanded\", true)\n                        .kendoAnimate( extend({ init: function() {\n                            that.trigger(SHOW, { item: item[0], contentElement: contentHolder[0] });\n                            kendo.resize(contentHolder);\n                        } }, animation, {\n                            complete: function() {\n                                item.removeAttr(\"data-animating\");\n\n                                that.trigger(ACTIVATE, { item: item[0], contentElement: contentHolder[0] });\n                                kendo.resize(contentHolder);\n\n                                // Force IE and Edge rendering to fix visual glitches telerik/kendo-ui-core#2777.\n                                if (isAnimationEnabled && (kendo.support.browser.msie || kendo.support.browser.edge)) {\n                                    contentHolder.finish().animate({\n                                        opacity: 0.9\n                                    },\"fast\", \"linear\", function() {\n                                        contentHolder.finish().animate({\n                                            opacity: 1\n                                        },\"fast\", \"linear\");\n                                    });\n                                }\n                            }\n                        } ) );\n                },\n                showContent = function() {\n                    if (!isAjaxContent) {\n                        showContentElement();\n                        that.trigger(\"change\");\n                    } else {\n                        item.removeAttr(\"data-animating\");\n                        that.ajaxRequest(item, contentHolder, function() {\n                            item.attr(\"data-animating\", true);\n                            showContentElement();\n                            that.trigger(\"change\");\n                        });\n                    }\n\n                    if (that._scrollableModeActive) {\n                        that._scrollTabsToItem(item);\n                    }\n\n                };\n\n            // See https://github.com/telerik/kendo-ui-core/issues/6660\n            var oldMinHeight = that.element.css('min-height');\n            that.element.css('min-height', that.element.outerHeight());\n\n            visibleContents\n                    .removeClass(ACTIVESTATE);\n\n            that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                    item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                        .css(\"z-index\");\n\n            if (kendo.size(animation.effects)) {\n                item.kendoAddClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.addClass(ACTIVESTATE);\n            }\n\n            visibleContents.attr(\"aria-hidden\", true);\n            visibleContents.attr(\"aria-expanded\", false);\n\n            if (visibleContents.length) {\n                visibleContents\n                    .kendoStop(true, true)\n                    .kendoAnimate(extend( {\n                        complete: showContent\n                   }, close ));\n            } else {\n                showContent();\n            }\n\n            that.element.css('min-height', oldMinHeight);\n\n            return true;\n        },\n\n        ajaxRequest: function(element, content, complete, url) {\n            element = this.tabGroup.find(element);\n\n            var that = this,\n                xhr = $.ajaxSettings.xhr,\n                link = element.find(\".\" + LINK),\n                data = {},\n                halfWidth = element.width() / 2,\n                fakeProgress = false,\n                statusIcon = element.find(\".k-loading\").removeClass(\"k-complete\");\n\n            if (!statusIcon[0]) {\n                statusIcon = $(\"<span class='k-loading'/>\").prependTo(element);\n            }\n\n            var endState = halfWidth * 2 - statusIcon.width();\n\n            var oldProgressAnimation = function() {\n                statusIcon.animate({ marginLeft: (parseInt(statusIcon.css(\"marginLeft\"), 10) || 0) < halfWidth ? endState : 0 }, 500, oldProgressAnimation);\n            };\n\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                setTimeout(oldProgressAnimation, 40);\n            }\n\n             url = url || link.data(CONTENTURL) || that._contentUrls[element.index()] || link.attr(HREF);\n            that.inRequest = true;\n\n            var ajaxOptions = {\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n                xhr: function() {\n                    var current = this,\n                        request = xhr(),\n                        event = current.progressUpload ? \"progressUpload\" : current.progress ? \"progress\" : false;\n\n                    if (request) {\n                        $.each([ request, request.upload ], function() {\n                            if (this.addEventListener) {\n                                this.addEventListener(\"progress\", function(evt) {\n                                    if (event) {\n                                        current[event](evt);\n                                    }\n                                }, false);\n                            }\n                        });\n                    }\n\n                    current.noProgress = !(window.XMLHttpRequest && ('upload' in new XMLHttpRequest()));\n                    return request;\n                },\n\n                progress: function(evt) {\n                    if (evt.lengthComputable) {\n                        var percent = parseInt((evt.loaded / evt.total * 100), 10) + \"%\";\n                        statusIcon\n                            .stop(true)\n                            .addClass(\"k-progress\")\n                            .css({\n                                \"width\": percent,\n                                \"marginLeft\": 0\n                            });\n                    }\n                },\n\n                error: function(xhr, status) {\n                    if (that.trigger(\"error\", { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                stopProgress: function() {\n                    clearInterval(fakeProgress);\n                    statusIcon\n                        .stop(true)\n                        .addClass(\"k-progress\")\n                        [0].style.cssText = \"\";\n                },\n\n                complete: function(xhr) {\n                    that.inRequest = false;\n                    if (this.noProgress) {\n                        setTimeout(this.stopProgress, 500);\n                    } else {\n                        this.stopProgress();\n                    }\n\n                    if (xhr.statusText == \"abort\") {\n                        statusIcon.remove();\n                    }\n                },\n\n                success: function(data) {\n                    statusIcon.addClass(\"k-complete\");\n                    try {\n                        var current = this,\n                            loaded = 10;\n\n                        if (current.noProgress) {\n                            statusIcon.width(loaded + \"%\");\n                            fakeProgress = setInterval(function() {\n                                current.progress({ lengthComputable: true, loaded: Math.min(loaded, 100), total: 100 });\n                                loaded += 10;\n                            }, 40);\n                        }\n\n                        that.angular(\"cleanup\", function() { return { elements: content.get() }; });\n                        kendo.destroy(content);\n                        content.html(data);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    if (complete) {\n                        complete.call(that, content);\n                    }\n\n                    that.angular(\"compile\", function() { return { elements: content.get() }; });\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: content[0] });\n                }\n            };\n\n            if (typeof url === \"object\") {\n                ajaxOptions = $.extend(true, {}, ajaxOptions, url);\n\n                if (isFunction(ajaxOptions.url)) {\n                    ajaxOptions.url = ajaxOptions.url();\n                }\n            }\n\n            that.xhr = $.ajax(ajaxOptions);\n        },\n\n        append: function(tab) {\n            var that = this,\n                inserted = that._create(tab);\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                that.tabGroup.append(this);\n                if (that.options.tabPosition == \"bottom\") {\n                    that.tabWrapper.before(contents);\n                } else {\n                    that.wrapper.append(contents);\n                }\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        contentElement: function(itemIndex) {\n            if (isNaN(itemIndex - 0)) {\n                return undefined;\n            }\n\n            var contentElements = this.contentElements && this.contentElements[0] && !kendo.kineticScrollNeeded ? this.contentElements : this.contentAnimators;\n            var id = $(this.tabGroup.children()[itemIndex]).attr(\"aria-controls\");\n\n            if (contentElements) {\n                for (var i = 0, len = contentElements.length; i < len; i++) {\n                    if (contentElements.eq(i).closest(\".k-content\")[0].id == id) {\n                        return contentElements[i];\n                    }\n                }\n            }\n\n            return undefined;\n        },\n\n        contentHolder: function(itemIndex) {\n            var contentElement = $(this.contentElement(itemIndex)),\n                scrollContainer = contentElement.children(\".km-scroll-container\");\n\n            return kendo.support.touch && scrollContainer[0] ? scrollContainer : contentElement;\n        },\n\n        deactivateTab: function(item) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close;\n            item = that.tabGroup.find(item);\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n\n            if (kendo.size(animation.effects)) {\n                item.kendoRemoveClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.removeClass(ACTIVESTATE);\n            }\n\n            item.removeAttr(\"aria-selected\");\n\n            that.contentAnimators\n                    .filter(\".\" + ACTIVESTATE)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close )\n                    .removeClass(ACTIVESTATE)\n                    .attr(\"aria-hidden\", true);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            }\n\n            that.wrapper.off(NS);\n            that.tabGroup.off(NS);\n\n            if (that._scrollableModeActive) {\n                that._scrollPrevButton.off().remove();\n                that._scrollNextButton.off().remove();\n            }\n\n            kendo.destroy(that.wrapper);\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        enable: function(element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        insertAfter: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).prev();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.after(this);\n                referenceContent.after(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        insertBefore: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).next();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.before(this);\n                referenceContent.before(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        items: function() {\n            return this.tabGroup[0].children;\n        },\n\n        refresh: function(e) {\n            var that = this,\n                options = that.options,\n                encoded = kendo.getter(options.dataEncodedField),\n                text = kendo.getter(options.dataTextField),\n                content = kendo.getter(options.dataContentField),\n                contentUrl = kendo.getter(options.dataContentUrlField),\n                image = kendo.getter(options.dataImageUrlField),\n                url = kendo.getter(options.dataUrlField),\n                sprite = kendo.getter(options.dataSpriteCssClass),\n                idx,\n                tabs = [],\n                tab,\n                action,\n                view = that.dataSource.view(),\n                length;\n\n\n            e = e || {};\n            action = e.action;\n\n            if (action) {\n               view = e.items;\n            }\n\n            for (idx = 0, length = view.length; idx < length; idx ++) {\n                tab = {\n                    text: text(view[idx])\n                };\n\n                if (options.dataEncodedField) {\n                    tab.encoded = encoded(view[idx]);\n                }\n\n                if (options.dataContentField) {\n                    tab.content = content(view[idx]);\n                }\n\n                if (options.dataContentUrlField) {\n                    tab.contentUrl = contentUrl(view[idx]);\n                }\n\n                if (options.dataUrlField) {\n                    tab.url = url(view[idx]);\n                }\n\n                if (options.dataImageUrlField) {\n                    tab.imageUrl = image(view[idx]);\n                }\n\n                if (options.dataSpriteCssClass) {\n                    tab.spriteCssClass = sprite(view[idx]);\n                }\n\n                tabs[idx] = tab;\n            }\n\n            if (e.action == \"add\") {\n                if (e.index < that.tabGroup.children().length) {\n                    that.insertBefore(tabs, that.tabGroup.children().eq(e.index));\n                } else {\n                    that.append(tabs);\n                }\n            } else if (e.action == \"remove\") {\n                for (idx = 0; idx < view.length; idx++) {\n                   that.remove(e.index);\n                }\n            } else if (e.action == \"itemchange\") {\n                idx = that.dataSource.view().indexOf(view[0]);\n                if (e.field === options.dataTextField) {\n                    that.tabGroup.children().eq(idx).find(\".k-link\").text(view[0].get(e.field));\n                }\n\n                if (e.field === options.dataUrlField) {\n                    that._contentUrls[idx] = view[0].get(e.field);\n                }\n            } else {\n                that.trigger(\"dataBinding\");\n                that.remove(\"li\");\n                that._contentUrls = [];\n                that.append(tabs);\n                that.trigger(\"dataBound\");\n            }\n        },\n\n        reload: function(element) {\n            element = this.tabGroup.find(element);\n            var that = this;\n            var contentUrls = that._contentUrls;\n\n            element.each(function() {\n                var item = $(this),\n                    contentUrl = item.find(\".\" + LINK).data(CONTENTURL) || contentUrls[item.index()],\n                    content = that.contentHolder(item.index());\n\n                if (contentUrl) {\n                    that.ajaxRequest(item, content, null, contentUrl);\n                }\n            });\n\n            return that;\n        },\n\n        remove: function(elements) {\n            var that = this;\n            var type = typeof elements;\n            var contents;\n\n            if (type === \"string\") {\n                elements = that.tabGroup.find(elements);\n            } else if (type === \"number\") {\n                elements = that.tabGroup.children().eq(elements);\n            }\n\n            contents = elements.map(function() {\n                var idx = $(this).index();\n                var content = that.contentElement(idx);\n\n                kendo.destroy(content);\n                that._removeUrlItem(idx);\n\n                return content;\n            });\n\n            elements.remove();\n            contents.empty();\n            contents.remove();\n\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        select: function(element) {\n            var that = this;\n\n            if (arguments.length === 0) {\n                return that.tabGroup.children(\"li.\" + ACTIVESTATE);\n            }\n\n            if (!isNaN(element)) {\n                element = that.tabGroup.children().get(element);\n            }\n\n            element = that.tabGroup.find(element);\n            $(element).each(function(index, item) {\n                item = $(item);\n                if (!item.hasClass(ACTIVESTATE) && !that.trigger(SELECT, { item: item[0], contentElement: that.contentHolder(item.index())[0] })) {\n                    that.activateTab(item);\n                }\n            });\n\n            return that;\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value !== undefined) {\n                if (value != that.value()) {\n                   that.tabGroup.children().each(function() {\n                        if (kendo.trim($(this).text()) == value) {\n                            that.select(this);\n                        }\n                   });\n                }\n            } else {\n                return that.select().text();\n            }\n        },\n\n        _active: function() {\n            var item = this.tabGroup.children().filter(\".\" + ACTIVESTATE);\n\n            item = item[0] ? item : this._endItem(\"first\");\n            if (item[0]) {\n                this._current(item);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { effects: {} } }; // No animation\n            }\n        },\n\n        _appendUrlItem: function(url) {\n            this._contentUrls.push(url);\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper\n                .on(MOUSEENTER + NS + \" \" + MOUSELEAVE + NS, HOVERABLEITEMS, that._toggleHover)\n                .on(\"focus\" + NS, that._active.bind(that))\n                .on(\"blur\" + NS, function() { that._current(null); });\n\n            that._keyDownProxy = that._keydown.bind(that);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            that.tabGroup\n                .on(CLICK + NS, \".k-state-disabled .k-link\", false)\n                .on(CLICK + NS, \" > \" + NAVIGATABLEITEMS, that._itemClick.bind(that));\n        },\n\n        _click: function(item) {\n            var that = this,\n                link = item.find(\".\" + LINK),\n                href = link.attr(HREF),\n                collapse = that.options.collapsible,\n                index = item.index(),\n                contentHolder = that.contentHolder(index),\n                prevent, isAnchor,\n                neighbours = item.parent().children(),\n                oldFocusedTab = neighbours.filter(\".\" + FOCUSEDSTATE);\n\n            if (item.closest(\".k-widget\")[0] != that.wrapper[0]) {\n                return;\n            }\n\n            if (item.is(\".\" + DISABLEDSTATE + (!collapse ? \",.\" + ACTIVESTATE : \"\"))) {\n                oldFocusedTab.removeClass(FOCUSEDSTATE);\n                that._focused = item;\n\n                item.addClass(FOCUSEDSTATE);\n                that._current(item);\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n                return true;\n            }\n\n            isAnchor = link.data(CONTENTURL) || that._contentUrls[index] || (href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1));\n            prevent = !href || isAnchor;\n\n            if (that.tabGroup.children(\"[data-animating]\").length) {\n                return prevent;\n            }\n\n            if (that.trigger(SELECT, { item: item[0], contentElement: contentHolder[0] })) {\n                return true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (collapse && item.is(\".\" + ACTIVESTATE)) {\n                that.deactivateTab(item);\n                return true;\n            }\n\n            if (that.activateTab(item)) {\n                prevent = true;\n            }\n\n            return prevent;\n        },\n\n        _create: function(tab) {\n            var that = this,\n            tabs,\n            contents,\n            content,\n            newTabsCreated = false;\n\n            tab = tab instanceof kendo.data.ObservableArray ? tab.toJSON() : tab;\n\n            if ($.isPlainObject(tab) || Array.isArray(tab)) {\n                tab = Array.isArray(tab) ? tab : [tab];\n                newTabsCreated = true;\n\n                tabs = map(tab, function(value, idx) {\n                            that._appendUrlItem(tab[idx].contentUrl || null);\n\n                            return $(TabStrip.renderItem({\n                                group: that.tabGroup,\n                                item: extend(value, { index: idx })\n                            }));\n                        });\n\n                contents = map( tab, function(value, idx) {\n                            if (typeof value.content == \"string\" || value.contentUrl) {\n                                return $(TabStrip.renderContent({\n                                    item: extend(value, { index: idx })\n                                }));\n                            }\n                        });\n            } else {\n                if (typeof tab == \"string\" && tab[0] != \"<\") {\n                    tabs = that.element.find(tab);\n                } else {\n                    tabs = $(tab);\n                }\n                contents = $();\n                tabs.each(function() {\n                    if (/k-tabstrip-items/.test(this.parentNode.className)) {\n                        var element = that.element.find(\"[id='\" + this.getAttribute(\"aria-controls\") + \"']\");\n                        content = element;\n                    } else {\n                        content = $(\"<div class='\" + CONTENT + \"'/>\");\n                    }\n\n                    contents = contents.add(content);\n                });\n\n                updateTabClasses(tabs);\n            }\n\n            return { tabs: tabs, contents: contents, newTabsCreated: newTabsCreated };\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            if (focused) {\n                focused.removeClass(FOCUSEDSTATE);\n            }\n\n            if (candidate) {\n                if (!candidate.hasClass(ACTIVESTATE)) {\n                    candidate.addClass(FOCUSEDSTATE);\n                }\n\n                if (candidate[0].id) {\n                    that.element.attr(\"aria-activedescendant\", candidate[0].id);\n                }\n            }\n\n            that._focused = candidate;\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(that.options.dataSource)\n                                .bind(\"change\", that._refreshHandler);\n        },\n\n        _elementId: function(element, idx, tab) {\n            var elementId = element.attr(\"id\"),\n                wrapperId = this.element.attr(\"id\"),\n                guid = kendo.guid();\n\n            if (!elementId || elementId.indexOf(wrapperId + \"-\") > -1) {\n                var tabStripID = (wrapperId || guid) + \"-\";\n\n                if (tab) {\n                    tabStripID += \"tab-\";\n                }\n\n                return tabStripID + (idx + 1);\n            }\n\n            return elementId;\n        },\n\n        _endItem: function(action) {\n            return this.tabGroup.children(NAVIGATABLEITEMS)[action]();\n        },\n\n        _getItem: function(action) {\n            return this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[action]();\n        },\n\n        _initialActivate: function() {\n            var that = this,\n                selectedItems = that.tabGroup.children(\"li.\" + ACTIVESTATE),\n                content = that.contentHolder(selectedItems.index());\n\n            if (selectedItems[0] && content.length > 0 && content[0].childNodes.length === 0) {\n                that.activateTab(selectedItems.eq(0));\n            }\n        },\n\n        _item: function(item, action) {\n            var endItem;\n            if (action === PREV) {\n                endItem = \"last\";\n            } else {\n                endItem = \"first\";\n            }\n\n            if (!item) {\n                return this._endItem(endItem);\n            }\n\n            item = item[action]();\n\n            if (!item[0]) {\n                item = this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[endItem]();\n            }\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                item.addClass(FOCUSEDSTATE);\n            }\n            if (item.hasClass(DISABLEDSTATE) || item.hasClass(ACTIVESTATE)) {\n                this._focused = item;\n            }\n\n            return item;\n        },\n\n        _itemClick: function(e) {\n            var that = this,\n                wr = that.wrapper[0];\n\n            if (wr !== document.activeElement) {\n                var msie = kendo.support.browser.msie;\n                if (msie) {\n                    try {\n                        // does not scroll to the active element\n                        wr.setActive();\n                    } catch (j) {\n                        wr.focus();\n                    }\n                } else {\n                    wr.focus();\n                }\n            }\n\n            if (that._click($(e.currentTarget))) {\n                e.preventDefault();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current(),\n                rtl = that._isRtl,\n                isHorizontal = /top|bottom/.test(that.options.tabPosition),\n                action;\n\n            if (e.target != e.currentTarget || !current) {\n                return;\n            }\n\n            if (key === keys.DOWN && !isHorizontal) {\n                action = NEXT;\n            } else if (key === keys.UP && !isHorizontal) {\n                action = PREV;\n            } else if (key === keys.RIGHT && isHorizontal) {\n                action = rtl ? PREV : NEXT;\n            } else if (key === keys.LEFT && isHorizontal) {\n                action = rtl ? NEXT : PREV;\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(current);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._click(that._getItem(\"first\"));\n                e.preventDefault();\n                return;\n            } else if (key == keys.END) {\n                that._click(that._getItem(\"last\"));\n                e.preventDefault();\n                return;\n            }\n\n            if (action) {\n                that._click(that._item(current, action));\n                e.preventDefault();\n            }\n        },\n\n        _moveUrlItem: function(from, to) {\n            this._contentUrls.splice(to, 0, this._contentUrls.splice(from, 1)[0]);\n        },\n\n        _processContentUrls: function() {\n            var that = this;\n\n            if (that._contentUrls.length) {\n                that.tabGroup.children(\".k-item\")\n                    .each(function(index, item) {\n                        var url = that._contentUrls[index];\n\n                        if (typeof url === 'string') {\n                            $(item).find(\">.\" + LINK).data(CONTENTURL, url);\n                        }\n                    });\n            } else {\n                that._contentUrls.length = that.tabGroup.find(\"li.k-item\").length;\n            }\n        },\n\n        _removeUrlItem: function(index) {\n            this._contentUrls.splice(index, 1);\n        },\n\n        _resize: function() {\n            this._scrollable();\n        },\n\n        _scrollable: function() {\n            var that = this,\n                options = that.options,\n                wrapperOffsetWidth,\n                tabGroupScrollWidth,\n                scrollPrevButton,\n                scrollNextButton;\n\n            if (that._scrollableAllowed()) {\n\n                that.wrapper.addClass(\"k-tabstrip-scrollable\");\n\n                wrapperOffsetWidth = that.wrapper[0].offsetWidth;\n                tabGroupScrollWidth = that.tabGroup[0].scrollWidth;\n\n                if (tabGroupScrollWidth > wrapperOffsetWidth && !that._scrollableModeActive) {\n                    that._nowScrollingTabs = false;\n                    that._isRtl = kendo.support.isRtl(that.element);\n                    var mouseDown = kendo.support.touch ? \"touchstart\" : \"mousedown\";\n                    var mouseUp = kendo.support.touch ? \"touchend\" : \"mouseup\";\n                    var browser = kendo.support.browser;\n                    var isRtlScrollDirection = that._isRtl && !browser.msie && !browser.edge;\n\n                    that.tabWrapper.prepend(scrollButtonHtml(\"prev\", \"k-i-arrow-60-left\"));\n                    that.tabWrapper.append(scrollButtonHtml(\"next\", \"k-i-arrow-60-right\"));\n\n                    scrollPrevButton = that._scrollPrevButton = that.tabWrapper.children(\".k-tabstrip-prev\");\n                    scrollNextButton = that._scrollNextButton = that.tabWrapper.children(\".k-tabstrip-next\");\n\n                    scrollPrevButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? 1 : -1));\n                    });\n\n                    scrollNextButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? -1 : 1));\n                    });\n\n                    scrollPrevButton.add(scrollNextButton).on(mouseUp + NS, function() {\n                        that._nowScrollingTabs = false;\n                    });\n\n                    that._scrollableModeActive = true;\n\n                    that._toggleScrollButtons();\n                } else if (that._scrollableModeActive && tabGroupScrollWidth <= wrapperOffsetWidth) {\n                    that._scrollableModeActive = false;\n\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n\n                    that._scrollPrevButton.off().remove();\n                    that._scrollNextButton.off().remove();\n                } else if (!that._scrollableModeActive) {\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n                } else {\n                    that._toggleScrollButtons();\n                }\n            }\n        },\n\n        _scrollableAllowed: function() {\n            var options = this.options;\n\n            if (options.scrollable && !options.scrollable.distance) {\n                options.scrollable = { distance: DEFAULTDISTANCE };\n            }\n\n            return options.scrollable && !isNaN(options.scrollable.distance) && (options.tabPosition == \"top\" || options.tabPosition == \"bottom\");\n        },\n\n        _scrollTabsToItem: function(item) {\n            var that = this,\n                tabGroup = that.tabGroup,\n                currentScrollOffset = kendo.scrollLeft(tabGroup),\n                itemWidth = outerWidth(item),\n                itemOffset = that._isRtl ? item.position().left : item.position().left - tabGroup.children().first().position().left,\n                tabGroupWidth = tabGroup[0].offsetWidth,\n                browser = kendo.support.browser,\n                itemPosition;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                currentScrollOffset = currentScrollOffset * -1;\n            }\n\n            if (that._isRtl) {\n                if (itemOffset < 0) {\n                    itemPosition = currentScrollOffset + itemOffset - (tabGroupWidth - currentScrollOffset);\n                } else if (itemOffset + itemWidth > tabGroupWidth) {\n                    itemPosition = currentScrollOffset + itemOffset - itemWidth;\n                }\n            } else {\n                if (currentScrollOffset + tabGroupWidth < itemOffset + itemWidth) {\n                    itemPosition = itemOffset + itemWidth - tabGroupWidth;\n                } else if (currentScrollOffset > itemOffset) {\n                    itemPosition = itemOffset;\n                }\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": itemPosition }, \"fast\", \"linear\", function() {\n                that._toggleScrollButtons();\n            });\n        },\n\n        _scrollTabsByDelta: function(delta) {\n            var that = this;\n            var tabGroup = that.tabGroup;\n            var scrLeft = kendo.scrollLeft(tabGroup);\n            var browser = kendo.support.browser;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrLeft = scrLeft * -1;\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": scrLeft + delta }, \"fast\", \"linear\", function() {\n                if (that._nowScrollingTabs && !jQuery.fx.off) {\n                    that._scrollTabsByDelta(delta);\n                } else {\n                    that._toggleScrollButtons();\n                }\n            });\n        },\n\n        _tabPosition: function() {\n            var that = this,\n                tabPosition = that.options.tabPosition;\n\n            that.wrapper.addClass(\"k-floatwrap k-tabstrip-\" + tabPosition);\n\n            if (tabPosition == \"bottom\") {\n                that.tabWrapper.appendTo(that.wrapper);\n            }\n\n            if (tabPosition === \"left\" || tabPosition === \"right\") {\n                that.wrapper.attr(\"aria-orientation\", \"vertical\");\n            }\n\n            that.resize(true);\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVERSTATE, e.type == MOUSEENTER);\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.tabGroup.find(element);\n            element.each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleScrollButtons: function() {\n            var that = this,\n                ul = that.tabGroup,\n                scrollLeft = kendo.scrollLeft(ul);\n\n                that._scrollPrevButton.toggleClass('k-disabled', scrollLeft === 0);\n                that._scrollNextButton.toggleClass('k-disabled', scrollLeft === ul[0].scrollWidth - ul[0].offsetWidth);\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                tabs, activeItem, activeTab;\n            var isHorizontal = /top|bottom/.test(that.options.tabPosition);\n\n            that.wrapper.addClass(\"k-widget k-tabstrip\");\n\n            if (!that.tabGroup) {\n                that.tabGroup = that.wrapper.children(\"ul\");\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            if (!that.tabGroup[0]) {\n                that.tabGroup = $(\"<ul />\").prependTo(that.wrapper);\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            that.tabWrapper.addClass('k-tabstrip-items-wrapper');\n            that.tabWrapper.addClass(isHorizontal ? 'k-hstack' : 'k-vstack');\n            that.tabGroup.addClass('k-tabstrip-items k-reset');\n\n            tabs = that.tabGroup.find(\"li\").addClass(\"k-tabstrip-item k-item\");\n\n            if (tabs.length) {\n                activeItem = tabs.filter(\".\" + ACTIVESTATE).index();\n                activeTab = activeItem >= 0 ? activeItem : undefined;\n\n                that.tabGroup // Remove empty text nodes\n                    .contents()\n                    .filter(function() { return (this.nodeType == 3 && !trim(this.nodeValue)); })\n                    .remove();\n            }\n\n            if (activeItem >= 0) {\n                tabs.eq(activeItem).addClass(TABONTOP);\n            }\n\n            that.contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\");\n\n            that.contentElements\n                .addClass(CONTENT)\n                .eq(activeTab)\n                .addClass(ACTIVESTATE)\n                .css({ display: \"block\" });\n\n            if (tabs.length) {\n                updateTabClasses(tabs);\n\n                updateFirstLast(that.tabGroup);\n                that._updateContentElements(true);\n            }\n        },\n\n        _updateContentElements: function(isInitialUpdate) {\n            var that = this,\n                contentUrls = that._contentUrls,\n                items = that.tabGroup.children(\".k-item\"),\n                contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"),\n                _elementId = that._elementId.bind(that);\n\n            if (contentElements.length && (items.length > contentElements.length)) {\n                contentElements.each(function(idx) {\n                    // Generate an ID for each content element\n                    var contentId = _elementId($(this), idx),\n                        item = items.filter(\"[aria-controls=\" + (contentId || 0) + \"]\")[0],\n                        tabId;\n\n                    if (!item && isInitialUpdate) {\n                        // On initialization of the widget get the tab by its index\n                        item = items[idx];\n                    }\n\n                    if (item) {\n                        // set the tab aria-controls attribute to the content ID\n                        item.setAttribute(\"aria-controls\", contentId);\n                        tabId = item.id = _elementId($(item), idx, true);\n                        this.setAttribute(\"aria-labelledby\", tabId);\n                    }\n\n                    // set the get (possibly existing) ID on the content element\n                    this.setAttribute(\"id\", contentId);\n                });\n            } else {\n                items.each(function(idx) {\n                    var currentContent = contentElements.eq(idx),\n                        contentId = _elementId(currentContent, idx),\n                        tabId;\n\n                    // set the tab aria-controls attribute to the content ID\n                    this.setAttribute(\"aria-controls\", contentId);\n\n                    tabId = this.id = _elementId($(this), idx, true);\n\n                    if (!currentContent.length && contentUrls[idx]) {\n                        // Append content element in case contentUrl is used\n                        $(\"<div class='\" + CONTENT + \"'/>\").appendTo(that.wrapper).attr(\"id\", contentId);\n                    } else {\n                        // set the ID on the content element\n                        currentContent.attr(\"id\", contentId);\n\n                        if (!$(this).children(\".k-loading\")[0] && !contentUrls[idx]) {\n                            $(\"<span class='k-loading k-complete'/>\").prependTo(this);\n                        }\n                    }\n\n                    currentContent.attr(\"role\", \"tabpanel\");\n                    currentContent.attr(\"tabindex\", \"0\");\n                    currentContent.attr(\"aria-labelledby\", tabId);\n                    currentContent.filter(\":not(.\" + ACTIVESTATE + \")\").attr(\"aria-hidden\", true).attr(\"aria-expanded\", false);\n                    currentContent.filter(\".\" + ACTIVESTATE).attr(\"aria-expanded\", true);\n                });\n            }\n\n            that.contentElements = that.contentAnimators = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"); // refresh the contents\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (kendo.kineticScrollNeeded && kendo.mobile.ui.Scroller) {\n                kendo.touchScroller(that.contentElements);\n                that.contentElements = that.contentElements.children(\".km-scroll-container\");\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n\n            if (that.element.is(\"ul\")) {\n                that.wrapper = that.element.wrapAll(\"<div />\").parent();\n            } else {\n                that.wrapper = that.element;\n            }\n        }\n    });\n\n    // client-side rendering\n    extend(TabStrip, {\n        renderItem: function(options) {\n            options = extend({ tabStrip: {}, group: {} }, options);\n\n            var empty = templates.empty,\n                item = options.item;\n\n            return templates.item(extend(options, {\n                image: item.imageUrl ? templates.image : empty,\n                sprite: item.spriteCssClass ? templates.sprite : empty,\n                itemWrapper: templates.itemWrapper\n            }, rendering));\n        },\n\n        renderContent: function(options) {\n            return templates.content(extend(options, rendering));\n        }\n    });\n\n    kendo.ui.plugin(TabStrip);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","features","$","window","kendo","jQuery","undefined","ui","keys","map","each","trim","extend","isFunction","template","outerWidth","_outerWidth","outerHeight","_outerHeight","Widget","excludedNodesRegExp","NS","IMG","HREF","PREV","NEXT","SHOW","LINK","LAST","CLICK","ERROR","EMPTY","IMAGE","FIRST","SELECT","ACTIVATE","CONTENT","CONTENTURL","MOUSEENTER","MOUSELEAVE","CONTENTLOAD","DISABLEDSTATE","ACTIVESTATE","FOCUSEDSTATE","HOVERSTATE","TABONTOP","NAVIGATABLEITEMS","KEYBOARDNAVIGATABLEITEMS","HOVERABLEITEMS","DEFAULTDISTANCE","templates","content","itemWrapper","item","image","sprite","empty","rendering","wrapperCssClass","group","result","index","enabled","push","length","join","textAttributes","url","text","encoded","htmlEncode","tag","contentAttributes","active","contentUrl","attr","updateTabClasses","tabs","children","addClass","filter","prop","parent","this","contents","nodeName","match","nodeType","nodeValue","wrapAll","updateFirstLast","tabGroup","removeClass","scrollButtonHtml","buttonClass","iconClass","TabStrip","init","element","options","that","value","fn","call","_animations","_contentUrls","contentUrls","_wrapper","_isRtl","support","isRtl","wrapper","_tabindex","_updateClasses","_dataSource","dataSource","fetch","_tabPosition","_scrollable","_processContentUrls","_attachEvents","_initialActivate","notify","events","dataEncodedField","dataTextField","dataContentField","dataImageUrlField","dataUrlField","dataSpriteCssClass","dataContentUrlField","tabPosition","animation","open","effects","duration","close","collapsible","navigatable","scrollable","distance","setDataSource","setOptions","on","_keyDownProxy","off","activateTab","find","animationSettings","hasCloseAnimation","neighbours","oldTab","itemIndex","isAnimationEnabled","reverse","hide","size","kendoRemoveClass","contentAnimators","inRequest","xhr","abort","css","_current","trigger","_scrollableModeActive","_scrollTabsToItem","visibleContents","contentHolder","contentElement","closest","tabsHeight","parseInt","kendoStop","kendoAnimate","isAjaxContent","data","is","showContentElement","removeAttr","resize","complete","browser","msie","edge","finish","animate","opacity","showContent","ajaxRequest","oldMinHeight","kendoAddClass","ajaxSettings","link","halfWidth","width","fakeProgress","statusIcon","prependTo","endState","oldProgressAnimation","marginLeft","version","setTimeout","ajaxOptions","type","cache","dataType","current","request","event","progressUpload","progress","upload","addEventListener","evt","noProgress","XMLHttpRequest","lengthComputable","percent","loaded","total","stop","error","status","stopProgress","clearInterval","style","cssText","statusText","remove","success","setInterval","Math","min","angular","elements","get","destroy","html","e","console","message","ajax","append","tab","inserted","_create","idx","tabWrapper","before","_updateContentElements","isNaN","contentElements","kineticScrollNeeded","i","len","eq","scrollContainer","touch","deactivateTab","_refreshHandler","unbind","_scrollPrevButton","_scrollNextButton","disable","_toggleDisabled","enable","state","insertAfter","referenceTab","prev","referenceContent","fromIndex","newTabsCreated","after","_moveUrlItem","insertBefore","next","items","refresh","getter","action","view","imageUrl","spriteCssClass","indexOf","field","reload","_removeUrlItem","select","arguments","hasClass","_active","_endItem","_appendUrlItem","_toggleHover","bind","_keydown","_itemClick","_click","href","collapse","prevent","isAnchor","oldFocusedTab","_focused","charAt","ObservableArray","toJSON","isPlainObject","Array","isArray","renderItem","renderContent","test","parentNode","className","getAttribute","add","candidate","focused","DataSource","create","_elementId","elementId","wrapperId","guid","tabStripID","_getItem","selectedItems","childNodes","_item","endItem","wr","document","activeElement","setActive","j","focus","currentTarget","preventDefault","key","keyCode","rtl","isHorizontal","target","DOWN","UP","RIGHT","LEFT","ENTER","SPACEBAR","HOME","END","from","to","splice","_resize","wrapperOffsetWidth","tabGroupScrollWidth","scrollPrevButton","scrollNextButton","_scrollableAllowed","offsetWidth","scrollWidth","_nowScrollingTabs","mouseDown","mouseUp","isRtlScrollDirection","prepend","_scrollTabsByDelta","_toggleScrollButtons","currentScrollOffset","scrollLeft","itemWidth","itemOffset","position","left","first","tabGroupWidth","itemPosition","mozilla","webkit","delta","scrLeft","fx","appendTo","toggleClass","ul","activeItem","activeTab","wrap","display","isInitialUpdate","contentId","tabId","setAttribute","currentContent","mobile","Scroller","touchScroller","tabStrip","plugin","amd","a1","a2","a3"],"mappings":"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"}