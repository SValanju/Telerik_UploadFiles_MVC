/**
 * Kendo UI v2022.2.621 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("kendo.filtercell.min",["kendo.autocomplete.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.combobox.min","kendo.dropdownlist.min"],function(){var r={id:"filtercell",name:"Row filter",category:"framework",depends:["autocomplete"],advanced:true},v=window.kendo.jQuery,h=void 0,m=window.kendo,i=m.ui,a=m.data.DataSource,b=i.Widget,w="change",S="boolean",k="enums",y="string",e="Is equal to",t="Is not equal to",o=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"];function _(e){var t=typeof e==="string"?e:e.operator;return v.inArray(t,o)>-1}function l(e,t){var r=[];if(v.isPlainObject(e))if(e.hasOwnProperty("filters"))r=e.filters;else if(e.field==t)return e;if(Array.isArray(e))r=e;for(var a=0;a<r.length;a++){var i=l(r[a],t);if(i)return i}}function s(e,t){if(e.filters)e.filters=v.grep(e.filters,function(e){s(e,t);if(e.filters)return e.filters.length;else return e.field!=t})}function n(n,e){var s=m.getter(e,true);return function(e){var t=n(e),r=[],a=0,i={};while(a<t.length){var o=t[a++],l=s(o);if(!i.hasOwnProperty(l)){r.push(o);i[l]=true}}return r}}var u=b.extend({init:function(e,t){e=v(e).addClass("k-filtercell");var r=this.wrapper=v("<span/>").appendTo(e);var a=this,i,o,p=t,d,l,n=a.operators=t.operators||{},s=a.input=v("<input/>").attr(m.attr("bind"),"value: value").appendTo(r);var f=t?t.suggestDataSource:null;if(f)t=v.extend({},t,{suggestDataSource:{}});b.fn.init.call(a,e[0],t);if(f)a.options.suggestDataSource=f;t=a.options;i=a.dataSource=t.dataSource;a.model=i.reader.model;l=t.type=y;var c=m.getter("reader.model.fields",true)(i)||{};var g=c[t.field];if(g&&g.type)l=t.type=g.type;if(t.values)t.type=l=k;n=n[l]||t.operators[l];if(!p.operator)for(d in n){t.operator=d;break}a._parse=function(e){return e!=null?e+"":e};if(a.model&&a.model.fields){var u=a.model.fields[t.field];if(u)if(u.parse)a._parse=u.parse.bind(u)}a.defaultOperator=t.operator;a.viewModel=o=m.observable({operator:t.operator,value:null,operatorVisible:function(){var e=this.get("value");return e!==null&&e!==h&&e!="undefined"||_(this.get("operator"))&&a.dataSource.filter()&&!a._clearInProgress}});a._prevOperator=t.operator;o.bind(w,a.updateDsFilter.bind(a));if(l==y)a.initSuggestDataSource(t);if(t.inputWidth!==null){s.addClass("k-sized-input");s.width(t.inputWidth)}s.attr("aria-label",a._getColumnTitle());s.attr("title",a._getColumnTitle());a._setInputType(t,l);if(l!=S&&t.showOperators!==false)a._createOperatorDropDown(n);else{v('<div unselectable="on" />').css("display","none").text("eq").appendTo(r);r.addClass("k-operator-hidden")}a._createClearIcon();m.bind(this.wrapper,o);if(l==y)if(!t.template)a.setAutoCompleteSource();if(l==k)a.setComboBoxSource(a.options.values);a._refreshUI();a._refreshHandler=a._refreshUI.bind(a);a.dataSource.bind(w,a._refreshHandler)},_setInputType:function(e,t){var r=this,a=r.input;if(typeof e.template=="function"){e.template.call(r.viewModel,{element:r.input,dataSource:r.suggestDataSource});r._angularItems("compile")}else if(t==y)a.attr(m.attr("role"),"autocomplete").attr(m.attr("text-field"),e.dataTextField||e.field).attr(m.attr("filter"),e.suggestionOperator).attr(m.attr("delay"),e.delay).attr(m.attr("min-length"),e.minLength).attr(m.attr("value-primitive"),true);else if(t=="date")a.attr(m.attr("role"),"datepicker").attr("id",m.guid());else if(t==S){a.remove();var i=v("<input type='radio'/>");var o=r.wrapper;var l=m.guid();var n=v("<label/>").text(e.messages.isTrue).append(i);i.attr(m.attr("bind"),"checked:value").attr("name",l).val("true");var s=n.clone().text(e.messages.isFalse);i.clone().val("false").appendTo(s);o.append([n,s])}else if(t=="number")a.attr(m.attr("role"),"numerictextbox").attr("title",r._getColumnTitle());else if(t==k)a.attr(m.attr("role"),"combobox").attr(m.attr("text-field"),"text").attr(m.attr("suggest"),true).attr(m.attr("filter"),"contains").attr(m.attr("value-field"),"value").attr(m.attr("value-primitive"),true)},_getColumnTitle:function(){var e=this.options.column;return e?e.title||e.field:""},_createOperatorDropDown:function(t){var e=[],r=this.viewModel;for(var a in t)e.push({text:t[a],value:a});var i=v('<input class="k-dropdown-operator" '+m.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);i.attr("aria-label",this._getColumnTitle());this.operatorDropDown=i.kendoDropDownList({dataSource:e,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");r.bind("change",function(){var e=t[r.operator];i.attr("aria-label",e)});this.operatorDropDown.wrapper.attr("aria-label",this._getColumnTitle()).find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-i-filter")},initSuggestDataSource:function(e){var t=e.suggestDataSource;if(!(t instanceof a)){if(!e.customDataSource&&t){t.group=h;t.filter=h}t=this.suggestDataSource=a.create(t)}if(!e.customDataSource){t._pageSize=h;t.reader.data=n(t.reader.data,this.options.field)}this.suggestDataSource=t},setAutoCompleteSource:function(){var e=this.input.data("kendoAutoComplete");if(e)e.setDataSource(this.suggestDataSource)},setComboBoxSource:function(e){var t=a.create({data:e});var r=this.input.data("kendoComboBox");if(r&&!this.options.template)r.setDataSource(t)},_refreshUI:function(){var e=this,t=l(e.dataSource.filter(),this.options.field)||{},r=e.viewModel;e.manuallyUpdatingVM=true;t=v.extend(true,{},t);if(e.options.type==S)if(r.value!==t.value)e.wrapper.find(":radio").prop("checked",false);if(t.operator)r.set("operator",t.operator);r.set("value",t.value);if(v.isEmptyObject(t))r.trigger(w,{field:"operatorVisible"});e.manuallyUpdatingVM=false},_applyFilter:function(e){if(e.filters.length)this.dataSource.filter(e);else this.dataSource.filter({})},updateDsFilter:function(e){var t=this,r=t.viewModel,a;if(e.field=="operator"&&r.value===h&&!_(r)&&_(t._prevOperator)){a=t.dataSource.filter()||{filters:[],logic:"and"};s(a,t.options.field);t._prevOperator=r.operator;t._applyFilter(a);return}if(t.manuallyUpdatingVM||e.field=="operator"&&r.value===h&&!_(r)||e.field=="operator"&&t._clearInProgress&&r.value!==null)return;var i=v.extend({},t.viewModel.toJSON(),{field:t.options.field});t._prevOperator=i.operator;var o={logic:"and",filters:[]};var l=false;if(i.value!==h&&i.value!==null||_(i)&&!this._clearInProgress){o.filters.push(i);l=t.trigger(w,{filter:o,field:t.options.field})}if(t._clearInProgress||i.value===null)l=t.trigger(w,{filter:null,field:t.options.field});if(l)return;var n=t._merge(o);t._applyFilter(n)},_merge:function(e){var t=this,r=e.logic||"and",a=e.filters,i,o=t.dataSource.filter()||{filters:[],logic:"and"},l,n;s(o,t.options.field);for(l=0,n=a.length;l<n;l++){i=a[l];i.value=t._parse(i.value)}a=v.grep(a,function(e){return e.value!==""&&e.value!==null||_(e)});if(a.length)if(o.filters.length){e.filters=a;if(o.logic!=="and"){o.filters=[{logic:o.logic,filters:o.filters}];o.logic="and"}if(a.length>1)o.filters.push(e);else o.filters.push(a[0])}else{o.filters=a;o.logic=r}return o},_createClearIcon:function(){var e=this;v("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' title = '"+e.options.messages.clear+"'/>").attr("aria-label",e.options.messages.clear).attr(m.attr("bind"),"visible:operatorVisible").html("<span class='k-button-icon k-icon k-i-filter-clear'></span>").on("click",e.clearFilter.bind(e)).appendTo(e.wrapper)},clearFilter:function(){this._clearInProgress=true;if(_(this.viewModel.operator))this.viewModel.set("operator",this.defaultOperator);this.viewModel.set("value",null);this._clearInProgress=false},_angularItems:function(e){var t=this.wrapper.closest("th").get();var r=this.options.column;this.angular(e,function(){return{elements:t,data:[{column:r}]}})},destroy:function(){var e=this;e.filterModel=null;e.operatorDropDown=null;e._angularItems("cleanup");if(e._refreshHandler){e.dataSource.bind(w,e._refreshHandler);e._refreshHandler=null}m.unbind(e.element);b.fn.destroy.call(e);m.destroy(e.element)},events:[w],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:h,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:e,neq:t,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:e,neq:t,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:e,neq:t,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:e,neq:t,isnull:"Is null",isnotnull:"Is not null"}}}});return i.plugin(u),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,r){(r||t)()});
//# sourceMappingURL=kendo.filtercell.min.js.map
